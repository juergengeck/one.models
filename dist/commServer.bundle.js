!function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=141)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createError=function(e,t){const n=new Error,r=a[e]||e;Object.prototype.hasOwnProperty.call(a,e)&&(n.code=e);(0,u.isObject)(t)?((0,u.isString)(t.stack)?Object.assign(n,t,{stack:`Original stack: ${t.stack}\nNew stack: ${n.stack}`}):Object.assign(n,t),r===e&&(0,u.isString)(t.message)?n.message=`${e}: ${t.message}`:(n.message=`${e}: ${d(r,t)}`,(0,u.isString)(t.message)&&(n.message+="\nOriginal message: "+t.message)),void 0===t.name||(0,u.isString)(t.name)&&t.name.endsWith("Error")||(n.message=d(a.ERROR_ERROR,{additionalProps:t,msg:n.message}))):n.message=`${e}: ${r}`;return n};var r=n(57),u=n(1);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2019
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const a={DUMMY:"This is a dummy error in stub functions in system code files only used during development. If this error shows up the application was not build correctly.",ERROR_ERROR:'THE ERROR MESSAGE ITSELF HAS A PROBLEM:\n\nThe createError() 2nd parameter has an object property "name" that would\nset the Error object\'s "name" property. However, it does not seem to be a\nvalid name for an Error (it should be a CamelCaseError string that endswith "Error").\n\nThe 2nd createError parameter object: $additionalProps\n\nActual error message below:\n\n$msg`;\n',"ACC-CP1":"Invalid Set-Access request parameters: $accessRequest","CEC-SAOE1":"Expected undefined, got $response","CES-RFAO1":"Bad request: expected options object","CES-RFAO2":'Local and remote setting for "keepRunning" differ, local: $keepRunningLocalSetting, remote: $keepRunning',"CES-SENDR1":'Bad request: Invalid "type" parameter: $type',"CES-SENDB1":'Bad request: Invalid "encoding" parameter: $encoding',"CES-SENDB2":"Unauthorized, BLOB $hash","CES-SENDB3":"This object was already sent previously, BLOB $hash","CES-SENDO1":"Unauthorized, obj $hash","CES-SENDO2":"This object was already sent previously, $hash","CES-SENDO3":"Requested file is not a ONE microdata object","CI-EAOED1":"Bad request: Invalid data: $data","CI-PHFN1":"Chum import: No recipe for $type","CIRF-AUTH1":"Expected undefined, got $response","CIRF-AOER1":"Expected undefined, got $response","CIRF-GRR1":"Expected ONE Recipe object microdata string, got $type","CIRF-GOR1":"Expected ONE object microdata string, got $type","CIRF-GOR2":"Microdata hash mismatch, expected: $hash, actual: $calculatedHash","CIRF-GBR1":"Expected FileCreation object, got $blobResult","CIRF-GBR2":"Blob hash mismatch, expected: $hash, actual: $resultHash","CIRF-ACK1":"Expected undefined, got $response","CR-RS1":"Maximum length is 65,536, but we got $length","EVS-CR1":"Function is already subscribed","EVS-CR2":"Function is not subscribed","ID-CO1":"Argument is an array but creation of multiple objects requires spreading; argument: $objs","IN-AUTH1":'Authentication of owner $owner failed because there should be exactly one "Keys" object, but we found $nr',"IN-AUTH2":"Authentication failed for owner with ID $owner","IN-INIT1":'Instance "$iName" is already active',"IN-INIT2":'Instance "$iName" initialization aborted: no "secret" is given',"INU-CRO1":"Expected Array of Module objects: $modules","M2J-PV1":"Expected end tag $endStr not found at $nr","M2J-PND1":'Value for property "$itemprop" is missing but "optional" flag is not set',"M2J-PND2":"Expected end-tag $endStr not found (position: $pos), Microdata: $html","M2J-PD1":'Value for property "$itemprop" is missing but "optional" flag is not set',"M2J-PO1":"Found no start and/or end tag","M2J-PO2":"Expected end-tag $endStr not found (position: $newPosition), Microdata: $html","M2J-CONV1":"Mandatory string parameter (HTML) missing","M2J-CONV2":"Failed to parse $nr characters","M2IH-FET1":"Did not find end tag; Starting from position $position in $html","M2IH-XID1":'Did not find ID property "$itemprop" in $microdata',"M2O-PV1":'Property "$itemprop" is not a valid hash: "$valueStr"',"M2O-PV2":"Expected end tag $endStr not found at $position","M2O-PV3":'Value "$value" does not match RegExp $regexp',"M2O-PND1":'Value for property "$itemprop" is missing, but there is no "optional" flag',"M2O-PND2":"Expected end-tag $endStr not found (position: $position); Microdata: $html","M2O-PD1":'Value for property "$itemprop" is missing but there is no "optional" flag;\nMicrodata: $html',"M2O-PHM1":"Expected type $expectedType, got $type;\nMicrodata: $html","M2O-PIH1":'Parameter "itemprop" is undefined, html: $html',"M2O-PH1":"This does not look like valid ONE microdata: $html","M2O-POM1":"Expected end-tag $endStr not found (position: $position), Microdata: $html","M2O-PCONV1":"Mandatory string parameter (HTML) missing","M2O-PCONV2":"Failed to parse the last $nr characters in $html","MB-ON1":'This function is already registered for "$type" events',"MB-CRMB1":'Required parameter "moduleId"" missing',"MB-CRMBID1":'Required parameter "moduleId"" missing',"MEX-PV2":"Expected end tag $endStr not found at $pos","MEX-PV3":'Value "$value" does not match RegExp $regexp',"MEX-PND1":'Value for property "$itemprop" is missing but "optional" flag is not set',"MEX-PND2":"Expected end-tag $endStr not found (position: $newPosition), Microdata: $html","MEX-PD1":'Value for property "$itemprop" is missing but "optional" flag is not set',"MEX-PHD1":"Expected type $expected, got $type;\nMicrodata: $html","MEX-PHA1":"Expected data-hash attribute at $position not found;\nMicrodata: $html","MEX-PIH1":'Parameter "itemprop" is undefined',"MEX-PIH2":'Expected string "$expected" at $idHashEnd not found;\nMicrodata: $html',"MEX-PH1":"This does not look like valid ONE microdata: $html","MEX-PIO1":"Expected end-tag $endStr not found (position: $dataEnd), Microdata: $html","MEX-PIO2":"Hash mismatch, expected hash/idHash $hash/$idHash, got $rHash/$rIdHash","MEX-PIO3":"Expected a versioned object, got $type","MEX-PO1":"Expected end-tag $endStr not found (position: $dataEnd), Microdata: $html","MEX-PO2":"Failed to parse $nr characters","MEX-PEXPL1":"Mandatory string parameter (HTML) missing","MIMP-FRH1":'Failed matching the data-type attribute of the "a" HTML tag for a hash link;\nitemprop: $itemprop, position: $position, microdata: $microdata"',"MIMP-FRH5":'Failed to parse a hash in the "a" HTML tag for a hash link;\nitemprop: $itemprop", position: $position, microdata: $microdata',"MIMP-GF10":"Impossible - This is not supposied to ever happen. Something is very wrong with the (micro)data the microdata-imploder or both. itemprop: $itemprop, reference: $reference","MIMP-MAPF1":'No rule for "$itemprop" found in recipe for "$objType"',"MIMP-IMPL1":"The given parameter does not contain a ONE object","ML-RN":"Core module with name $module not in switch case statment.","ML-RM1":"No exports for $mName ($translatedPath) found.","ML-LMFS1":'"code" is undefined in Module $moduleObj',"ML-L1":'Mandatory parameter "name" must be a string',"OGI-ERR":'Object-Graph-Iterator: StopIteratorError stops the iteraton and by itself is not a "real" error',"OGI-WALK1":'"hash" must not be undefined',"O2M-INCLOB":'Expected "$refType", got "$type": $objects\nIf this is an IMPLODED OBJECT explode it first',"O2M-CBAS0":'Value for hash-link itemprop "$itemprop" should be SHA-256 hash (lower case hex 64 characters), Value: $val',"O2M-CBAS1":'Value for itemprop "$itemprop" should be of type "$type", Value: $val',"O2M-CBAS2":'Unexpected object as value for itemprop "$itemprop": ", Value: $val',"O2M-CBAS3":'Property "$itemprop" is not a valid hash: "$val"',"O2M-CBAS4":'Property "$itemprop" value "$val" does not match RegExp $regexp',"O2M-CVAL1":'Mandatory property "$itemprop" missing; Rule: $rule;\nValue: $val',"O2M-CVAL2":'Property "$itemprop" should not be array; Rule: $rule',"O2M-CVAL3":'Property "$itemprop" should be an array; Rule: $rule}',"O2M-COBJ1":"Cannot make ID object from unversioned obj. $obj","O2M-COBJ2":"Unknown properties $objProperties in $obj","O2M-CONV":"Parameter must be an object","OR-ET1":'Type "$type" not found in recipes',"OR-GR1":'Type "$type" not found in recipes',"OR-ADDR1":'A recipe for type "$rName" already exists',"OR-ISVO1":'Type "$type" not found in recipes',"OR-EVO1":'Type "$type" is not a versioned object type',"PER-CPV1":"Expecting a versioned object result, but there is no ID hash in previous Plan result $previousResult","PER-EPP1":"No returns were recorded for plan $planHash","PER-EPP2":"No object creation was recorded for plan $planHash","PER-EPP3":"While recreating the result of Plan $planHash: Hash $objHash not found in the results of the previous Plan object","PL-NP1":"Previous tmp. Plan $planHash module $module already exists; Either the Plan previously failed and was aborted, or it is already being run","PL-NP2":"In Plan $planHash module $module has no createObjects() function","PL-NP3":"Result of Plan $planHash not of type AnyObjectCreation[] and/or not found in the recorded object writes\nPlan result: $returnedResults","PL-CPLP1":'Mandatory paremeter "planOptions" (object) is missing',"PL-CPLP2":'Invalid version map policy $policy.\nThe version map policy parameter must be an object. The keys must be valid (known)ONE object types or "*" for a default policy.',"PL-SOPP1":"Plan module $module returned $nr objects instead of 1","PL-SOIP1":"Plan module $module returned $nr objects instead of 1","PSA-SO1":"Plan module $module returned $nrResults objects instead of 1","RMQ-AVMC1":"The given type is not a versioned object type. ID hash: $hash, Type: $type","RMQ-AV1":'The given map filename "$mapName" is an invalid reverse map name',"RMQ-FL1":"This reverse map is not for a versioned object","RMQ-AE1":'The given map filename "$mapName" is an invalid reverse map name',"RMU-CE1":"Missing (one or more of the) required parameters, fromHash: $fromHash, fromIdHash: $fromIdHash, toHash: $toHash ($toType)","RMU-CE2":'Type "$toType" is a versioned object but (5th param) toIdHash is undefined fromHash: $fromHash, fromIdHash: $fromIdHash, toHash: $toHash',"RMU-RE1":"Missing required parameters, mapName: $mapName, toHash: $toHash","SB-NO-INIT":"Storage not initialized","SB-CRLVL1":"Too many subdirectory levels, maximum number supported is $max, but got $val","SB-INIT3":"Instance with ID hash $hash does not exist","SB-INIT4":"Parameter nHashCharsForSubDirs is $nHashCharsForSubDirs - but only 0 (or undefined) is supported on this platform","SB-INIT5":"Storage encryption is unsupported on this platform","SB-INIIT11":'Upgrade of database "$dbName" blocked by open connections',"SB-INIIT12":'Error opening database "$dbNme"',"SB-INIIT13":'Opening of database "$dbName" aborted',"SB-INIIT14":'Opening of database "$dbName" aborted: Unexpected close event',"SB-READ":"Error while trying to read file $filename [$type]: $err","SB-READ1":"No filename given","SB-READ2":"File not found: $filename [$type]","SB-RD-NOSTR":"Requested file is not a string, filename: $filename","SB-WRITE1":"No contents given","SB-WRITE2":"No filename given","SB-WRITEM1":"No contents given","SB-WRITEM2":"No filename given","SB-WRITEM3":'Appending to files only supported for version-map and for reverse-map (not for "$type")',"SB-APPEND1":"No contents given","SB-APPEND2":"No filename given","SB-APPEND3":'Appending to files only supported for version-map and for reverse-map (found "$type")',"SB-GETN1":"No filename given","SB-GETN2":"File not found: $filename [objects]","SB-EXISTS":"No filename given","SB-STORE":"String undefined or it has zero length","SB-STUV":"Not implemented","SBD-DEL1":"No filename given [$type]","SRH-AEMAP1":'Trying to add type "$type" twice to the list of types for which reverse maps should be created; with values (properties) of: $props',"SST-MV1":"File name is missing (old, new, or both); old: $oldName, new: $newName","SST-MV2":"File not found: $filename [tmp]","SST-MV3":"File not found: $filename [tmp]","SST-MV7":"The target of the move already exists and is not a regular file while trying to move $old to $new","SST-CR1":"No filename given","SST-CR2":"Only one event listener allowed","SST-CR3":"File not found: $filename [objects]","SST-CR6":"Cancel stream","SST-CW2":'Received string chunk with encoding=undefined: Use "utf8" encoding for UTF-8 streams and "base64" for binary streams if chunks are strings',"SST-CW3":'Writing to binary file with encoding="$encoding": Use _no_ encoding (undefined) if chunks are ArrayBuffers',"SST-CAN":"Write stream was canceled","SST-EMIT1":'Requesting UTF-8 file $hash with encoding="$encoding": Use "utf8" instead',"SST-EMIT2":'Requesting binary file $hash with encoding="utf8": Use "base64" or no encoding instead',"SST-ENDED":"Stream already ended","SST-END1":"No data was received, no file was created","SST-WTYPE":"First chunk was $typeofFirstChunk but new chunk is $typeofData","SUO-SO1":'Object type "$type" is versioned. This function only stores unversionedobjects. Versioned objects require updating their version map. Object: $obj',"SVO-SO1":'Parameter must be an object but is "$type", value: $obj',"SVO-SO2":"The given object is not a versioned object type. Object $obj","SVO-GET1":"Object $hash of type $type is not a versioned object","VMQ-GNTH1":"Index $newIndex is too $sOrL, nr. of entries $total","VMU-CP1":"Required parameters should be hashes, mapHash: $idHash, planHash: $planHash, objectHash: $objectHash","WSP-ESV":'Key "$key" value $value ("$typeofValue") is not allowed',"WSP-CRWS1":'Mandatory parameter "WriteStorage" is missing or does not have a function "createFileWriteStream"; value: $WriteStorage',"WSP-CRWS2":"There are no services for channel $channel","WSP-CRWS3":"There are no services for channel $channel","WSP-CRWS4":"There are no services for channel $channel","WSP-SN1":"Websocket has not been created yet (undefined)","WSP-SN2":"Connection is not open","WSP-SN3":'"type" must be a number > 0 but is $type ($typeofType)',"WSP-SN4":"Error on sending message over an encrypted connection","WSP-CL":"Websocket has not been created yet (undefined)","WSP-CTO":"Connection timeout","WSP-ONCL":"$reason","WSP-ERR":"Unspecified error","WSRQ-CRSTH1":"Read stream already exists for #$id","WSRQ-CWRST1":"Write stream already exists for request #$responseId","WSRQ-SEH1":"Remote ReadStream failed. While receiving a stream we received an error from the sender. Message: $msg","UFU-THROTT1":"UNHANDLED EXCEPTION: No onError callback","ULR-FNL1":"Rule name $ruleName found twice","ULR-FLR1":"No inheritFromNamedRule (impossible to get here)","ULR-FLR2":'Link to non-existent rule "$rule"',"ULRU-CRM1":"maxSize parameter $maxSize ($type) is too small or not a number","UO-TFM1":"No type detected in $microdata","UO-TRACKP1":'Access to "$key" denied: Reference to a mutable object',"UO-TRACKP2":'Write access to "$key" denied',"UP-SETTL1":"A promise handled by allSettled() rejected with a non-Error value: $reason","UP-RETR1":"Parameter must be a function but is $type","UP-SER1":"Expected functions as parameters","UP-SERWT1":"Expected functions as parameters","UQ-DEQ":"Queue is empty","UQ-DEQN":"Queue does not have enough elements","USS-STR1":"Object cannot be stringified because it has a circle; property: $property","USS-STR4":"Promise, Function or Symbol are not allowed: $obj","UPR-TO1":"A timeout delay of 0 is hard to predict and therefore not allowed. Does it mean the timeout should occur right away without waiting for the promise?","UPR-TO":"Timeout: $txt","US-SSFMC1":"Start and length must be non-negative integers; start: $start, length: $length, string: $s","UTC-EHASH":'Value "$thing" is not a SHA-256 hash',"UTC-AHASH":"Expected Array<SHA256Hash>, got $thing","URC-EREF":'Value "$thing" is not a ONE Reference object',"URC-RRP1":'No "Recipe" recipe',"URC-RRP2":"Cannot find the nested RecipeRule objects array in Recipe recipe","URC-ERECI1":'Not an object but "$type"',"URC-ERECI2":'Rule #$index "isId" is set but not allowed in a nested rule',"URC-ERECI3":"Rule #$index has an unknown property $prop","URC-ERECI4":'Rule #$index: "$prop" is missing but is not marked as optional',"URC-ERECI5":'Rule #$index: "$prop" must be $valueType but is $propType',"URC-ERECI6":'Rule #$index: "$prop" must be a Map but is $oName',"URC-ERECI7":'Rule #$index: "$prop" must be a Set but is $oName',"URC-ERECI8":'Rule #$index: mandatory "itemprop" must not contain <, >, ., or whitespace',"URC-ERECI9":'"list" must be one of undefined, $optVals but is $thingList',"URC-ERECI10":'"isId" and "optional" cannot both be true since ID properties are mandatory',"URC-ERECI12":'Only one of "referenceToObj", "referenceToId", "referenceToBlob" or "referenceToClob" can be used in one rule. Rule: $rule',"URC-ERECI13":'Only one of "name" or "inheritFromNamedRule" can be used in one rule',"URC-ERECI14":'Rule #$index: "referenceToObj" must be a Set of ONE object type strings or "*",\nbut it is currently set to $ref ($oName)',"URC-ERECI15":'Rule #$index: "referenceToId" must be a Set of ONE object type strings or "*",\nbut it is currently set to $ref ($refName)',"URC-ERECI16":'Rule #$index: "referenceToBlob" must be boolean,\nbut it is currently set to  $ref ($refName)',"URC-ERECI17":'Rule #$index: "referenceToClob" must be boolean,\nbut it is currently set to  $ref ($refName)',"URC-ERECI18":'Rule #$index: Only one of "referenceToObj", "referenceToBlob", "referenceToClob", "referenceToId" can be used',"URC-ERECI19":'Rule #$index: optional "valueType" must be one of $jsTypeStrings but is $valueType',"URC-ERECI20":'Rule #$index: when "valueType" is "object" (i.e. JSON) also setting "list" is useless: You get the entire array stored anyway, just as a single value (JSON); Rule: $thing',"URC-ERECI21":'Rule #$index: "regexp" can only be used on properties with string values; Rule: $thing',"URC-ERECI22":'Rule #$index: "regexp" is not a RegExp object $thing',"URC-ERECI23":'Rule #$index: optional "rule" must be non-empty array of RecipeRule objects; Property "rule": $rule',"URC-ERECI24":'Rule #$index: "rule" can only be combined with [$allowed]; All keys: [$thingKeys]',"URC-ERECI25":'Rule #$index, itemprop "$itemprop": Property "rule" exists but its value is "undefined" - While this could be intentional it could also be a signe of a mistake, for example when an array of rules is imported from another module but because of a circular reference issue ends up being undefined.',"URC-ERECI26":'Rule #$index, itemprop "$itemprop": This nested object rule creates a circle and infinite recursion. ONE object recipes must be tree structured without circles.',"URC-CIT1":'"$itemprop" found more than once in rules',"URC-ERCP1":'Not an object but "$type"',"URC-ERCP2":'Not a "Recipe" object but "$type"',"URC-ERCP3":'Type "$recipeName" must not be empty or contain <, > or whitespace',"URC-ERCP4":'Recipe for "$recipeName" must be array of RecipeRule'};function d(e,t){return e.replace(/\$([A-Za-z_0-9]+)/g,(e,n)=>(0,u.isObject)(t[n])?(0,r.stringifyWithCircles)(t[n]):void 0===t[n]?"undefined":t[n])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function(e){return"object"==typeof e&&null!==e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isFunction=function(e){return"function"==typeof e},t.getObjTypeName=function(e){return Object.prototype.toString.call(e).slice(8,-1)}},function(e,t,n){var r=n(14),u=n(11),a=n(118),d=n(25).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});u(t,e)||d(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(8),u=n(74),a=n(11),d=n(75),o=n(76),i=n(106),s=u("wks"),c=r.Symbol,f=i?c:c&&c.withoutSetter||d;e.exports=function(e){return a(s,e)||(o&&a(c,e)?s[e]=c[e]:s[e]=f("Symbol."+e)),s[e]}},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";var r=n(8),u=n(99).f,a=n(156),d=n(14),o=n(70),i=n(19),s=n(11),c=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,f,l,p,h,m,g,b,y=e.target,D=e.global,E=e.stat,v=e.proto,_=D?r:E?r[y]:(r[y]||{}).prototype,w=D?d:d[y]||(d[y]={}),S=w.prototype;for(l in t)n=!a(D?l:y+(E?".":"#")+l,e.forced)&&_&&s(_,l),h=w[l],n&&(m=e.noTargetGet?(b=u(_,l))&&b.value:_[l]),p=n&&m?m:t[l],n&&typeof h==typeof p||(g=e.bind&&n?o(p,r):e.wrap&&n?c(p):v&&"function"==typeof p?o(Function.call,p):p,(e.sham||p&&p.sham||h&&h.sham)&&i(g,"sham",!0),w[l]=g,v&&(s(d,f=y+"Prototype")||i(d,f,{}),d[f][l]=p,e.real&&S&&!S[l]&&i(S,l,p)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageBus=i,t.createWithRunningId=function(e){if(void 0===e)throw(0,r.createError)("MB-CRMBID1");const t=e.endsWith(".js")?e.slice(0,-3):e;let n=s.get(t);void 0===n||n===Number.MAX_SAFE_INTEGER?n=0:n+=1;return s.set(t,n),i(`${t}-${n}`)};var r=n(0);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */const u=new Map;function a(e,t){let n=u.get(e);if(n instanceof Set){if(n.has(t))throw(0,r.createError)("MB-ON1",{type:e})}else n=new Set,u.set(e,n);n.add(t)}function d(e,t){a(e,(function n(...r){o(e,n),t(e,...r)}))}function o(e,t){const n=u.get(e);n instanceof Set&&n.delete(t)}function i(e){if(void 0===e)throw(0,r.createError)("MB-CRMB1");const t=e.endsWith(".js")?e.slice(0,-3):e;return{id:t,on:a,once:d,remove:o,send:(e,...n)=>function(e,t,...n){const r=[],a=u.get(e+":"+t);a instanceof Set&&r.push(...a.values());const d=u.get(t);d instanceof Set&&r.push(...d.values());for(const t of r)t(e,...n)}(t,e,...n)}}const s=new Map},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStorageDirForFileType=function(e){if(""===D.objects)throw(0,a.createError)("SB-NO-INIT");return D[e]},t.normalizeFilename=_,t.initStorage=async function({instanceIdHash:e,wipeStorage:t=!1,name:n="data",nHashCharsForSubDirs:r=0,encryptStorage:d=!1,secretForStorageKey:o}){if(d)throw(0,a.createError)("SB-INIT5");const i=(0,u.join)(n.startsWith("/")?"/":"",...n.split("/")),s=(0,u.join)(i,e);for(const e of Object.keys(D))D[e]=(0,u.join)(s,e);const c=await v(s);c&&t&&await b(s,{recursive:!0,maxRetries:3});c&&!t||await async function(e){if(await Promise.all(Object.values(D).map(e=>p(e,{recursive:!0}).catch(e=>{if("EEXIST"!==e.code)throw(0,a.createError)("SB-MKDIRS",e)}))),await l(D.private,448),0===e)return;if(e>4||e<0)throw(0,a.createError)("SB-CRLVL1",{max:4,val:e});E=e;for(let t=0;t<16**e;t++)await p((0,u.join)(D.objects,t.toString(16).padStart(e,"0")))}(r)},t.readUTF8TextFile=async function(e,t="objects"){if(void 0===e)throw(0,a.createError)("SB-READ1");return await m(_(e,t),"utf8").catch(n=>{if("ENOENT"===n.code)throw(0,a.createError)("SB-READ2",{name:"FileNotFoundError",filename:e,type:t});throw(0,a.createError)("SB-READ",n)})},t.writeUTF8TextFile=w,t.writeUTF8SystemMapFile=async function(e,t,n){if(void 0===e)throw(0,a.createError)("SB-WRITEM1");if(void 0===t)throw(0,a.createError)("SB-WRITEM2");if("reverse-maps"!==n&&"version-maps"!==n)throw(0,a.createError)("SB-WRITEM3",{type:n});return await y((0,u.join)(D[n],t),e).then(()=>d.CREATION_STATUS.NEW).catch(e=>{throw(0,a.createError)("SB-WRITEM",e)})},t.appendUTF8SystemMapFile=async function(e,t,n){if(void 0===e)throw(0,a.createError)("SB-APPEND1");if(void 0===t)throw(0,a.createError)("SB-APPEND2");if("reverse-maps"!==n&&"version-maps"!==n)throw(0,a.createError)("SB-APPEND3",{type:n});return await f((0,u.join)(D[n],t),e).then(()=>d.CREATION_STATUS.NEW).catch(e=>{throw(0,a.createError)("SB-APPEND",e)})},t.getNCharacters=S,t.exists=async function(e,t="objects"){if(void 0===e)throw(0,a.createError)("SB-EXISTS");return await v(_(e,t))},t.listAllObjectHashes=async function(){if(0===E)return await g(D.objects).catch(e=>{throw(0,a.createError)("SB-LH",e)});const e=await g(D.objects).catch(e=>{throw(0,a.createError)("SB-LH",e)}),t=await Promise.all(e.map(e=>g((0,u.join)(D.objects,e)).catch(e=>{throw(0,a.createError)("SB-LH",e)})));return(0,o.flat)(t)},t.listAllIdHashes=async function(){return await g(D["version-maps"]).catch(e=>{throw(0,a.createError)("SB-LIH",e)})},t.listAllReverseMapNames=async function(){return await g(D["reverse-maps"]).catch(e=>{throw(0,a.createError)("SB-LM",e)})},t.getFileType=async function(e){const t=await S(e);return(0,i.getTypeFromMicrodata)(t)},t.storeUTF8Clob=async function(e){if(void 0===e||0===e.length)throw(0,a.createError)("SB-STORE");const t=await(0,s.createCryptoHash)(e),n=await w(e,t);return{hash:t,status:n}};var r=n(15),u=n(4),a=n(0),d=n(12),o=n(91),i=n(58),s=n(42);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const{access:c,appendFile:f,chmod:l,mkdir:p,open:h,readFile:m,readdir:g,rmdir:b,writeFile:y}=r.promises,D={objects:"",tmp:"","reverse-maps":"","version-maps":"",private:""};let E=0;async function v(e){return await c(e,r.constants.F_OK).then(()=>!0).catch(e=>{if("ENOENT"===e.code)return!1;throw(0,a.createError)("SB-EXISTS",e)})}function _(e,t="objects"){return"objects"===t&&E>0?(0,u.join)(D[t],e.substring(0,E),e):(0,u.join)(D[t],e)}async function w(e,t,n="objects"){if(void 0===e)throw(0,a.createError)("SB-WRITE1");if(void 0===t)throw(0,a.createError)("SB-WRITE2");return await y(_(t,n),e,{flag:"wx"}).then(()=>d.CREATION_STATUS.NEW).catch(e=>{if("EEXIST"===e.code)return d.CREATION_STATUS.EXISTS;throw(0,a.createError)("SB-WRITE",e)})}async function S(e,t=0,n=100){if(void 0===e)throw(0,a.createError)("SB-GETN1");const r=await h(_(e),"r").catch(t=>{if("EEXIST"===t.code)throw(0,a.createError)("SB-GETN2",{name:"FileNotFoundError",filename:e});throw(0,a.createError)("SB-GETN3",t)}),u=await r.read(Buffer.alloc(n),0,n,t).catch(e=>{throw(0,a.createError)("SB-GETN4",e)});return await r.close().catch(e=>{throw(0,a.createError)("SB-GETN5",e)}),u.buffer.toString("utf8")}},function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasRecipe=function(e){return s.has(e)},t.ensureValidTypeName=function(e){if(s.has(e))return e;throw(0,r.createError)("OR-ET1",{type:e})},t.getRecipe=function(e){const t=s.get(e);if(t)return t;throw(0,r.createError)("OR-GR1",{type:e})},t.addRecipeToRuntime=p,t.removeRecipeFromRuntime=function(e){if(f.has(e))return!1;return s.delete(e)},t.isVersionedObjectType=function(e){return l.has(e)},t.isVersionedObject=function(e){return l.has(e.$type$)},t.ensureVersionedObjectTypeName=function(e){if(l.has(e))return e;throw(0,r.createError)("OR-EVO1",{type:e})},t.getKnownTypes=function(){return Array.from(s.keys())},t.resolveRuleInheritance=function(e){const t=c.get(e);if(void 0===t)return e;return t},t.UTF8=t.BINARY=void 0;var r=n(0),u=n(6),a=n(90),d=n(133),o=n(330);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const i=(0,u.createMessageBus)("object-recipes");t.BINARY="BLOB";t.UTF8="CLOB";const s=new Map,c=new Map,f=new Set,l=new Set;function p(e){const t=(0,o.ensureRecipeObj)(e);if(s.has(t.name))throw(0,r.createError)("OR-ADDR1",{rName:t.name});t.rule.some(e=>!0===e.isId)&&l.add(t.name);const n=(0,d.findAllLinkedRules)(t.rule);for(const[e,t]of n)c.set(e,Object.assign({},e,t,{inheritFromNamedRule:void 0}));s.set(t.name,t),i.send("log",`Added recipe for "${t.name}" to the runtime environment`)}for(const e of a.CORE_RECIPES)p(e),f.add(e.name)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTempFileName=function(){return`tmp-${Date.now()}-${r++}`},t.SET_ACCESS_MODE=t.VERSION_UPDATES=t.CREATION_STATUS=void 0;t.CREATION_STATUS={NEW:"new",EXISTS:"exists"};t.VERSION_UPDATES={ALWAYS:1,NONE:2,NONE_IF_LATEST:3,NONE_IF_CREATED_BY_PLAN:4,NONE_IF_LATEST_AND_CREATED_BY_PLAN:5};t.SET_ACCESS_MODE={REPLACE:"replace",ADD:"add"};let r=0},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){e.exports=n(153)},function(e,t,n){var r=n(10);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(18),u=n(25),a=n(37);e.exports=r?function(e,t,n){return u.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(14);e.exports=function(e){return r[e+"Prototype"]}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";e.exports=n(319)},function(e,t){e.exports=require("util")},function(e,t,n){var r=n(69),u=n(38);e.exports=function(e){return r(u(e))}},function(e,t,n){var r=n(18),u=n(101),a=n(21),d=n(47),o=Object.defineProperty;t.f=r?o:function(e,t,n){if(a(e),t=d(t,!0),a(n),u)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(38);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports={}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wait=i,t.timeout=async function(e=1/0,t,n=`[${e} ms]`){if(0===e)throw t.catch(e=>{}),(0,r.createError)("UPR-TO1");if(e===1/0)return await t;return await Promise.race([t,i(e).then(()=>Promise.reject((0,r.createError)("UPR-TO",{name:"TimeoutError",txt:n})))])},t.serializeWithType=async function(e,...t){if(0===t.length)throw(0,r.createError)("UP-SERWT1");let n=c.get(e);n=n instanceof Promise?s((u=n,()=>u),...t):s(...t);var u;return c.set(e,n),n.finally(()=>{c.get(e)===n&&c.delete(e)}).catch(()=>{}),await n.catch(e=>{const t=new Error(e);throw Object.assign(t,e,{stack:`${e.stack}\n${t.stack}`}),t})},t.allSettled=async function(e){return await Promise.all((Array.isArray(e)?e:[...e]).map(e=>e.then(e=>({value:e,status:d.FULFILLED}),e=>({reason:e instanceof Error?e:(0,r.createError)("UP-SETTL1",{reason:e}),status:d.REJECTED}))))},t.retry=async function(e,{delay:t=600,retries:n=3,delayMultiplier:u=1}={delay:600,retries:3,delayMultiplier:1}){if(!(0,a.isFunction)(e))throw(0,r.createError)("UP-RETR1",{type:typeof e});return await async function e(t,n,r,u){try{return await t()}catch(a){if(u>0)return o.send("debug",`Retries left: ${String(u-1)} because of ${a}`),await i(n*r),await e(t,n*r,r,u-1);throw a}}(e,t,u,n)},t.createTrackingPromise=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.catch(e=>{}),{promise:n,resolve:e,reject:t}},t.AllSettledStatus=void 0;var r=n(0),u=n(6),a=n(1);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const d={FULFILLED:"fulfilled",REJECTED:"rejected"};t.AllSettledStatus=d;const o=(0,u.createMessageBus)("util/promise");function i(e=0,t){return new Promise(n=>{setTimeout(n,e,t)})}function s(...e){const t=e.shift();if(void 0===t)throw(0,r.createError)("UP-SER1");let n=t();(0,a.isObject)(n)&&(0,a.isFunction)(n.then)||(n=Promise.resolve(n));let u=n;for(n=n.catch(e=>e);e.length>0;)n=n.then(e.shift()),u=n,n=n.catch(e=>e);return u}const c=new Map},function(e,t,n){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=s(e),d=r[0],o=r[1],i=new a(function(e,t,n){return 3*(t+n)/4-n}(0,d,o)),c=0,f=o>0?d-4:d;for(n=0;n<f;n+=4)t=u[e.charCodeAt(n)]<<18|u[e.charCodeAt(n+1)]<<12|u[e.charCodeAt(n+2)]<<6|u[e.charCodeAt(n+3)],i[c++]=t>>16&255,i[c++]=t>>8&255,i[c++]=255&t;2===o&&(t=u[e.charCodeAt(n)]<<2|u[e.charCodeAt(n+1)]>>4,i[c++]=255&t);1===o&&(t=u[e.charCodeAt(n)]<<10|u[e.charCodeAt(n+1)]<<4|u[e.charCodeAt(n+2)]>>2,i[c++]=t>>8&255,i[c++]=255&t);return i},t.fromByteArray=function(e){for(var t,n=e.length,u=n%3,a=[],d=0,o=n-u;d<o;d+=16383)a.push(c(e,d,d+16383>o?o:d+16383));1===u?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===u&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],u=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=d.length;o<i;++o)r[o]=d[o],u[d.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var u,a,d=[],o=t;o<n;o+=3)u=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),d.push(r[(a=u)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return d.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objectKeys=t.assertSingleKey=t.assertNotStrictEqual=void 0;const r=n(143);t.assertNotStrictEqual=function(e,t,n){r.notStrictEqual(e,t,n)},t.assertSingleKey=function(e){r.strictEqual(typeof e,"string")},t.objectKeys=function(e){return Object.keys(e)}},function(e,t,n){var r=n(72),u=Math.min;e.exports=function(e){return e>0?u(r(e),9007199254740991):0}},function(e,t,n){var r=n(18),u=n(10),a=n(11),d=Object.defineProperty,o={},i=function(e){throw e};e.exports=function(e,t){if(a(o,e))return o[e];t||(t={});var n=[][e],s=!!a(t,"ACCESSORS")&&t.ACCESSORS,c=a(t,0)?t[0]:i,f=a(t,1)?t[1]:void 0;return o[e]=!!n&&!u((function(){if(s&&!r)return!0;var e={length:-1};s?d(e,1,{enumerable:!0,get:i}):e[1]=1,n.call(e,c,f)}))}},function(e,t,n){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeForHtml=c,t.maybeSortAndCreateString=f,t.getHashLinkTypeFromRule=l,t.convertObjToMicrodata=function(e,t=!1){if(!(0,i.isObject)(e))throw(0,r.createError)("O2M-CONV");return function(e,t,n=!1){const a=function(e){return n?e.filter(e=>(0,u.resolveRuleInheritance)(e).isId):e}((0,u.getRecipe)(e.$type$).rule);if(n&&0===a.length)throw(0,r.createError)("O2M-COBJ1",{obj:e});const d=n?new Set:new Set(Reflect.ownKeys(e));d.delete("$type$");const o=["<span"+(""===t?"":` itemprop="${t}"`)+(n?' data-id-object="true"':"")+' itemscope itemtype="http://refin.io/'+e.$type$+'">',...a.map(t=>(d.delete(t.itemprop),h((0,u.resolveRuleInheritance)(t),e[t.itemprop]))),"</span>"].join("");if(d.size>0)throw(0,r.createError)("O2M-COBJ2",{objProperties:d,obj:e});return o}(e,"",t)},t.ID_OBJECT_ATTR=void 0;var r=n(0),u=n(9),a=n(90),d=n(57),o=n(59),i=n(1);t.ID_OBJECT_ATTR='data-id-object="true"';const s=new Set(["string","number","boolean"]);function c(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(e,t=!1){return t?e.sort().join(""):e.join("")}function l(e){return e.referenceToObj instanceof Set?"obj":e.referenceToId instanceof Set?"id":!0===e.referenceToBlob?"blob":!0===e.referenceToClob?"clob":void 0}function p(e,t){const n=l(e);return f(t.map(t=>{if(n){if(!(0,o.isHash)(t))throw(0,r.createError)("O2M-CBAS0",{itemprop:e.itemprop,val:t})}else if(!function(e,t="string"){return"object"===t||("regexp"===t&&"RegExp"===(0,i.getObjTypeName)(e)||("Map"===t&&"Map"===(0,i.getObjTypeName)(e)||("Set"===t&&"Set"===(0,i.getObjTypeName)(e)||(!("string"!==t||!s.has(typeof e)&&null!=e)||s.has(t)&&typeof e===t))))}(t,e.valueType))throw(0,r.createError)("O2M-CBAS1",{itemprop:e.itemprop,type:e.valueType?e.valueType:"string",val:t});let u=t;if((0,i.isObject)(u))switch(e.valueType){case"regexp":u=u.toString();break;case"Map":case"Set":case"object":u=(0,d.stringify)(u);break;default:throw(0,r.createError)("O2M-CBAS2",{itemprop:e.itemprop,val:u})}if(void 0!==e.regexp&&(void 0===u&&e.optional||!e.regexp.test(u)))throw(0,r.createError)("O2M-CBAS4",{itemprop:e.itemprop,val:u,regexp:e.regexp});return u=c(u),n?`<a itemprop="${e.itemprop}" data-type="${n}" href="${u}">${u}</a>`:`<span itemprop="${e.itemprop}">${u}</span>`}),e.list!==a.ORDERED_BY.APP)}function h(e,t){if(null==t){if(e.isId||!0!==e.optional)throw(0,r.createError)("O2M-CVAL1",{itemprop:e.itemprop,rule:e,val:t});return""}if(void 0===e.list&&Array.isArray(t)&&"object"!==e.valueType)throw(0,r.createError)("O2M-CVAL2",{itemprop:e.itemprop,rule:e});if(void 0!==e.list&&!Array.isArray(t))throw(0,r.createError)("O2M-CVAL3",{itemprop:e.itemprop,rule:e});let n=t;return Array.isArray(n)&&"object"!==e.valueType||(n=[n]),Array.isArray(e.rule)?(d=n,o=e.itemprop,i=e.rule,s=e.list!==a.ORDERED_BY.APP,f(d.map(e=>`<span itemprop="${o}">${i.map(t=>h((0,u.resolveRuleInheritance)(t),e[t.itemprop])).join("")}</span>`),s)):p(e,n);var d,o,i,s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeUnversionedObject=async function(e){if((0,a.isVersionedObject)(e))throw(0,r.createError)("SUO-SO1",{type:e.$type$,obj:e});const t=(0,c.clone)(e),n=(0,d.convertObjToMicrodata)(t),u=await(0,s.storeUTF8Clob)(n);(0,o.setIdHash)(u.hash,null),await(0,i.referenceObjectsHandler)(t,u);const l={obj:t,hash:u.hash,status:u.status};return f.dispatch(l),l},t.getObject=async function(e){const t=await(0,s.readUTF8TextFile)(e);return(0,u.convertMicrodataToObject)(t)},t.getObjectWithType=async function(e,t="*"){const n=await(0,s.readUTF8TextFile)(e);return(0,u.convertMicrodataToObject)(n,t)},t.onUnversionedObj=t.unversionedObjEvent=void 0;var r=n(0),u=n(135),a=n(9),d=n(35),o=n(93),i=n(61),s=n(7),c=n(137);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const f=(0,n(94).createEventSource)();t.unversionedObjEvent=f;const l=f.consumer;t.onUnversionedObj=l},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(46);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(85),u=n(25).f,a=n(19),d=n(11),o=n(187),i=n(3)("toStringTag");e.exports=function(e,t,n,s){if(e){var c=n?e:e.prototype;d(c,i)||u(c,i,{configurable:!0,value:t}),s&&!r&&a(c,"toString",o)}}},function(e,t,n){var r=n(85),u=n(46),a=n(3)("toStringTag"),d="Arguments"==u(function(){return arguments}());e.exports=r?u:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:d?u(t):"Object"==(r=u(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCryptoHash=function(e){return Promise.resolve((0,r.createHash)("sha256").update(e,"utf8").digest("hex"))},t.createRandomString=o,t.createRandomSHA256Hash=function(){return o(64,!0)};var r=n(28),u=n(23),a=n(0);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const d=(0,u.promisify)(r.randomBytes);async function o(e=64,t=!1){if(e>65536)throw(0,a.createError)("CR-RS1",{length:e});return await d(e).then(e=>{const n=t?16:64;for(const[t,r]of e.entries())e[t]="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-".charCodeAt(r%n);return e.toString("utf8")})}},function(e,t,n){!function(e){"use strict";var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},r=function(){throw new Error("no PRNG")},u=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var d=t(),o=t([1]),i=t([56129,1]),s=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function m(e,t,n,r,u){var a,d=0;for(a=0;a<u;a++)d|=e[t+a]^n[r+a];return(1&d-1>>>8)-1}function g(e,t,n,r){return m(e,t,n,r,16)}function b(e,t,n,r){return m(e,t,n,r,32)}function y(e,t,n,r){!function(e,t,n,r){for(var u,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,d=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,i=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,h=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,b=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,D=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,E=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,v=a,_=d,w=o,S=i,C=s,O=c,x=f,F=l,A=p,I=h,T=m,P=g,M=b,j=y,R=D,k=E,N=0;N<20;N+=2)v^=(u=(M^=(u=(A^=(u=(C^=(u=v+M|0)<<7|u>>>25)+v|0)<<9|u>>>23)+C|0)<<13|u>>>19)+A|0)<<18|u>>>14,O^=(u=(_^=(u=(j^=(u=(I^=(u=O+_|0)<<7|u>>>25)+O|0)<<9|u>>>23)+I|0)<<13|u>>>19)+j|0)<<18|u>>>14,T^=(u=(x^=(u=(w^=(u=(R^=(u=T+x|0)<<7|u>>>25)+T|0)<<9|u>>>23)+R|0)<<13|u>>>19)+w|0)<<18|u>>>14,k^=(u=(P^=(u=(F^=(u=(S^=(u=k+P|0)<<7|u>>>25)+k|0)<<9|u>>>23)+S|0)<<13|u>>>19)+F|0)<<18|u>>>14,v^=(u=(S^=(u=(w^=(u=(_^=(u=v+S|0)<<7|u>>>25)+v|0)<<9|u>>>23)+_|0)<<13|u>>>19)+w|0)<<18|u>>>14,O^=(u=(C^=(u=(F^=(u=(x^=(u=O+C|0)<<7|u>>>25)+O|0)<<9|u>>>23)+x|0)<<13|u>>>19)+F|0)<<18|u>>>14,T^=(u=(I^=(u=(A^=(u=(P^=(u=T+I|0)<<7|u>>>25)+T|0)<<9|u>>>23)+P|0)<<13|u>>>19)+A|0)<<18|u>>>14,k^=(u=(R^=(u=(j^=(u=(M^=(u=k+R|0)<<7|u>>>25)+k|0)<<9|u>>>23)+M|0)<<13|u>>>19)+j|0)<<18|u>>>14;v=v+a|0,_=_+d|0,w=w+o|0,S=S+i|0,C=C+s|0,O=O+c|0,x=x+f|0,F=F+l|0,A=A+p|0,I=I+h|0,T=T+m|0,P=P+g|0,M=M+b|0,j=j+y|0,R=R+D|0,k=k+E|0,e[0]=v>>>0&255,e[1]=v>>>8&255,e[2]=v>>>16&255,e[3]=v>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=w>>>0&255,e[9]=w>>>8&255,e[10]=w>>>16&255,e[11]=w>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=C>>>0&255,e[17]=C>>>8&255,e[18]=C>>>16&255,e[19]=C>>>24&255,e[20]=O>>>0&255,e[21]=O>>>8&255,e[22]=O>>>16&255,e[23]=O>>>24&255,e[24]=x>>>0&255,e[25]=x>>>8&255,e[26]=x>>>16&255,e[27]=x>>>24&255,e[28]=F>>>0&255,e[29]=F>>>8&255,e[30]=F>>>16&255,e[31]=F>>>24&255,e[32]=A>>>0&255,e[33]=A>>>8&255,e[34]=A>>>16&255,e[35]=A>>>24&255,e[36]=I>>>0&255,e[37]=I>>>8&255,e[38]=I>>>16&255,e[39]=I>>>24&255,e[40]=T>>>0&255,e[41]=T>>>8&255,e[42]=T>>>16&255,e[43]=T>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=j>>>0&255,e[53]=j>>>8&255,e[54]=j>>>16&255,e[55]=j>>>24&255,e[56]=R>>>0&255,e[57]=R>>>8&255,e[58]=R>>>16&255,e[59]=R>>>24&255,e[60]=k>>>0&255,e[61]=k>>>8&255,e[62]=k>>>16&255,e[63]=k>>>24&255}(e,t,n,r)}function D(e,t,n,r){!function(e,t,n,r){for(var u,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,d=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,i=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,h=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,b=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,D=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,E=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,v=0;v<20;v+=2)a^=(u=(b^=(u=(p^=(u=(s^=(u=a+b|0)<<7|u>>>25)+a|0)<<9|u>>>23)+s|0)<<13|u>>>19)+p|0)<<18|u>>>14,c^=(u=(d^=(u=(y^=(u=(h^=(u=c+d|0)<<7|u>>>25)+c|0)<<9|u>>>23)+h|0)<<13|u>>>19)+y|0)<<18|u>>>14,m^=(u=(f^=(u=(o^=(u=(D^=(u=m+f|0)<<7|u>>>25)+m|0)<<9|u>>>23)+D|0)<<13|u>>>19)+o|0)<<18|u>>>14,E^=(u=(g^=(u=(l^=(u=(i^=(u=E+g|0)<<7|u>>>25)+E|0)<<9|u>>>23)+i|0)<<13|u>>>19)+l|0)<<18|u>>>14,a^=(u=(i^=(u=(o^=(u=(d^=(u=a+i|0)<<7|u>>>25)+a|0)<<9|u>>>23)+d|0)<<13|u>>>19)+o|0)<<18|u>>>14,c^=(u=(s^=(u=(l^=(u=(f^=(u=c+s|0)<<7|u>>>25)+c|0)<<9|u>>>23)+f|0)<<13|u>>>19)+l|0)<<18|u>>>14,m^=(u=(h^=(u=(p^=(u=(g^=(u=m+h|0)<<7|u>>>25)+m|0)<<9|u>>>23)+g|0)<<13|u>>>19)+p|0)<<18|u>>>14,E^=(u=(D^=(u=(y^=(u=(b^=(u=E+D|0)<<7|u>>>25)+E|0)<<9|u>>>23)+b|0)<<13|u>>>19)+y|0)<<18|u>>>14;e[0]=a>>>0&255,e[1]=a>>>8&255,e[2]=a>>>16&255,e[3]=a>>>24&255,e[4]=c>>>0&255,e[5]=c>>>8&255,e[6]=c>>>16&255,e[7]=c>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=l>>>0&255,e[21]=l>>>8&255,e[22]=l>>>16&255,e[23]=l>>>24&255,e[24]=p>>>0&255,e[25]=p>>>8&255,e[26]=p>>>16&255,e[27]=p>>>24&255,e[28]=h>>>0&255,e[29]=h>>>8&255,e[30]=h>>>16&255,e[31]=h>>>24&255}(e,t,n,r)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function v(e,t,n,r,u,a,d){var o,i,s=new Uint8Array(16),c=new Uint8Array(64);for(i=0;i<16;i++)s[i]=0;for(i=0;i<8;i++)s[i]=a[i];for(;u>=64;){for(y(c,s,d,E),i=0;i<64;i++)e[t+i]=n[r+i]^c[i];for(o=1,i=8;i<16;i++)o=o+(255&s[i])|0,s[i]=255&o,o>>>=8;u-=64,t+=64,r+=64}if(u>0)for(y(c,s,d,E),i=0;i<u;i++)e[t+i]=n[r+i]^c[i];return 0}function _(e,t,n,r,u){var a,d,o=new Uint8Array(16),i=new Uint8Array(64);for(d=0;d<16;d++)o[d]=0;for(d=0;d<8;d++)o[d]=r[d];for(;n>=64;){for(y(i,o,u,E),d=0;d<64;d++)e[t+d]=i[d];for(a=1,d=8;d<16;d++)a=a+(255&o[d])|0,o[d]=255&a,a>>>=8;n-=64,t+=64}if(n>0)for(y(i,o,u,E),d=0;d<n;d++)e[t+d]=i[d];return 0}function w(e,t,n,r,u){var a=new Uint8Array(32);D(a,r,u,E);for(var d=new Uint8Array(8),o=0;o<8;o++)d[o]=r[o+16];return _(e,t,n,d,a)}function S(e,t,n,r,u,a,d){var o=new Uint8Array(32);D(o,a,d,E);for(var i=new Uint8Array(8),s=0;s<8;s++)i[s]=a[s+16];return v(e,t,n,r,u,i,o)}var C=function(e){var t,n,r,u,a,d,o,i;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),u=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|u<<9),a=255&e[8]|(255&e[9])<<8,this.r[4]=255&(u>>>4|a<<12),this.r[5]=a>>>1&8190,d=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(a>>>14|d<<2),o=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(d>>>11|o<<5),i=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(o>>>8|i<<8),this.r[9]=i>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function O(e,t,n,r,u,a){var d=new C(a);return d.update(n,r,u),d.finish(e,t),0}function x(e,t,n,r,u,a){var d=new Uint8Array(16);return O(d,0,n,r,u,a),g(e,t,d,0)}function F(e,t,n,r,u){var a;if(n<32)return-1;for(S(e,0,t,0,n,r,u),O(e,16,e,32,n-32,e),a=0;a<16;a++)e[a]=0;return 0}function A(e,t,n,r,u){var a,d=new Uint8Array(32);if(n<32)return-1;if(w(d,0,32,r,u),0!==x(t,16,t,32,n-32,d))return-1;for(S(e,0,t,0,n,r,u),a=0;a<32;a++)e[a]=0;return 0}function I(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function T(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function P(e,t,n){for(var r,u=~(n-1),a=0;a<16;a++)r=u&(e[a]^t[a]),e[a]^=r,t[a]^=r}function M(e,n){var r,u,a,d=t(),o=t();for(r=0;r<16;r++)o[r]=n[r];for(T(o),T(o),T(o),u=0;u<2;u++){for(d[0]=o[0]-65517,r=1;r<15;r++)d[r]=o[r]-65535-(d[r-1]>>16&1),d[r-1]&=65535;d[15]=o[15]-32767-(d[14]>>16&1),a=d[15]>>16&1,d[14]&=65535,P(o,d,1-a)}for(r=0;r<16;r++)e[2*r]=255&o[r],e[2*r+1]=o[r]>>8}function j(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return M(n,e),M(r,t),b(n,0,r,0)}function R(e){var t=new Uint8Array(32);return M(t,e),1&t[0]}function k(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function N(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function B(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function $(e,t,n){var r,u,a=0,d=0,o=0,i=0,s=0,c=0,f=0,l=0,p=0,h=0,m=0,g=0,b=0,y=0,D=0,E=0,v=0,_=0,w=0,S=0,C=0,O=0,x=0,F=0,A=0,I=0,T=0,P=0,M=0,j=0,R=0,k=n[0],N=n[1],B=n[2],$=n[3],L=n[4],U=n[5],H=n[6],W=n[7],K=n[8],V=n[9],G=n[10],z=n[11],q=n[12],Y=n[13],J=n[14],Z=n[15];a+=(r=t[0])*k,d+=r*N,o+=r*B,i+=r*$,s+=r*L,c+=r*U,f+=r*H,l+=r*W,p+=r*K,h+=r*V,m+=r*G,g+=r*z,b+=r*q,y+=r*Y,D+=r*J,E+=r*Z,d+=(r=t[1])*k,o+=r*N,i+=r*B,s+=r*$,c+=r*L,f+=r*U,l+=r*H,p+=r*W,h+=r*K,m+=r*V,g+=r*G,b+=r*z,y+=r*q,D+=r*Y,E+=r*J,v+=r*Z,o+=(r=t[2])*k,i+=r*N,s+=r*B,c+=r*$,f+=r*L,l+=r*U,p+=r*H,h+=r*W,m+=r*K,g+=r*V,b+=r*G,y+=r*z,D+=r*q,E+=r*Y,v+=r*J,_+=r*Z,i+=(r=t[3])*k,s+=r*N,c+=r*B,f+=r*$,l+=r*L,p+=r*U,h+=r*H,m+=r*W,g+=r*K,b+=r*V,y+=r*G,D+=r*z,E+=r*q,v+=r*Y,_+=r*J,w+=r*Z,s+=(r=t[4])*k,c+=r*N,f+=r*B,l+=r*$,p+=r*L,h+=r*U,m+=r*H,g+=r*W,b+=r*K,y+=r*V,D+=r*G,E+=r*z,v+=r*q,_+=r*Y,w+=r*J,S+=r*Z,c+=(r=t[5])*k,f+=r*N,l+=r*B,p+=r*$,h+=r*L,m+=r*U,g+=r*H,b+=r*W,y+=r*K,D+=r*V,E+=r*G,v+=r*z,_+=r*q,w+=r*Y,S+=r*J,C+=r*Z,f+=(r=t[6])*k,l+=r*N,p+=r*B,h+=r*$,m+=r*L,g+=r*U,b+=r*H,y+=r*W,D+=r*K,E+=r*V,v+=r*G,_+=r*z,w+=r*q,S+=r*Y,C+=r*J,O+=r*Z,l+=(r=t[7])*k,p+=r*N,h+=r*B,m+=r*$,g+=r*L,b+=r*U,y+=r*H,D+=r*W,E+=r*K,v+=r*V,_+=r*G,w+=r*z,S+=r*q,C+=r*Y,O+=r*J,x+=r*Z,p+=(r=t[8])*k,h+=r*N,m+=r*B,g+=r*$,b+=r*L,y+=r*U,D+=r*H,E+=r*W,v+=r*K,_+=r*V,w+=r*G,S+=r*z,C+=r*q,O+=r*Y,x+=r*J,F+=r*Z,h+=(r=t[9])*k,m+=r*N,g+=r*B,b+=r*$,y+=r*L,D+=r*U,E+=r*H,v+=r*W,_+=r*K,w+=r*V,S+=r*G,C+=r*z,O+=r*q,x+=r*Y,F+=r*J,A+=r*Z,m+=(r=t[10])*k,g+=r*N,b+=r*B,y+=r*$,D+=r*L,E+=r*U,v+=r*H,_+=r*W,w+=r*K,S+=r*V,C+=r*G,O+=r*z,x+=r*q,F+=r*Y,A+=r*J,I+=r*Z,g+=(r=t[11])*k,b+=r*N,y+=r*B,D+=r*$,E+=r*L,v+=r*U,_+=r*H,w+=r*W,S+=r*K,C+=r*V,O+=r*G,x+=r*z,F+=r*q,A+=r*Y,I+=r*J,T+=r*Z,b+=(r=t[12])*k,y+=r*N,D+=r*B,E+=r*$,v+=r*L,_+=r*U,w+=r*H,S+=r*W,C+=r*K,O+=r*V,x+=r*G,F+=r*z,A+=r*q,I+=r*Y,T+=r*J,P+=r*Z,y+=(r=t[13])*k,D+=r*N,E+=r*B,v+=r*$,_+=r*L,w+=r*U,S+=r*H,C+=r*W,O+=r*K,x+=r*V,F+=r*G,A+=r*z,I+=r*q,T+=r*Y,P+=r*J,M+=r*Z,D+=(r=t[14])*k,E+=r*N,v+=r*B,_+=r*$,w+=r*L,S+=r*U,C+=r*H,O+=r*W,x+=r*K,F+=r*V,A+=r*G,I+=r*z,T+=r*q,P+=r*Y,M+=r*J,j+=r*Z,E+=(r=t[15])*k,d+=38*(_+=r*B),o+=38*(w+=r*$),i+=38*(S+=r*L),s+=38*(C+=r*U),c+=38*(O+=r*H),f+=38*(x+=r*W),l+=38*(F+=r*K),p+=38*(A+=r*V),h+=38*(I+=r*G),m+=38*(T+=r*z),g+=38*(P+=r*q),b+=38*(M+=r*Y),y+=38*(j+=r*J),D+=38*(R+=r*Z),a=(r=(a+=38*(v+=r*N))+(u=1)+65535)-65536*(u=Math.floor(r/65536)),d=(r=d+u+65535)-65536*(u=Math.floor(r/65536)),o=(r=o+u+65535)-65536*(u=Math.floor(r/65536)),i=(r=i+u+65535)-65536*(u=Math.floor(r/65536)),s=(r=s+u+65535)-65536*(u=Math.floor(r/65536)),c=(r=c+u+65535)-65536*(u=Math.floor(r/65536)),f=(r=f+u+65535)-65536*(u=Math.floor(r/65536)),l=(r=l+u+65535)-65536*(u=Math.floor(r/65536)),p=(r=p+u+65535)-65536*(u=Math.floor(r/65536)),h=(r=h+u+65535)-65536*(u=Math.floor(r/65536)),m=(r=m+u+65535)-65536*(u=Math.floor(r/65536)),g=(r=g+u+65535)-65536*(u=Math.floor(r/65536)),b=(r=b+u+65535)-65536*(u=Math.floor(r/65536)),y=(r=y+u+65535)-65536*(u=Math.floor(r/65536)),D=(r=D+u+65535)-65536*(u=Math.floor(r/65536)),E=(r=E+u+65535)-65536*(u=Math.floor(r/65536)),a=(r=(a+=u-1+37*(u-1))+(u=1)+65535)-65536*(u=Math.floor(r/65536)),d=(r=d+u+65535)-65536*(u=Math.floor(r/65536)),o=(r=o+u+65535)-65536*(u=Math.floor(r/65536)),i=(r=i+u+65535)-65536*(u=Math.floor(r/65536)),s=(r=s+u+65535)-65536*(u=Math.floor(r/65536)),c=(r=c+u+65535)-65536*(u=Math.floor(r/65536)),f=(r=f+u+65535)-65536*(u=Math.floor(r/65536)),l=(r=l+u+65535)-65536*(u=Math.floor(r/65536)),p=(r=p+u+65535)-65536*(u=Math.floor(r/65536)),h=(r=h+u+65535)-65536*(u=Math.floor(r/65536)),m=(r=m+u+65535)-65536*(u=Math.floor(r/65536)),g=(r=g+u+65535)-65536*(u=Math.floor(r/65536)),b=(r=b+u+65535)-65536*(u=Math.floor(r/65536)),y=(r=y+u+65535)-65536*(u=Math.floor(r/65536)),D=(r=D+u+65535)-65536*(u=Math.floor(r/65536)),E=(r=E+u+65535)-65536*(u=Math.floor(r/65536)),a+=u-1+37*(u-1),e[0]=a,e[1]=d,e[2]=o,e[3]=i,e[4]=s,e[5]=c,e[6]=f,e[7]=l,e[8]=p,e[9]=h,e[10]=m,e[11]=g,e[12]=b,e[13]=y,e[14]=D,e[15]=E}function L(e,t){$(e,t,t)}function U(e,n){var r,u=t();for(r=0;r<16;r++)u[r]=n[r];for(r=253;r>=0;r--)L(u,u),2!==r&&4!==r&&$(u,u,n);for(r=0;r<16;r++)e[r]=u[r]}function H(e,n){var r,u=t();for(r=0;r<16;r++)u[r]=n[r];for(r=250;r>=0;r--)L(u,u),1!==r&&$(u,u,n);for(r=0;r<16;r++)e[r]=u[r]}function W(e,n,r){var u,a,d=new Uint8Array(32),o=new Float64Array(80),s=t(),c=t(),f=t(),l=t(),p=t(),h=t();for(a=0;a<31;a++)d[a]=n[a];for(d[31]=127&n[31]|64,d[0]&=248,k(o,r),a=0;a<16;a++)c[a]=o[a],l[a]=s[a]=f[a]=0;for(s[0]=l[0]=1,a=254;a>=0;--a)P(s,c,u=d[a>>>3]>>>(7&a)&1),P(f,l,u),N(p,s,f),B(s,s,f),N(f,c,l),B(c,c,l),L(l,p),L(h,s),$(s,f,s),$(f,c,p),N(p,s,f),B(s,s,f),L(c,s),B(f,l,h),$(s,f,i),N(s,s,l),$(f,f,s),$(s,l,h),$(l,c,o),L(c,p),P(s,c,u),P(f,l,u);for(a=0;a<16;a++)o[a+16]=s[a],o[a+32]=f[a],o[a+48]=c[a],o[a+64]=l[a];var m=o.subarray(32),g=o.subarray(16);return U(m,m),$(g,g,m),M(e,g),0}function K(e,t){return W(e,t,a)}function V(e,t){return r(t,32),K(e,t)}function G(e,t,n){var r=new Uint8Array(32);return W(r,n,t),D(e,u,r,E)}C.prototype.blocks=function(e,t,n){for(var r,u,a,d,o,i,s,c,f,l,p,h,m,g,b,y,D,E,v,_=this.fin?0:2048,w=this.h[0],S=this.h[1],C=this.h[2],O=this.h[3],x=this.h[4],F=this.h[5],A=this.h[6],I=this.h[7],T=this.h[8],P=this.h[9],M=this.r[0],j=this.r[1],R=this.r[2],k=this.r[3],N=this.r[4],B=this.r[5],$=this.r[6],L=this.r[7],U=this.r[8],H=this.r[9];n>=16;)l=f=0,l+=(w+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*M,l+=(S+=8191&(r>>>13|(u=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*H),l+=(C+=8191&(u>>>10|(a=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*U),l+=(O+=8191&(a>>>7|(d=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*L),f=(l+=(x+=8191&(d>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*$))>>>13,l&=8191,l+=(F+=o>>>1&8191)*(5*B),l+=(A+=8191&(o>>>14|(i=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*N),l+=(I+=8191&(i>>>11|(s=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*k),l+=(T+=8191&(s>>>8|(c=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*R),p=f+=(l+=(P+=c>>>5|_)*(5*j))>>>13,p+=w*j,p+=S*M,p+=C*(5*H),p+=O*(5*U),f=(p+=x*(5*L))>>>13,p&=8191,p+=F*(5*$),p+=A*(5*B),p+=I*(5*N),p+=T*(5*k),f+=(p+=P*(5*R))>>>13,p&=8191,h=f,h+=w*R,h+=S*j,h+=C*M,h+=O*(5*H),f=(h+=x*(5*U))>>>13,h&=8191,h+=F*(5*L),h+=A*(5*$),h+=I*(5*B),h+=T*(5*N),m=f+=(h+=P*(5*k))>>>13,m+=w*k,m+=S*R,m+=C*j,m+=O*M,f=(m+=x*(5*H))>>>13,m&=8191,m+=F*(5*U),m+=A*(5*L),m+=I*(5*$),m+=T*(5*B),g=f+=(m+=P*(5*N))>>>13,g+=w*N,g+=S*k,g+=C*R,g+=O*j,f=(g+=x*M)>>>13,g&=8191,g+=F*(5*H),g+=A*(5*U),g+=I*(5*L),g+=T*(5*$),b=f+=(g+=P*(5*B))>>>13,b+=w*B,b+=S*N,b+=C*k,b+=O*R,f=(b+=x*j)>>>13,b&=8191,b+=F*M,b+=A*(5*H),b+=I*(5*U),b+=T*(5*L),y=f+=(b+=P*(5*$))>>>13,y+=w*$,y+=S*B,y+=C*N,y+=O*k,f=(y+=x*R)>>>13,y&=8191,y+=F*j,y+=A*M,y+=I*(5*H),y+=T*(5*U),D=f+=(y+=P*(5*L))>>>13,D+=w*L,D+=S*$,D+=C*B,D+=O*N,f=(D+=x*k)>>>13,D&=8191,D+=F*R,D+=A*j,D+=I*M,D+=T*(5*H),E=f+=(D+=P*(5*U))>>>13,E+=w*U,E+=S*L,E+=C*$,E+=O*B,f=(E+=x*N)>>>13,E&=8191,E+=F*k,E+=A*R,E+=I*j,E+=T*M,v=f+=(E+=P*(5*H))>>>13,v+=w*H,v+=S*U,v+=C*L,v+=O*$,f=(v+=x*B)>>>13,v&=8191,v+=F*N,v+=A*k,v+=I*R,v+=T*j,w=l=8191&(f=(f=((f+=(v+=P*M)>>>13)<<2)+f|0)+(l&=8191)|0),S=p+=f>>>=13,C=h&=8191,O=m&=8191,x=g&=8191,F=b&=8191,A=y&=8191,I=D&=8191,T=E&=8191,P=v&=8191,t+=16,n-=16;this.h[0]=w,this.h[1]=S,this.h[2]=C,this.h[3]=O,this.h[4]=x,this.h[5]=F,this.h[6]=A,this.h[7]=I,this.h[8]=T,this.h[9]=P},C.prototype.finish=function(e,t){var n,r,u,a,d=new Uint16Array(10);if(this.leftover){for(a=this.leftover,this.buffer[a++]=1;a<16;a++)this.buffer[a]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,a=2;a<10;a++)this.h[a]+=n,n=this.h[a]>>>13,this.h[a]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,d[0]=this.h[0]+5,n=d[0]>>>13,d[0]&=8191,a=1;a<10;a++)d[a]=this.h[a]+n,n=d[a]>>>13,d[a]&=8191;for(d[9]-=8192,r=(1^n)-1,a=0;a<10;a++)d[a]&=r;for(r=~r,a=0;a<10;a++)this.h[a]=this.h[a]&r|d[a];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),u=this.h[0]+this.pad[0],this.h[0]=65535&u,a=1;a<8;a++)u=(this.h[a]+this.pad[a]|0)+(u>>>16)|0,this.h[a]=65535&u;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},C.prototype.update=function(e,t,n){var r,u;if(this.leftover){for((u=16-this.leftover)>n&&(u=n),r=0;r<u;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=u,t+=u,this.leftover+=u,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(u=n-n%16,this.blocks(e,t,u),t+=u,n-=u),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var z=F,q=A;var Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,n,r){for(var u,a,d,o,i,s,c,f,l,p,h,m,g,b,y,D,E,v,_,w,S,C,O,x,F,A,I=new Int32Array(16),T=new Int32Array(16),P=e[0],M=e[1],j=e[2],R=e[3],k=e[4],N=e[5],B=e[6],$=e[7],L=t[0],U=t[1],H=t[2],W=t[3],K=t[4],V=t[5],G=t[6],z=t[7],q=0;r>=128;){for(_=0;_<16;_++)w=8*_+q,I[_]=n[w+0]<<24|n[w+1]<<16|n[w+2]<<8|n[w+3],T[_]=n[w+4]<<24|n[w+5]<<16|n[w+6]<<8|n[w+7];for(_=0;_<80;_++)if(u=P,a=M,d=j,o=R,i=k,s=N,c=B,$,l=L,p=U,h=H,m=W,g=K,b=V,y=G,z,O=65535&(C=z),x=C>>>16,F=65535&(S=$),A=S>>>16,O+=65535&(C=(K>>>14|k<<18)^(K>>>18|k<<14)^(k>>>9|K<<23)),x+=C>>>16,F+=65535&(S=(k>>>14|K<<18)^(k>>>18|K<<14)^(K>>>9|k<<23)),A+=S>>>16,O+=65535&(C=K&V^~K&G),x+=C>>>16,F+=65535&(S=k&N^~k&B),A+=S>>>16,O+=65535&(C=Y[2*_+1]),x+=C>>>16,F+=65535&(S=Y[2*_]),A+=S>>>16,S=I[_%16],x+=(C=T[_%16])>>>16,F+=65535&S,A+=S>>>16,F+=(x+=(O+=65535&C)>>>16)>>>16,O=65535&(C=v=65535&O|x<<16),x=C>>>16,F=65535&(S=E=65535&F|(A+=F>>>16)<<16),A=S>>>16,O+=65535&(C=(L>>>28|P<<4)^(P>>>2|L<<30)^(P>>>7|L<<25)),x+=C>>>16,F+=65535&(S=(P>>>28|L<<4)^(L>>>2|P<<30)^(L>>>7|P<<25)),A+=S>>>16,x+=(C=L&U^L&H^U&H)>>>16,F+=65535&(S=P&M^P&j^M&j),A+=S>>>16,f=65535&(F+=(x+=(O+=65535&C)>>>16)>>>16)|(A+=F>>>16)<<16,D=65535&O|x<<16,O=65535&(C=m),x=C>>>16,F=65535&(S=o),A=S>>>16,x+=(C=v)>>>16,F+=65535&(S=E),A+=S>>>16,M=u,j=a,R=d,k=o=65535&(F+=(x+=(O+=65535&C)>>>16)>>>16)|(A+=F>>>16)<<16,N=i,B=s,$=c,P=f,U=l,H=p,W=h,K=m=65535&O|x<<16,V=g,G=b,z=y,L=D,_%16==15)for(w=0;w<16;w++)S=I[w],O=65535&(C=T[w]),x=C>>>16,F=65535&S,A=S>>>16,S=I[(w+9)%16],O+=65535&(C=T[(w+9)%16]),x+=C>>>16,F+=65535&S,A+=S>>>16,E=I[(w+1)%16],O+=65535&(C=((v=T[(w+1)%16])>>>1|E<<31)^(v>>>8|E<<24)^(v>>>7|E<<25)),x+=C>>>16,F+=65535&(S=(E>>>1|v<<31)^(E>>>8|v<<24)^E>>>7),A+=S>>>16,E=I[(w+14)%16],x+=(C=((v=T[(w+14)%16])>>>19|E<<13)^(E>>>29|v<<3)^(v>>>6|E<<26))>>>16,F+=65535&(S=(E>>>19|v<<13)^(v>>>29|E<<3)^E>>>6),A+=S>>>16,A+=(F+=(x+=(O+=65535&C)>>>16)>>>16)>>>16,I[w]=65535&F|A<<16,T[w]=65535&O|x<<16;O=65535&(C=L),x=C>>>16,F=65535&(S=P),A=S>>>16,S=e[0],x+=(C=t[0])>>>16,F+=65535&S,A+=S>>>16,A+=(F+=(x+=(O+=65535&C)>>>16)>>>16)>>>16,e[0]=P=65535&F|A<<16,t[0]=L=65535&O|x<<16,O=65535&(C=U),x=C>>>16,F=65535&(S=M),A=S>>>16,S=e[1],x+=(C=t[1])>>>16,F+=65535&S,A+=S>>>16,A+=(F+=(x+=(O+=65535&C)>>>16)>>>16)>>>16,e[1]=M=65535&F|A<<16,t[1]=U=65535&O|x<<16,O=65535&(C=H),x=C>>>16,F=65535&(S=j),A=S>>>16,S=e[2],x+=(C=t[2])>>>16,F+=65535&S,A+=S>>>16,A+=(F+=(x+=(O+=65535&C)>>>16)>>>16)>>>16,e[2]=j=65535&F|A<<16,t[2]=H=65535&O|x<<16,O=65535&(C=W),x=C>>>16,F=65535&(S=R),A=S>>>16,S=e[3],x+=(C=t[3])>>>16,F+=65535&S,A+=S>>>16,A+=(F+=(x+=(O+=65535&C)>>>16)>>>16)>>>16,e[3]=R=65535&F|A<<16,t[3]=W=65535&O|x<<16,O=65535&(C=K),x=C>>>16,F=65535&(S=k),A=S>>>16,S=e[4],x+=(C=t[4])>>>16,F+=65535&S,A+=S>>>16,A+=(F+=(x+=(O+=65535&C)>>>16)>>>16)>>>16,e[4]=k=65535&F|A<<16,t[4]=K=65535&O|x<<16,O=65535&(C=V),x=C>>>16,F=65535&(S=N),A=S>>>16,S=e[5],x+=(C=t[5])>>>16,F+=65535&S,A+=S>>>16,A+=(F+=(x+=(O+=65535&C)>>>16)>>>16)>>>16,e[5]=N=65535&F|A<<16,t[5]=V=65535&O|x<<16,O=65535&(C=G),x=C>>>16,F=65535&(S=B),A=S>>>16,S=e[6],x+=(C=t[6])>>>16,F+=65535&S,A+=S>>>16,A+=(F+=(x+=(O+=65535&C)>>>16)>>>16)>>>16,e[6]=B=65535&F|A<<16,t[6]=G=65535&O|x<<16,O=65535&(C=z),x=C>>>16,F=65535&(S=$),A=S>>>16,S=e[7],x+=(C=t[7])>>>16,F+=65535&S,A+=S>>>16,A+=(F+=(x+=(O+=65535&C)>>>16)>>>16)>>>16,e[7]=$=65535&F|A<<16,t[7]=z=65535&O|x<<16,q+=128,r-=128}return r}function Z(e,t,n){var r,u=new Int32Array(8),a=new Int32Array(8),d=new Uint8Array(256),o=n;for(u[0]=1779033703,u[1]=3144134277,u[2]=1013904242,u[3]=2773480762,u[4]=1359893119,u[5]=2600822924,u[6]=528734635,u[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,J(u,a,t,n),n%=128,r=0;r<n;r++)d[r]=t[o-n+r];for(d[n]=128,d[(n=256-128*(n<112?1:0))-9]=0,h(d,n-8,o/536870912|0,o<<3),J(u,a,d,n),r=0;r<8;r++)h(e,8*r,u[r],a[r]);return 0}function X(e,n){var r=t(),u=t(),a=t(),d=t(),o=t(),i=t(),s=t(),f=t(),l=t();B(r,e[1],e[0]),B(l,n[1],n[0]),$(r,r,l),N(u,e[0],e[1]),N(l,n[0],n[1]),$(u,u,l),$(a,e[3],n[3]),$(a,a,c),$(d,e[2],n[2]),N(d,d,d),B(o,u,r),B(i,d,a),N(s,d,a),N(f,u,r),$(e[0],o,i),$(e[1],f,s),$(e[2],s,i),$(e[3],o,f)}function Q(e,t,n){var r;for(r=0;r<4;r++)P(e[r],t[r],n)}function ee(e,n){var r=t(),u=t(),a=t();U(a,n[2]),$(r,n[0],a),$(u,n[1],a),M(e,u),e[31]^=R(r)<<7}function te(e,t,n){var r,u;for(I(e[0],d),I(e[1],o),I(e[2],o),I(e[3],d),u=255;u>=0;--u)Q(e,t,r=n[u/8|0]>>(7&u)&1),X(t,e),X(e,e),Q(e,t,r)}function ne(e,n){var r=[t(),t(),t(),t()];I(r[0],f),I(r[1],l),I(r[2],o),$(r[3],f,l),te(e,r,n)}function re(e,n,u){var a,d=new Uint8Array(64),o=[t(),t(),t(),t()];for(u||r(n,32),Z(d,n,32),d[0]&=248,d[31]&=127,d[31]|=64,ne(o,d),ee(e,o),a=0;a<32;a++)n[a+32]=e[a];return 0}var ue=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ae(e,t){var n,r,u,a;for(r=63;r>=32;--r){for(n=0,u=r-32,a=r-12;u<a;++u)t[u]+=n-16*t[r]*ue[u-(r-32)],n=Math.floor((t[u]+128)/256),t[u]-=256*n;t[u]+=n,t[r]=0}for(n=0,u=0;u<32;u++)t[u]+=n-(t[31]>>4)*ue[u],n=t[u]>>8,t[u]&=255;for(u=0;u<32;u++)t[u]-=n*ue[u];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function de(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;ae(e,n)}function oe(e,n,r,u){var a,d,o=new Uint8Array(64),i=new Uint8Array(64),s=new Uint8Array(64),c=new Float64Array(64),f=[t(),t(),t(),t()];Z(o,u,32),o[0]&=248,o[31]&=127,o[31]|=64;var l=r+64;for(a=0;a<r;a++)e[64+a]=n[a];for(a=0;a<32;a++)e[32+a]=o[32+a];for(Z(s,e.subarray(32),r+32),de(s),ne(f,s),ee(e,f),a=32;a<64;a++)e[a]=u[a];for(Z(i,e,r+64),de(i),a=0;a<64;a++)c[a]=0;for(a=0;a<32;a++)c[a]=s[a];for(a=0;a<32;a++)for(d=0;d<32;d++)c[a+d]+=i[a]*o[d];return ae(e.subarray(32),c),l}function ie(e,n,r,u){var a,i=new Uint8Array(32),c=new Uint8Array(64),f=[t(),t(),t(),t()],l=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,n){var r=t(),u=t(),a=t(),i=t(),c=t(),f=t(),l=t();return I(e[2],o),k(e[1],n),L(a,e[1]),$(i,a,s),B(a,a,e[2]),N(i,e[2],i),L(c,i),L(f,c),$(l,f,c),$(r,l,a),$(r,r,i),H(r,r),$(r,r,a),$(r,r,i),$(r,r,i),$(e[0],r,i),L(u,e[0]),$(u,u,i),j(u,a)&&$(e[0],e[0],p),L(u,e[0]),$(u,u,i),j(u,a)?-1:(R(e[0])===n[31]>>7&&B(e[0],d,e[0]),$(e[3],e[0],e[1]),0)}(l,u))return-1;for(a=0;a<r;a++)e[a]=n[a];for(a=0;a<32;a++)e[a+32]=u[a];if(Z(c,e,r),de(c),te(f,l,c),ne(l,n.subarray(32)),X(f,l),ee(i,f),r-=64,b(n,0,i,0)){for(a=0;a<r;a++)e[a]=0;return-1}for(a=0;a<r;a++)e[a]=n[a+64];return r}function se(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function ce(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function fe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:D,crypto_stream_xor:S,crypto_stream:w,crypto_stream_salsa20_xor:v,crypto_stream_salsa20:_,crypto_onetimeauth:O,crypto_onetimeauth_verify:x,crypto_verify_16:g,crypto_verify_32:b,crypto_secretbox:F,crypto_secretbox_open:A,crypto_scalarmult:W,crypto_scalarmult_base:K,crypto_box_beforenm:G,crypto_box_afternm:z,crypto_box:function(e,t,n,r,u,a){var d=new Uint8Array(32);return G(d,u,a),z(e,t,n,r,d)},crypto_box_open:function(e,t,n,r,u,a){var d=new Uint8Array(32);return G(d,u,a),q(e,t,n,r,d)},crypto_box_keypair:V,crypto_hash:Z,crypto_sign:oe,crypto_sign_keypair:re,crypto_sign_open:ie,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:s,L:ue,pack25519:M,unpack25519:k,M:$,A:N,S:L,Z:B,pow2523:H,add:X,set25519:I,modL:ae,scalarmult:te,scalarbase:ne},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,n){ce(e,t,n),se(n,t);for(var r=new Uint8Array(32+e.length),u=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+32]=e[a];return F(u,r,r.length,t,n),u.subarray(16)},e.secretbox.open=function(e,t,n){ce(e,t,n),se(n,t);for(var r=new Uint8Array(16+e.length),u=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+16]=e[a];return r.length<32||0!==A(u,r,r.length,t,n)?null:u.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(ce(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return W(n,e,t),n},e.scalarMult.base=function(e){if(ce(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return K(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,u){var a=e.box.before(r,u);return e.secretbox(t,n,a)},e.box.before=function(e,t){ce(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return G(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,u){var a=e.box.before(r,u);return e.secretbox.open(t,n,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(ce(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return K(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(ce(e,t),64!==t.length)throw new Error("bad secret key size");var n=new Uint8Array(64+e.length);return oe(n,e,e.length,t),n},e.sign.open=function(e,t){if(ce(e,t),32!==t.length)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=ie(n,e,e.length,t);if(r<0)return null;for(var u=new Uint8Array(r),a=0;a<u.length;a++)u[a]=n[a];return u},e.sign.detached=function(t,n){for(var r=e.sign(t,n),u=new Uint8Array(64),a=0;a<u.length;a++)u[a]=r[a];return u},e.sign.detached.verify=function(e,t,n){if(ce(e,t,n),64!==t.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var r,u=new Uint8Array(64+e.length),a=new Uint8Array(64+e.length);for(r=0;r<64;r++)u[r]=t[r];for(r=0;r<e.length;r++)u[r+64]=e[r];return ie(a,u,u.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(ce(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(ce(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=e[r];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){ce(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return ce(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===m(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,n){var r,u=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(u.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=u[r];fe(u)}))}else(t=n(28))&&t.randomBytes&&e.setPRNG((function(e,n){var r,u=t.randomBytes(n);for(r=0;r<n;r++)e[r]=u[r];fe(u)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0,t.isPromise=function(e){return!!e&&!!e.then&&"function"==typeof e.then}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YError=void 0;class r extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace(this,r)}}t.YError=r},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,u;if(t&&"function"==typeof(n=e.toString)&&!r(u=n.call(e)))return u;if("function"==typeof(n=e.valueOf)&&!r(u=n.call(e)))return u;if(!t&&"function"==typeof(n=e.toString)&&!r(u=n.call(e)))return u;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=n(158)},function(e,t){e.exports=!0},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports={}},function(e,t,n){var r=n(74),u=n(75),a=r("keys");e.exports=function(e){return a[e]||(a[e]=u(e))}},function(e,t,n){e.exports=n(244)},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=54},function(e,t,n){"use strict";const r=n(324),u=n(56),a=n(325),{kStatusCode:d,NOOP:o}=n(34),i=Buffer.from([0,0,255,255]),s=Symbol("permessage-deflate"),c=Symbol("total-length"),f=Symbol("callback"),l=Symbol("buffers"),p=Symbol("error");let h;function m(e){this[l].push(e),this[c]+=e.length}function g(e){this[c]+=e.length,this[s]._maxPayload<1||this[c]<=this[s]._maxPayload?this[l].push(e):(this[p]=new RangeError("Max payload size exceeded"),this[p][d]=1009,this.removeListener("data",g),this.reset())}function b(e){this[s]._inflate=null,e[d]=1007,this[f](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!h){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;h=new a(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[f];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){h.add(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){h.add(r=>{this._compress(e,t,(e,t)=>{r(),n(e,t)})})}_decompress(e,t,n){const a=this._isServer?"client":"server";if(!this._inflate){const e=a+"_max_window_bits",t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[s]=this,this._inflate[c]=0,this._inflate[l]=[],this._inflate.on("error",b),this._inflate.on("data",g)}this._inflate[f]=n,this._inflate.write(e),t&&this._inflate.write(i),this._inflate.flush(()=>{const e=this._inflate[p];if(e)return this._inflate.close(),this._inflate=null,void n(e);const r=u.concat(this._inflate[l],this._inflate[c]);t&&this.params[a+"_no_context_takeover"]?(this._inflate.close(),this._inflate=null):(this._inflate[c]=0,this._inflate[l]=[]),n(null,r)})}_compress(e,t,n){const a=this._isServer?"server":"client";if(!this._deflate){const e=a+"_max_window_bits",t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[c]=0,this._deflate[l]=[],this._deflate.on("error",o),this._deflate.on("data",m)}this._deflate[f]=n,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=u.concat(this._deflate[l],this._deflate[c]);t&&(e=e.slice(0,e.length-4)),this._deflate[f]=null,t&&this.params[a+"_no_context_takeover"]?(this._deflate.close(),this._deflate=null):(this._deflate[c]=0,this._deflate[l]=[]),n(null,e)})}}},function(e,t,n){"use strict";const{EMPTY_BUFFER:r}=n(34);function u(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);let u=0;for(let t=0;t<e.length;t++){const r=e[t];n.set(r,u),u+=r.length}return u<t?n.slice(0,u):n}function a(e,t,n,r,u){for(let a=0;a<u;a++)n[r+a]=e[a]^t[3&a]}function d(e,t){const n=e.length;for(let r=0;r<n;r++)e[r]^=t[3&r]}function o(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function i(e){if(i.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),i.readOnly=!1),t}try{const t=n(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),r=t.BufferUtil||t;e.exports={concat:u,mask(e,t,n,u,d){d<48?a(e,t,n,u,d):r.mask(e,t,n,u,d)},toArrayBuffer:o,toBuffer:i,unmask(e,t){e.length<32?d(e,t):r.unmask(e,t)}}}catch(t){e.exports={concat:u,mask:a,toArrayBuffer:o,toBuffer:i,unmask:d}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=function(e){if(void 0===e)return;return d(e,!1,(0,u.isObject)(e)?new Map:null,null)},t.stringifyWithCircles=function(e){if(void 0===e)return;return d(e,!0,(0,u.isObject)(e)?new Map:null,null)};var r=n(0),u=n(1);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function a(e,t,n,r,a){t.sort();let o="{";for(const i of t)void 0===e[i]||(0,u.isSymbol)(e[i])&&!r||(o.endsWith("{")||o.endsWith(",")||(o+=","),o+='"'+i+'":'+d(e[i],r,(0,u.isObject)(e[i])?new Map(n):null,null===a?i:`${a}.${i}`));return o+="}",o}function d(e,t,n,o,i=!1){if(null!==n){const u=n.get(e);if(void 0!==u){if(t)return`"$$CIRCLE:${null===u?"/":u}$$"`;throw(0,r.createError)("USS-STR1",{property:o})}n.set(e,o)}const s=(0,u.getObjTypeName)(e);switch(s){case"Array":{const r=[];for(const a of e)r.push(d(a,t,(0,u.isObject)(a)?new Map(n):null,o));return i&&r.sort(),"["+r+"]"}case"Object":return(0,u.isFunction)(e.toJSON)?d(e.toJSON(),t,n,o):a(e,Reflect.ownKeys(e).filter(u.isString),n,t,o);case"Error":return a(e,["name","message","stack",...Reflect.ownKeys(e).filter(u.isString)].filter((e,t,n)=>n.indexOf(e)===t),n,t,o);case"RegExp":return e.toString();case"Date":return'"'+e.toJSON()+'"';case"Set":case"Map":return d(Array.from(e),t,n,o,!0);case"Null":case"Undefined":return"null";case"Function":return"[FUNCTION]"+e.toString();case"Promise":return"";case"Symbol":if(t)return`"$$${s.toUpperCase()}$$"`;throw(0,r.createError)("USS-STR4",{obj:s});default:return JSON.stringify(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateHashOfObj=async function(e){const t=(0,a.convertObjToMicrodata)(e);return await(0,d.createCryptoHash)(t)},t.calculateIdHashOfObj=async function(e){const t=(0,a.convertObjToMicrodata)(e,!0);return await(0,d.createCryptoHash)(t)},t.getTypeFromMicrodata=function(e){if(!e.startsWith(i))return u.BINARY;const t=(0,o.substrForceMemCopy)(e,i.length,e.indexOf('">',i.length)-i.length);if(""===t)throw(0,r.createError)("UO-TFM1",{microdata:e});return t},t.createReadonlyTrackingObj=function(e,t=!1){return Object.create(Object.prototype,Object.keys(e).reduce((n,u)=>(n[u]={enumerable:!0,configurable:!1,get:()=>{if(s.has(typeof e[u])||t)return e[u];throw(0,r.createError)("UO-TRACKP1",{key:u})},set:()=>{throw(0,r.createError)("UO-TRACKP2",{key:u})}},n),{}))},t.MICRODATA_START=void 0;var r=n(0),u=n(9),a=n(35),d=n(42),o=n(60);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const i='<span itemscope itemtype="http://refin.io/';t.MICRODATA_START=i;const s=new Set(["boolean","number","string","symbol"])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEncoding=i,t.isHash=s,t.ensureHash=function(e){if(s(e))return e;throw(0,r.createError)("UTC-EHASH",{thing:e})},t.ensureIdHash=function(e){if(s(e))return e;throw(0,r.createError)("UTC-EHASH",{thing:e})},t.isEventSourceConsumer=c,t.isEventSource=function(e){return(0,a.isObject)(e)&&c(e.consumer)},t.isSimpleReadStream=function(e){return(0,a.isObject)(e)&&(0,a.isFunction)(e.pause)&&(0,a.isFunction)(e.resume)&&(0,a.isFunction)(e.cancel)&&e.promise instanceof Promise&&i(e.thing)&&c(e.onData)},t.isFileCreationResult=function(e){return(0,a.isObject)(e)&&2===function(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t+=1);return t}(e)&&s(e.hash)&&o.has(e.status)},t.ensureArrayOfSHA256Hash=function(e){if(Array.isArray(e)&&e.every(e=>s(e)))return e;throw(0,r.createError)("UTC-AHASH",{thing:e})};var r=n(0),u=n(12),a=n(1);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const d=/^[0-9a-f]{64}$/,o=new Set(Object.values(u.CREATION_STATUS));function i(e){return void 0===e||"base64"===e||"utf8"===e}function s(e){return(0,a.isString)(e)&&d.test(e)}function c(e){return(0,a.isObject)(e)&&(0,a.isFunction)(e.addListener)&&(0,a.isFunction)(e.removeListener)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.substrForceMemCopy=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2020
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function(e,t,n=e.length-t){if(t>e.length||0===n)return"";if(!(0,u.isNumber)(t)||!(0,u.isNumber)(n)||t<0||n<0)throw(0,r.createError)("US-SSFMC1",{s:e,start:t,length:n});return e.substr(t,n-1)+e.charAt(t+n-1)};var r=n(0),u=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addEnabledRvMapType=function(e,t){if(c.has(e))throw(0,r.createError)("SRH-AEMAP1",{type:e,props:t});c.set(e,t)},t.clearRvMapTypes=function(){c.clear(),s.forEach(([e,t])=>c.set(e,t))},t.referenceObjectsHandler=async function(e,t,n){if(t.status===a.CREATION_STATUS.EXISTS)return;const r=c.get(e.$type$);if(void 0===r)return;const s=(0,i.findLinkedHashesAndItempropsInObject)(e),f=s.references.map(async({itemprop:a,hash:o})=>{if(null!==r&&!r.has(a))return;const i=await(0,d.getIdHash)(o);await(0,u.createReverseMapOrAppendEntry)(o,i,e.$type$,t.hash,n)}),l=s.idReferences.map(async({itemprop:a,hash:d})=>{(null===r||r.has(a))&&await(0,u.createReverseMapOrAppendEntry)(void 0,d,e.$type$,t.hash,n)}),p=(0,o.concatArrays)(s.blobs,s.clobs).map(async({itemprop:a,hash:d})=>{(null===r||r.has(a))&&await(0,u.createReverseMapOrAppendEntry)(d,void 0,e.$type$,t.hash,n)});await Promise.all((0,o.concatArrays)(f,l,p))};var r=n(0),u=n(332),a=n(12),d=n(93),o=n(91),i=n(333);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const s=[["Access",null],["AccessMutable",null],["Group",null],["IdAccess",null],["Keys",null]],c=new Map(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storeVersionedObject=async function(e,t,n=o.VERSION_UPDATES.ALWAYS){if(!(0,g.isObject)(e))throw(0,r.createError)("SVO-SO1",{type:null===e?"null":typeof e,obj:e});if(!(0,a.isVersionedObject)(e))throw(0,r.createError)("SVO-SO2",{obj:e});const c=(0,p.clone)(e),h=(0,d.convertObjToMicrodata)(c),m=await(0,f.createCryptoHash)((0,u.extractIdObject)(h)),b=await(0,l.storeUTF8Clob)(h);(0,i.setIdHash)(b.hash,m);const[,E]=await Promise.all([(0,s.referenceObjectsHandler)(c,b,m),(0,y.createVersionMapOrAppendEntry)(m,t,b.hash,b.status,n)]),v={obj:c,hash:b.hash,idHash:m,status:b.status,timestamp:E};return D.dispatch(v),v},t.getObjectByIdHash=v,t.getObjectByIdObj=async function(e,t=-1){const n=await(0,m.calculateIdHashOfObj)(e);return await v(n,e.$type$,t)},t.onVersionedObj=t.versionedObjEvent=void 0;var r=n(0),u=n(136),a=n(9),d=n(35),o=n(12),i=n(93),s=n(61),c=n(36),f=n(42),l=n(7),p=n(137),h=n(94),m=n(58),g=n(1),b=n(134),y=n(92);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const D=(0,h.createEventSource)();t.versionedObjEvent=D;const E=D.consumer;async function v(e,t="*",n=-1){const{timestamp:r,hash:u}=await(0,b.getNthVersionMapEntry)(e,n);return{obj:await(0,c.getObjectWithType)(u,t),hash:u,idHash:e,status:o.CREATION_STATUS.EXISTS,timestamp:r}}t.onVersionedObj=E},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToUint8Array=p,t.Uint8ArrayToString=h,t.decryptSecretKey=m,t.authenticateOwner=async function(e,t,n){const u={secretEncryptionKey:null,publicEncryptionKey:null,secretSignKey:null,publicSignKey:null,secretInstanceEncryptionKey:null,publicInstanceEncryptionKey:null},d=await(0,o.getAllValues)(t,!0,"Keys"),s=await(0,i.getObjectWithType)(d[d.length-1].toHash,"Keys");u.publicEncryptionKey=(0,r.toByteArray)(s.publicKey),s.publicSignKey&&(u.publicSignKey=(0,r.toByteArray)(s.publicSignKey));if([u.secretEncryptionKey,u.secretSignKey]=await Promise.all([m(e,d[d.length-1].toHash+".owner.encrypt"),m(e,d[d.length-1].toHash+".owner.sign")]),null===u.secretEncryptionKey||null===u.secretSignKey)throw(0,a.createError)("IN-AUTH3",{owner:t});l.set(n,u),f.send("log",`Instance owner ${t} successfully authenticated`)},t.loadInstanceKeys=async function(e,t){const n=l.get(t);if(void 0===n)throw(0,a.createError)("IN-KEYS");const u=await(0,o.getAllValues)(t,!0,"Keys");if(u.length<1)throw(0,a.createError)("IN-KEYS1",{instance:t,nr:u.length});const d=await(0,i.getObjectWithType)(u[u.length-1].toHash,"Keys");if(n.publicInstanceEncryptionKey=(0,r.toByteArray)(d.publicKey),n.secretInstanceEncryptionKey=await m(e,u[u.length-1].toHash+".instance.encrypt"),null===n.secretInstanceEncryptionKey)throw(0,a.createError)("IN-KEYS2",{instance:t});l.set(t,n),f.send("log",`Instance keys ${t} successfully loaded`)},t.overwritePersonKeys=async function(e,t,n){const u=l.get(n);if(void 0===u)throw(0,a.createError)("IN-KEYS-OW");const d=await(0,o.getAllValues)(t,!0,"Keys"),s=await(0,i.getObjectWithType)(d[d.length-1].toHash,"Keys");u.publicEncryptionKey=(0,r.toByteArray)(s.publicKey),s.publicSignKey&&(u.publicSignKey=(0,r.toByteArray)(s.publicSignKey));if([u.secretEncryptionKey,u.secretSignKey]=await Promise.all([m(e,d[d.length-1].toHash+".owner.encrypt"),m(e,d[d.length-1].toHash+".owner.sign")]),null===u.secretEncryptionKey||null===u.secretSignKey)throw(0,a.createError)("IN-AUTH3",{owner:t});l.set(n,u),f.send("log",`Instance owner ${t} keys successfully overwritten`)},t.encryptWithPublicKey=g,t.decryptWithPublicKey=b,t.encryptWithSymmetricKey=function(e,t){const n=(0,u.randomBytes)(u.secretbox.nonceLength),r=p(JSON.stringify(t)),a=(0,u.secretbox)(r,n,e),d=new Uint8Array(n.length+a.length);return d.set(n),d.set(a,n.length),d},t.decryptWithSymmetricKey=function(e,t){const n=t.slice(0,u.secretbox.nonceLength),r=t.slice(u.secretbox.nonceLength,t.length),d=u.secretbox.open(r,n,e);if(!d)throw(0,a.createError)("IN-DECS1");return d},t.createCrypto=function(e){const t=l.get(e);return{createSignature:function(e){const n=t?t.secretSignKey:null;if(null===n)throw(0,a.createError)("IN-SIGN");return(0,u.sign)(e,n)},getPublicEncryptionKeyAsBase64:function(){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.publicEncryptionKey)throw(0,a.createError)("IN-GPEK1");return(0,r.fromByteArray)(t.publicEncryptionKey)},getPublicSignKeyAsBase64:function(){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.publicSignKey)throw(0,a.createError)("IN-GPSK1");return(0,r.fromByteArray)(t.publicSignKey)},getPublicInstanceEncryptionKeyAsBase64:function(){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.publicInstanceEncryptionKey)throw(0,a.createError)("IN-GPIEK1");return(0,r.fromByteArray)(t.publicInstanceEncryptionKey)},getPublicEncryptionKeyAsUint8Array:function(){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.publicEncryptionKey)throw(0,a.createError)("IN-GPEK1");return t.publicEncryptionKey},encryptWithPersonPublicKey:function(e,n){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.secretEncryptionKey)throw(0,a.createError)("IN-PEC1");return g(e,n,t.secretEncryptionKey)},decryptWithPersonPublicKey:function(e,n){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.secretEncryptionKey)throw(0,a.createError)("IN-PED1");return b(e,n,t.secretEncryptionKey)},encryptWithInstancePublicKey:function(e,n){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.secretInstanceEncryptionKey)throw(0,a.createError)("IN-IENCR1");return g(e,n,t.secretInstanceEncryptionKey)},decryptWithInstancePublicKey:function(e,n){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.secretInstanceEncryptionKey)throw(0,a.createError)("IN-IDECR1");return b(e,n,t.secretInstanceEncryptionKey)},encryptStringWithOwnerKey:function(e){return function(e){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.secretEncryptionKey)throw(0,a.createError)("IN-EBUF1");const n=(0,u.randomBytes)(u.secretbox.nonceLength),r=(0,u.secretbox)(e,n,t.secretEncryptionKey),d=new Uint8Array(u.secretbox.nonceLength+r.byteLength);return d.set(n,0),d.set(r,n.byteLength),d}(p(e))},decryptStringWithOwnerKey:function(e){const n=function(e){if(void 0===t)throw(0,a.createError)("IN-CRYPTO");if(null===t.secretEncryptionKey)throw(0,a.createError)("IN-DBUF1");return u.secretbox.open(e.slice(u.secretbox.nonceLength),e.slice(0,u.secretbox.nonceLength),t.secretEncryptionKey)}(e);return null===n?n:h(n)}}};var r=n(30),u=n(43),a=n(0),d=n(6),o=n(329),i=n(36),s=n(334),c=n(7);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const f=(0,d.createMessageBus)("instance-crypto"),l=new Map;function p(e){return(new TextEncoder).encode(e)}function h(e){return(new TextDecoder).decode(e)}async function m(e,t){const n=await(0,c.readUTF8TextFile)(t,"private"),a=(0,r.toByteArray)(n),d=a.slice(0,u.secretbox.nonceLength),o=a.slice(u.secretbox.nonceLength),i=await(0,s.deriveBinaryKey)(e,d,u.secretbox.keyLength);return u.secretbox.open(o,d,i)}function g(e,t,n){const r=u.box.before(e,n),a=(0,u.randomBytes)(u.box.nonceLength),d=u.box.after(t,a,r),o=new Uint8Array(a.length+d.length);return o.set(a),o.set(d,a.length),o}function b(e,t,n){const r=u.box.before(e,n),d=t.slice(0,u.box.nonceLength),o=t.slice(u.box.nonceLength,t.length),i=u.box.open.after(o,d,r);if(!i)throw(0,a.createError)("IN-DECP1");return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsert=void 0;const r=n(45),u=n(66),a=["first","second","third","fourth","fifth","sixth"];function d(e){return Array.isArray(e)?"array":null===e?"null":typeof e}function o(e,t,n){throw new r.YError(`Invalid ${a[n]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}t.argsert=function(e,t,n){try{let a=0,[i,s,c]="object"==typeof e?[{demanded:[],optional:[]},e,t]:[u.parseCommand("cmd "+e),t,n];const f=[].slice.call(s);for(;f.length&&void 0===f[f.length-1];)f.pop();if(c=c||f.length,c<i.demanded.length)throw new r.YError(`Not enough arguments provided. Expected ${i.demanded.length} but received ${f.length}.`);const l=i.demanded.length+i.optional.length;if(c>l)throw new r.YError(`Too many arguments provided. Expected max ${l} but received ${c}.`);i.demanded.forEach(e=>{const t=d(f.shift());0===e.cmd.filter(e=>e===t||"*"===e).length&&o(t,e.cmd,a),a+=1}),i.optional.forEach(e=>{if(0===f.length)return;const t=d(f.shift());0===e.cmd.filter(e=>e===t||"*"===e).length&&o(t,e.cmd,a),a+=1})}catch(e){console.warn(e.stack)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCommand=void 0,t.parseCommand=function(e){const t=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,r=t.shift();if(!r)throw new Error("No command found in: "+e);const u={cmd:r.replace(n,""),demanded:[],optional:[]};return t.forEach((e,r)=>{let a=!1;e=e.replace(/\s/g,""),/\.+[\]>]/.test(e)&&r===t.length-1&&(a=!0),/^\[/.test(e)?u.optional.push({cmd:e.replace(n,"").split("|"),variadic:a}):u.demanded.push({cmd:e.replace(n,"").split("|"),variadic:a})}),u}},function(e,t,n){const r=n(146),u=n(147),a=n(4),d=n(148),o=n(23);function i(e,t){t=Object.assign(Object.create(null),t),e=d(e);const i=function(e){const t=[],n=Object.create(null);let r=!0;Object.keys(e).forEach((function(n){t.push([].concat(e[n],n))}));for(;r;){r=!1;for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++){if(t[e].filter((function(e){return-1!==t[n].indexOf(e)})).length){t[e]=t[e].concat(t[n]),t.splice(n,1),r=!0;break}}}return t.forEach((function(e){e=e.filter((function(e,t,n){return n.indexOf(e)===t})),n[e.pop()]=e})),n}(Object.assign(Object.create(null),t.alias)),c=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},t.configuration),l=Object.assign(Object.create(null),t.default),p=t.configObjects||[],h=t.envPrefix,m=c["populate--"],g=m?"--":"_",b=Object.create(null),y=Object.create(null),D=t.__||o.format,E={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},v=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,_=new RegExp("^--"+c["negation-prefix"]+"(.+)");[].concat(t.array).filter(Boolean).forEach((function(e){const t=e.key||e,n=Object.keys(e).map((function(e){return{boolean:"bools",string:"strings",number:"numbers"}[e]})).filter(Boolean).pop();n&&(E[n][t]=!0),E.arrays[t]=!0,E.keys.push(t)})),[].concat(t.boolean).filter(Boolean).forEach((function(e){E.bools[e]=!0,E.keys.push(e)})),[].concat(t.string).filter(Boolean).forEach((function(e){E.strings[e]=!0,E.keys.push(e)})),[].concat(t.number).filter(Boolean).forEach((function(e){E.numbers[e]=!0,E.keys.push(e)})),[].concat(t.count).filter(Boolean).forEach((function(e){E.counts[e]=!0,E.keys.push(e)})),[].concat(t.normalize).filter(Boolean).forEach((function(e){E.normalize[e]=!0,E.keys.push(e)})),Object.keys(t.narg||{}).forEach((function(e){E.nargs[e]=t.narg[e],E.keys.push(e)})),Object.keys(t.coerce||{}).forEach((function(e){E.coercions[e]=t.coerce[e],E.keys.push(e)})),Array.isArray(t.config)||"string"==typeof t.config?[].concat(t.config).filter(Boolean).forEach((function(e){E.configs[e]=!0})):Object.keys(t.config||{}).forEach((function(e){E.configs[e]=t.config[e]})),function(...e){e.forEach((function(e){Object.keys(e||{}).forEach((function(e){E.aliases[e]||(E.aliases[e]=[].concat(i[e]||[]),E.aliases[e].concat(e).forEach((function(t){if(/-/.test(t)&&c["camel-case-expansion"]){const n=r(t);n!==e&&-1===E.aliases[e].indexOf(n)&&(E.aliases[e].push(n),b[n]=!0)}})),E.aliases[e].concat(e).forEach((function(t){if(t.length>1&&/[A-Z]/.test(t)&&c["camel-case-expansion"]){const n=u(t,"-");n!==e&&-1===E.aliases[e].indexOf(n)&&(E.aliases[e].push(n),b[n]=!0)}})),E.aliases[e].forEach((function(t){E.aliases[t]=[e].concat(E.aliases[e].filter((function(e){return t!==e})))})))}))}))}(t.key,i,t.default,E.arrays),Object.keys(l).forEach((function(e){(E.aliases[e]||[]).forEach((function(t){l[t]=l[e]}))}));let w=null;Object.keys(E.counts).find(e=>N(e,E.arrays)?(w=Error(D("Invalid configuration: %s, opts.count excludes opts.array.",e)),!0):N(e,E.nargs)?(w=Error(D("Invalid configuration: %s, opts.count excludes opts.narg.",e)),!0):void 0);let S=[];const C=Object.assign(Object.create(null),{_:[]}),O={};for(let t=0;t<e.length;t++){const n=e[t];let r,u,a,d,o,i;if("--"!==n&&$(n))C._.push(n);else if(n.match(/^--.+=/)||!c["short-option-groups"]&&n.match(/^-.+=/))d=n.match(/^--?([^=]+)=([\s\S]*)$/),N(d[1],E.arrays)?t=F(t,d[1],e,d[2]):!1!==N(d[1],E.nargs)?t=x(t,d[1],e,d[2]):A(d[1],d[2]);else if(n.match(_)&&c["boolean-negation"])u=n.match(_)[1],A(u,!!N(u,E.arrays)&&[!1]);else if(n.match(/^--.+/)||!c["short-option-groups"]&&n.match(/^-[^-]+/))u=n.match(/^--?(.+)/)[1],N(u,E.arrays)?t=F(t,u,e):!1!==N(u,E.nargs)?t=x(t,u,e):(o=e[t+1],void 0===o||o.match(/^-/)&&!o.match(v)||N(u,E.bools)||N(u,E.counts)?/^(true|false)$/.test(o)?(A(u,o),t++):A(u,L(u)):(A(u,o),t++));else if(n.match(/^-.\..+=/))d=n.match(/^-([^=]+)=([\s\S]*)$/),A(d[1],d[2]);else if(n.match(/^-.\..+/)&&!n.match(v))o=e[t+1],u=n.match(/^-(.\..+)/)[1],void 0===o||o.match(/^-/)||N(u,E.bools)||N(u,E.counts)?A(u,L(u)):(A(u,o),t++);else if(n.match(/^-[^-]+/)&&!n.match(v)){a=n.slice(1,-1).split(""),r=!1;for(let d=0;d<a.length;d++){if(o=n.slice(d+2),a[d+1]&&"="===a[d+1]){i=n.slice(d+3),u=a[d],N(u,E.arrays)?t=F(t,u,e,i):!1!==N(u,E.nargs)?t=x(t,u,e,i):A(u,i),r=!0;break}if("-"!==o){if(/[A-Za-z]/.test(a[d])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(o)){A(a[d],o),r=!0;break}if(a[d+1]&&a[d+1].match(/\W/)){A(a[d],o),r=!0;break}A(a[d],L(a[d]))}else A(a[d],o)}u=n.slice(-1)[0],r||"-"===u||(N(u,E.arrays)?t=F(t,u,e):!1!==N(u,E.nargs)?t=x(t,u,e):(o=e[t+1],void 0===o||/^(-|--)[^-]/.test(o)&&!o.match(v)||N(u,E.bools)||N(u,E.counts)?/^(true|false)$/.test(o)?(A(u,o),t++):A(u,L(u)):(A(u,o),t++)))}else if(n.match(/^-[0-9]$/)&&n.match(v)&&N(n.slice(1),E.bools))u=n.slice(1),A(u,L(u));else{if("--"===n){S=e.slice(t+1);break}if(c["halt-at-non-option"]){S=e.slice(t);break}C._.push(T("_",n))}}function x(e,t,n,r){let u,a=N(t,E.nargs);if(a=isNaN(a)?1:a,0===a)return U(r)||(w=Error(D("Argument unexpected for: %s",t))),A(t,L(t)),e;let d=U(r)?0:1;if(c["nargs-eats-options"])n.length-(e+1)+d<a&&(w=Error(D("Not enough arguments following: %s",t))),d=a;else{for(u=e+1;u<n.length&&(!n[u].match(/^-[^0-9]/)||n[u].match(v)||$(n[u]));u++)d++;d<a&&(w=Error(D("Not enough arguments following: %s",t)))}let o=Math.min(d,a);for(!U(r)&&o>0&&(A(t,r),o--),u=e+1;u<o+e+1;u++)A(t,n[u]);return e+o}function F(e,t,n,r){let u=[],a=r||n[e+1];const d=N(t,E.nargs);if(N(t,E.bools)&&!/^(true|false)$/.test(a))u.push(!0);else if(U(a)||U(r)&&/^-/.test(a)&&!v.test(a)&&!$(a)){if(void 0!==l[t]){const e=l[t];u=Array.isArray(e)?e:[e]}}else{U(r)||u.push(I(t,r));for(let r=e+1;r<n.length&&!(!c["greedy-arrays"]&&u.length>0||d&&u.length>=d)&&(a=n[r],!/^-/.test(a)||v.test(a)||$(a));r++)e=r,u.push(I(t,a))}return(d&&u.length<d||isNaN(d)&&0===u.length)&&(w=Error(D("Not enough arguments following: %s",t))),A(t,u),e}function A(e,t){if(/-/.test(e)&&c["camel-case-expansion"]){const t=e.split(".").map((function(e){return r(e)})).join(".");!function e(t,n){E.aliases[t]&&E.aliases[t].length||(E.aliases[t]=[n],b[n]=!0);E.aliases[n]&&E.aliases[n].length||e(n,t)}(e,t)}const n=I(e,t),u=e.split(".");if(k(C,u,n),E.aliases[e]&&E.aliases[e].forEach((function(e){e=e.split("."),k(C,e,n)})),u.length>1&&c["dot-notation"]&&(E.aliases[u[0]]||[]).forEach((function(t){t=t.split(".");const r=[].concat(u);r.shift(),t=t.concat(r),(E.aliases[e]||[]).includes(t.join("."))||k(C,t,n)})),N(e,E.normalize)&&!N(e,E.arrays)){[e].concat(E.aliases[e]||[]).forEach((function(e){Object.defineProperty(O,e,{enumerable:!0,get:()=>t,set(e){t="string"==typeof e?a.normalize(e):e}})}))}}function I(e,t){"string"!=typeof t||"'"!==t[0]&&'"'!==t[0]||t[t.length-1]!==t[0]||(t=t.substring(1,t.length-1)),(N(e,E.bools)||N(e,E.counts))&&"string"==typeof t&&(t="true"===t);let n=Array.isArray(t)?t.map((function(t){return T(e,t)})):T(e,t);return N(e,E.counts)&&(U(n)||"boolean"==typeof n)&&(n=s),N(e,E.normalize)&&N(e,E.arrays)&&(n=Array.isArray(t)?t.map(a.normalize):a.normalize(t)),n}function T(e,t){if(!N(e,E.strings)&&!N(e,E.bools)&&!Array.isArray(t)){(null!=(n=t)&&("number"==typeof n||!!/^0x[0-9a-f]+$/i.test(n)||!(n.length>1&&"0"===n[0])&&/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(n))&&c["parse-numbers"]&&Number.isSafeInteger(Math.floor(t))||!U(t)&&N(e,E.numbers))&&(t=Number(t))}var n;return t}function P(e,t){Object.keys(e).forEach((function(n){const r=e[n],u=t?t+"."+n:n;"object"==typeof r&&null!==r&&!Array.isArray(r)&&c["dot-notation"]?P(r,u):(!R(C,u.split("."))||N(u,E.arrays)&&c["combine-arrays"])&&A(u,r)}))}function M(e,t){if(void 0===h)return;const n="string"==typeof h?h:"";Object.keys(process.env).forEach((function(u){if(""===n||0===u.lastIndexOf(n,0)){const a=u.split("__").map((function(e,t){return 0===t&&(e=e.substring(n.length)),r(e)}));(t&&E.configs[a.join(".")]||!t)&&!R(e,a)&&A(a.join("."),process.env[u])}}))}function j(e,t,n,r=!1){Object.keys(n).forEach((function(u){R(e,u.split("."))||(k(e,u.split("."),n[u]),r&&(y[u]=!0),(t[u]||[]).forEach((function(t){R(e,t.split("."))||k(e,t.split("."),n[u])})))}))}function R(e,t){let n=e;c["dot-notation"]||(t=[t.join(".")]),t.slice(0,-1).forEach((function(e){n=n[e]||{}}));const r=t[t.length-1];return"object"==typeof n&&r in n}function k(e,t,n){let r=e;c["dot-notation"]||(t=[t.join(".")]),t.slice(0,-1).forEach((function(e,t){e=f(e),"object"==typeof r&&void 0===r[e]&&(r[e]={}),"object"!=typeof r[e]||Array.isArray(r[e])?(Array.isArray(r[e])?r[e].push({}):r[e]=[r[e],{}],r=r[e][r[e].length-1]):r=r[e]}));const u=f(t[t.length-1]),a=N(t.join("."),E.arrays),d=Array.isArray(n);let o=c["duplicate-arguments-array"];!o&&N(u,E.nargs)&&(o=!0,(!U(r[u])&&1===E.nargs[u]||Array.isArray(r[u])&&r[u].length===E.nargs[u])&&(r[u]=void 0)),n===s?r[u]=s(r[u]):Array.isArray(r[u])?o&&a&&d?r[u]=c["flatten-duplicate-arrays"]?r[u].concat(n):(Array.isArray(r[u][0])?r[u]:[r[u]]).concat([n]):o||Boolean(a)!==Boolean(d)?r[u]=r[u].concat([n]):r[u]=n:void 0===r[u]&&a?r[u]=d?n:[n]:!o||void 0===r[u]||N(u,E.counts)||N(u,E.bools)?r[u]=n:r[u]=[r[u],n]}function N(e,t){const n=[].concat(E.aliases[e]||[],e),r=Object.keys(t),u=n.find(e=>r.includes(e));return!!u&&t[u]}function B(e){return[].concat(Object.keys(E).map(e=>E[e])).some((function(t){return Array.isArray(t)?t.includes(e):t[e]}))}function $(e){return c["unknown-options-as-args"]&&function(e){if(e.match(v))return!1;if(function(e){if(e.match(v)||!e.match(/^-[^-]+/))return!1;let t,n=!0;const r=e.slice(1).split("");for(let u=0;u<r.length;u++){if(t=e.slice(u+2),!B(r[u])){n=!1;break}if(r[u+1]&&"="===r[u+1]||"-"===t||/[A-Za-z]/.test(r[u])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(t)||r[u+1]&&r[u+1].match(/\W/))break}return n}(e))return!1;return!function(e,...t){return[].concat(...t).some((function(t){const n=e.match(t);return n&&B(n[1])}))}(e,/^-+([^=]+?)=[\s\S]*$/,_,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}(e)}function L(e){return N(e,E.bools)||N(e,E.counts)||!(""+e in l)?function(e){return{boolean:!0,string:"",number:void 0,array:[]}[e]}(function(e){let t="boolean";N(e,E.strings)?t="string":N(e,E.numbers)?t="number":N(e,E.bools)?t="boolean":N(e,E.arrays)&&(t="array");return t}(e)):l[e]}function U(e){return void 0===e}return M(C,!0),M(C,!1),function(e){const t=Object.create(null);j(t,E.aliases,l),Object.keys(E.configs).forEach((function(r){const u=e[r]||t[r];if(u)try{let e=null;const t=a.resolve(process.cwd(),u);if("function"==typeof E.configs[r]){try{e=E.configs[r](t)}catch(t){e=t}if(e instanceof Error)return void(w=e)}else e=n(149)(t);P(e)}catch(t){e[r]&&(w=Error(D("Invalid JSON config file: %s",u)))}}))}(C),function(){if(void 0===p)return;p.forEach((function(e){P(e)}))}(),j(C,E.aliases,l,!0),function(e){let t;const n=new Set;Object.keys(e).forEach((function(r){if(!n.has(r)&&(t=N(r,E.coercions),"function"==typeof t))try{const u=T(r,t(e[r]));[].concat(E.aliases[r]||[],r).forEach(t=>{n.add(t),e[t]=u})}catch(e){w=e}}))}(C),c["set-placeholder-key"]&&function(e){E.keys.forEach(t=>{~t.indexOf(".")||void 0===e[t]&&(e[t]=void 0)})}(C),Object.keys(E.counts).forEach((function(e){R(C,e.split("."))||A(e,0)})),m&&S.length&&(C[g]=[]),S.forEach((function(e){C[g].push(e)})),c["camel-case-expansion"]&&c["strip-dashed"]&&Object.keys(C).filter(e=>"--"!==e&&e.includes("-")).forEach(e=>{delete C[e]}),c["strip-aliased"]&&[].concat(...Object.keys(i).map(e=>i[e])).forEach(e=>{c["camel-case-expansion"]&&delete C[e.split(".").map(e=>r(e)).join(".")],delete C[e]}),{argv:Object.assign(O,C),error:w,aliases:Object.assign({},E.aliases),newAliases:Object.assign({},b),defaulted:Object.assign({},y),configuration:c}}function s(e){return void 0!==e?e+1:1}function c(e,t){return i(e.slice(),t).argv}function f(e){return"__proto__"===e?"___proto___":e}c.detailed=function(e,t){return i(e.slice(),t)},e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.objFilter=void 0;const r=n(31);t.objFilter=function(e={},t=(()=>!0)){const n={};return r.objectKeys(e).forEach(r=>{t(r,e[r])&&(n[r]=e[r])}),n}},function(e,t,n){var r=n(10),u=n(46),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==u(e)?a.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(71);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,u){return e.call(t,n,r,u)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(47),u=n(25),a=n(37);e.exports=function(e,t,n){var d=r(t);d in e?u.f(e,d,a(0,n)):e[d]=n}},function(e,t,n){var r=n(49),u=n(105);(e.exports=function(e,t){return u[e]||(u[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(10);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(10),u=n(3),a=n(107),d=u("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[d]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r=n(14),u=n(8),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(u[e]):r[e]&&r[e][t]||u[e]&&u[e][t]}},function(e,t,n){var r=n(24),u=n(32),a=n(108),d=function(e){return function(t,n,d){var o,i=r(t),s=u(i.length),c=a(d,s);if(e&&n!=n){for(;s>c;)if((o=i[c++])!=o)return!0}else for(;s>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:d(!0),indexOf:d(!1)}},function(e,t,n){var r,u=n(21),a=n(172),d=n(81),o=n(51),i=n(173),s=n(102),c=n(52),f=c("IE_PROTO"),l=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=s("iframe")).style.display="none",i.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=d.length;n--;)delete h.prototype[d[n]];return h()};o[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(l.prototype=u(e),n=new l,l.prototype=null,n[f]=e):n=h(),void 0===t?n:a(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){e.exports=n(181)},function(e,t,n){n(182);var r=n(190),u=n(8),a=n(41),d=n(19),o=n(27),i=n(3)("toStringTag");for(var s in r){var c=u[s],f=c&&c.prototype;f&&a(f)!==i&&d(f,i,s),o[s]=o.Array}},function(e,t,n){var r,u,a,d=n(183),o=n(8),i=n(13),s=n(19),c=n(11),f=n(52),l=n(51),p=o.WeakMap;if(d){var h=new p,m=h.get,g=h.has,b=h.set;r=function(e,t){return b.call(h,e,t),t},u=function(e){return m.call(h,e)||{}},a=function(e){return g.call(h,e)}}else{var y=f("state");l[y]=!0,r=function(e,t){return s(e,y,t),t},u=function(e){return c(e,y)?e[y]:{}},a=function(e){return c(e,y)}}e.exports={set:r,get:u,has:a,enforce:function(e){return a(e)?u(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!i(t)||(n=u(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r={};r[n(3)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){"use strict";var r=n(191).charAt,u=n(84),a=n(112),d=u.set,o=u.getterFor("String Iterator");a(String,"String",(function(e){d(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=o(this),n=t.string,u=t.index;return u>=n.length?{value:void 0,done:!0}:(e=r(n,u),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(70),u=n(69),a=n(26),d=n(32),o=n(104),i=[].push,s=function(e){var t=1==e,n=2==e,s=3==e,c=4==e,f=6==e,l=5==e||f;return function(p,h,m,g){for(var b,y,D=a(p),E=u(D),v=r(h,m,3),_=d(E.length),w=0,S=g||o,C=t?S(p,_):n?S(p,0):void 0;_>w;w++)if((l||w in E)&&(y=v(b=E[w],w,D),e))if(t)C[w]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return w;case 2:i.call(C,b)}else if(c)return!1;return f?-1:s||c?c:C}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},function(e,t,n){"use strict";const r=n(89),u=n(294),a=n(295),d=e=>{if("string"!=typeof(e=e.replace(a(),"  "))||0===e.length)return 0;e=r(e);let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r<=31||r>=127&&r<=159||(r>=768&&r<=879||(r>65535&&n++,t+=u(r)?2:1))}return t};e.exports=d,e.exports.default=d},function(e,t,n){"use strict";const r=n(293);e.exports=e=>"string"==typeof e?e.replace(r(),""):e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CORE_RECIPES=t.ORDERED_BY=void 0;
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const r={ONE:"orderedByONE",APP:"orderedByApp"};t.ORDERED_BY=r;const u=[{$type$:"Recipe",name:"Access",rule:[{itemprop:"object",referenceToObj:new Set(["*"]),isId:!0},{itemprop:"person",referenceToId:new Set(["Person"]),list:r.ONE},{itemprop:"group",referenceToId:new Set(["Group"]),list:r.ONE}]},{$type$:"Recipe",name:"AccessMutable",rule:[{itemprop:"object",referenceToObj:new Set(["*"]),isId:!0},{itemprop:"person",referenceToId:new Set(["Person"]),list:r.ONE},{itemprop:"group",referenceToId:new Set(["Group"]),list:r.ONE}]},{$type$:"Recipe",name:"IdAccess",rule:[{itemprop:"id",referenceToId:new Set(["*"]),isId:!0},{itemprop:"person",referenceToId:new Set(["Person"]),list:r.ONE},{itemprop:"group",referenceToId:new Set(["Group"]),list:r.ONE}]},{$type$:"Recipe",name:"Chum",rule:[{itemprop:"name",isId:!0},{itemprop:"instance",isId:!0,list:r.APP},{itemprop:"person",isId:!0,list:r.APP,regexp:/^(undefined|[0-9a-f]{64})$/},{itemprop:"highestRemoteTimestamp",valueType:"number"},{itemprop:"AtoBObjects",referenceToObj:new Set(["*"]),list:r.ONE},{itemprop:"BtoAObjects",referenceToObj:new Set(["*"]),list:r.ONE},{itemprop:"AtoBOther",referenceToBlob:!0,list:r.ONE},{itemprop:"BtoAOther",referenceToBlob:!0,list:r.ONE},{itemprop:"unacknowledged",valueType:"Set",optional:!0},{itemprop:"statistics",valueType:"object",optional:!0},{itemprop:"errors",valueType:"object",optional:!0}]},{$type$:"Recipe",name:"Group",rule:[{itemprop:"name",isId:!0},{itemprop:"person",referenceToId:new Set(["Person"]),list:r.ONE}]},{$type$:"Recipe",name:"Instance",rule:[{itemprop:"name",isId:!0},{itemprop:"owner",referenceToId:new Set(["Person"]),isId:!0},{itemprop:"recipe",referenceToObj:new Set(["Recipe"]),list:r.ONE},{itemprop:"module",referenceToObj:new Set(["Module"]),list:r.ONE},{itemprop:"enabledReverseMapTypes",valueType:"Map"}]},{$type$:"Recipe",name:"Keys",rule:[{itemprop:"owner",referenceToId:new Set(["Instance","Person"])},{itemprop:"publicKey",regexp:/^[A-Za-z0-9+/]{43}=$/},{itemprop:"publicSignKey",regexp:/^[A-Za-z0-9+/]{43}=$/,optional:!0}]},{$type$:"Recipe",name:"Module",rule:[{itemprop:"name",isId:!0},{itemprop:"version",optional:!0},{itemprop:"provides",list:r.ONE,optional:!0},{itemprop:"requires",list:r.ONE,optional:!0},{itemprop:"code",referenceToClob:!0}]},{$type$:"Recipe",name:"Person",rule:[{itemprop:"email",isId:!0},{itemprop:"name",optional:!0}]},{$type$:"Recipe",name:"Plan",rule:[{itemprop:"parameters"},{itemprop:"impureParam",optional:!0},{itemprop:"moduleName"},{itemprop:"moduleHash",referenceToObj:new Set(["Module"]),optional:!0},{itemprop:"moduleDependency",referenceToObj:new Set(["Module"]),list:r.ONE,optional:!0},{itemprop:"namedDependency",list:r.ONE,optional:!0},{itemprop:"startTime",valueType:"number",optional:!0},{itemprop:"endTime",valueType:"number",optional:!0},{itemprop:"child",referenceToObj:new Set(["Plan"]),list:r.ONE,optional:!0},{itemprop:"object",list:r.ONE,optional:!0,rule:[{itemprop:"reference",referenceToObj:new Set(["*"])},{itemprop:"type"},{itemprop:"status",regexp:/^(new|exists)$/},{itemprop:"idHash",regexp:/^[0-9a-f]{64}$/,optional:!0},{itemprop:"timestamp",valueType:"number",optional:!0}]},{itemprop:"blob",list:r.ONE,optional:!0,rule:[{itemprop:"reference",referenceToBlob:!0},{itemprop:"status",regexp:/^(new|exists)$/}]},{itemprop:"clob",list:r.ONE,optional:!0,rule:[{itemprop:"reference",referenceToClob:!0},{itemprop:"status",regexp:/^(new|exists)$/}]},{itemprop:"errors",valueType:"object",optional:!0},{itemprop:"returns",list:r.APP,regexp:/^[0-9a-f]{64}$/,optional:!0}]},{$type$:"Recipe",name:"Recipe",rule:[{itemprop:"name",isId:!0},{itemprop:"rule",name:"RecipeRule",rule:[{itemprop:"itemprop"},{itemprop:"referenceToObj",valueType:"Set",optional:!0},{itemprop:"referenceToId",valueType:"Set",optional:!0},{itemprop:"referenceToBlob",valueType:"boolean",optional:!0},{itemprop:"referenceToClob",valueType:"boolean",optional:!0},{itemprop:"isId",valueType:"boolean",optional:!0},{itemprop:"list",regexp:/^(orderedByONE|orderedByApp)$/,optional:!0},{itemprop:"valueType",regexp:/^(string|boolean|number|regexp|object|Map|Set)$/,optional:!0},{itemprop:"regexp",valueType:"regexp",optional:!0},{itemprop:"rule",inheritFromNamedRule:"RecipeRule",optional:!0},{itemprop:"optional",valueType:"boolean",optional:!0},{itemprop:"name",optional:!0},{itemprop:"inheritFromNamedRule",optional:!0}],list:r.APP}]}];t.CORE_RECIPES=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNeverFailAsyncErrorWrapper=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function(e){return function(t){return async function(...n){try{await t(...n)}catch(t){e(t)}}}},t.createRethrowingAsyncErrorWrapper=function(e){return function(t){return async function(...n){try{return await t(...n)}catch(t){throw e(t),t}}}},t.createArrayValueMap=function(e=new Map){return{mapObj:e,add:function(t,n){const r=e.get(t);void 0===r?e.set(t,[n]):r.push(n)},map:function(t){return new Map(Array.from(e).map(([e,n])=>[e,t(e,n)]))},mapAsync:async function(t){return new Map(await Promise.all(Array.from(e).map(async([e,n])=>[e,await t(e,n)])))}}},t.flat=function(e,t=1){if((0,u.isFunction)(Array.prototype.flat))return e.flat(t);if(e.length<65535&&1===t)return Array.prototype.concat.apply([],e);return function e(t,n,r=0){const u=[];for(const a of t)Array.isArray(a)&&r<n?u.push(...e(a,n,r+1)):u.push(a);return u}(e,t)},t.concatArrays=function(...e){return Array.prototype.concat.apply([],e.filter(e=>null!=e))},t.memoize=function(e,t=(e=>e[0])){const n=new Map;return function(...r){const u=t(r),a=n.get(u);if(void 0===a){const t=e(...r);return n.set(u,t),t}return a}},t.throttleWithFixedDelay=function(e,t,n){let a;return{cancel:function(){clearTimeout(a),a=void 0},throttled:function(){void 0===a&&(a=setTimeout((async function(){a=void 0;try{await e()}catch(e){if(!(0,u.isFunction)(n))throw(0,r.createError)("UFU-THROTT1",e);n(e)}}),t))}}};var r=n(0),u=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createVersionMapOrAppendEntry=function(e,t,n,r,o=u.VERSION_UPDATES.ALWAYS){return(0,d.serializeWithType)("VersionMap "+e,(async function(){const d=r===u.CREATION_STATUS.NEW?u.VERSION_UPDATES.ALWAYS:o;if(d===u.VERSION_UPDATES.NONE)return;i(e,t,n);const s=Date.now(),c=s.toString().padStart(16,"0")+","+t+","+n+"\n";if(d===u.VERSION_UPDATES.ALWAYS)return await(0,a.appendUTF8SystemMapFile)(c,e,"version-maps"),s;const f=await(0,a.readUTF8TextFile)(e,"version-maps");switch(d){case u.VERSION_UPDATES.NONE_IF_LATEST:if(f.endsWith(n+"\n"))return;break;case u.VERSION_UPDATES.NONE_IF_CREATED_BY_PLAN:if(f.includes(t+","+n+"\n"))return;break;case u.VERSION_UPDATES.NONE_IF_LATEST_AND_CREATED_BY_PLAN:if(f.includes(t+",")&&f.endsWith(n+"\n"))return}return await(0,a.appendUTF8SystemMapFile)(c,e,"version-maps"),s}))},t.removeVersionMapEntry=function(e,t,n){return(0,d.serializeWithType)("VersionMap "+e,(async function(){i(e,t,n);const r=await(0,a.readUTF8TextFile)(e,"version-maps"),u=r.replace(new RegExp("\\d{16,"+t+","+n+"\n","g"),"");return r.length!==u.length&&(await(0,a.writeUTF8SystemMapFile)(u,e,"version-maps"),!0)}))},t.TIMESTAMP_LENGTH=void 0;var r=n(0),u=n(12),a=n(7),d=n(29);function o(e){return"string"==typeof e&&64===e.length}function i(e,t,n){if(!o(e)||!o(t)||!o(n))throw(0,r.createError)("VMU-CP1",{idHash:e,planHash:t,objectHash:n})}t.TIMESTAMP_LENGTH=16},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setIdHash=function(e,t){u.set(e,t)},t.getIdHash=async function(e){const t=u.get(e);if(void 0!==t)return null===t?void 0:t;const n=await(0,r.calculateIdHash)(e);return u.set(e,void 0===n?null:n),n};var r=n(136);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const u=(0,n(331).createLruMap)(500)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEventSource=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2019
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function(){const e=new Set;const t={consumer:{addListener:function(n){if(e.has(n))throw(0,r.createError)("EVS-CR1");e.add(n),(0,u.isFunction)(t.onListenerChange)&&t.onListenerChange(e.size-1,e.size,n)},removeListener:function(n){if(!e.has(n))throw(0,r.createError)("EVS-CR1");e.delete(n),null!==t.onListenerChange&&t.onListenerChange(e.size+1,e.size,n)}},onListenerChange:null,dispatch:function(t){e.forEach(e=>e(t))}};return t};var r=n(0),u=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=function({includeInstanceName:e=!1,includeTimestamp:t=!1,types:n=["error","alert","log","debug"]}={}){h=e,m=t;for(const e of n)i.on(e,(t,...n)=>g(e,t,n));i.send("log","Logger started.")};var r=n(335),u=n(6),a=n(1),d=n(345),o=n(139);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const i=(0,u.createMessageBus)("logger"),s=d.platform===o.PLATFORMS.BROWSER,c=s?{OFF:"",BOLD_ON:"font-weight: bold;",BOLD_OFF:"font-weight: normal;",INVERSE_ON:"",FG_BLACK:"color: black;",FG_RED:"color: red;",FG_GREEN:"color: green;",FG_YELLOW:"color: yellow;",FG_BLUE:"color: blue;",FG_MAGENTA:"color: magenta;",FG_CYAN:"color: cyan;",FG_WHITE:"color: white;",BG_BLACK:"background-color: black;",BG_RED:"background-color: red;",BG_GREEN:"background-color: green;",BG_YELLOW:"background-color: yellow;",BG_BLUE:"background-color: blue;",BG_MAGENTA:"background-color: magenta;",BG_CYAN:"background-color: cyan;",BG_WHITE:"background-color: white;"}:{OFF:"[0m",BOLD_ON:"[1m",BOLD_OFF:"[22m",INVERSE_ON:"[7m",FG_BLACK:"[30m",FG_RED:"[31m",FG_GREEN:"[32m",FG_YELLOW:"[33m",FG_BLUE:"[34m",FG_MAGENTA:"[35m",FG_CYAN:"[36m",FG_WHITE:"[37m",BG_BLACK:"",BG_RED:"[41m",BG_GREEN:"[42m",BG_YELLOW:"[43m",BG_BLUE:"[44m",BG_MAGENTA:"[45m",BG_CYAN:"[46m",BG_WHITE:"[47m"},f=s?{debug:c.FG_YELLOW+c.BG_BLACK,log:c.FG_GREEN,alert:c.BG_WHITE+c.FG_BLUE,error:c.BOLD_ON+c.BG_RED+c.FG_BLACK}:{debug:c.FG_YELLOW,log:c.FG_GREEN,alert:c.BG_WHITE+c.FG_BLUE,error:c.BOLD_ON+c.BG_RED+c.FG_BLACK},l=["debug","log","alert","error"],p={};let h=!1,m=!1;function g(e,t,n){const r=l.includes(e)?e:"debug";p[r](t,n.map(e=>{if((0,a.isObject)(e)){if((0,a.isString)(e.message)&&(0,a.isString)(e.stack))return["name","message","stack",...Reflect.ownKeys(e).filter(a.isString)].filter((e,t,n)=>n.indexOf(e)===t).map(t=>e[t]).join(" ");const t=new Set;return JSON.stringify(e,(e,n)=>{if((0,a.isObject)(n)){if(t.has(n))return"[~CIRCLE-OR-DUPLICATE]";t.add(n)}return n})}return e}).join("\n"))}l.forEach(e=>{p[e]=(t,...n)=>{const u=(0,r.getInstanceName)()||"n/a",a=h?"["+u+"] ":"",d=new Date,o=m?`${d.getDate()}.${d.getMonth()+1}.${d.getFullYear()} @ ${d.getHours()}:${d.getMinutes()}:${d.getSeconds()} `:"";s?console.log(`${a}${o}%c ${t} ${e} ${n.join(" ")}`,f[e]):console.log(a+f[e]+t,e+c.OFF,...n)}})},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.isYargsInstance=t.rebase=t.Yargs=void 0;const r=n(97),u=n(31),a=n(45),d=n(150),o=n(65),i=n(15),s=n(303),c=n(4),f=n(305),l=n(68),p=n(307),h=n(98),m=n(125),g=n(44),b=n(67),y=n(308),D=n(123),E=n(309),v=n(315);function _(e,t){return c.relative(e,t)}t.Yargs=function(t=[],w=process.cwd(),S=n(54)){const C={};let O,x=null,F={};const A=[];let I="";const T={};let P,M,j=null;const R=y({directory:c.resolve(e,"../../locales"),updateFiles:!1});let k;C.middleware=h.globalMiddlewareFactory(A,C),C.scriptName=function(e){return C.customScriptName=!0,C.$0=e,C},k=/\b(node|iojs|electron)(\.exe)?$/.test(process.argv[0])?process.argv.slice(1,2):process.argv.slice(0,1),C.$0=k.map(e=>{const t=_(w,e);return e.match(/^(\/|([a-zA-Z]:)?\\)/)&&t.length<e.length?t:e}).join(" ").trim(),void 0!==process.env._&&m.getProcessArgvBin()===process.env._&&(C.$0=process.env._.replace(c.dirname(process.execPath)+"/",""));const N={resets:-1,commands:[],fullCommands:[],files:[]};let B;C.getContext=()=>N,C.resetOptions=C.reset=function(e={}){N.resets++,B=B||{};const t={};t.local=B.local?B.local:[],t.configObjects=B.configObjects?B.configObjects:[];const n={};t.local.forEach(t=>{n[t]=!0,(e[t]||[]).forEach(e=>{n[e]=!0})}),Object.assign(T,Object.keys(F).reduce((e,t)=>{const r=F[t].filter(e=>!(e in n));return r.length>0&&(e[t]=r),e},{})),F={};return["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"].forEach(e=>{t[e]=(B[e]||[]).filter(e=>!n[e])}),["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","coerce","deprecatedOptions"].forEach(e=>{t[e]=l.objFilter(B[e],e=>!n[e])}),t.envPrefix=B.envPrefix,B=t,P=P?P.reset(n):d.usage(C,R),M=M?M.reset(n):f.validation(C,P,R),O=O?O.reset():r.command(C,P,M,A),x||(x=s.completion(C,P,O)),oe=null,I="",ce=null,se=!1,C.parsed=!1,C},C.resetOptions();const $=[];function L(){$.push({options:B,configObjects:B.configObjects.slice(0),exitProcess:de,groups:F,strict:ee,strictCommands:te,completionCommand:oe,output:I,exitError:ce,hasOutput:se,parsed:C.parsed,parseFn:X,parseContext:Q,handlerFinishCommand:j}),P.freeze(),M.freeze(),O.freeze()}function U(){const e=$.pop();let t;u.assertNotStrictEqual(e,void 0),({options:B,configObjects:t,exitProcess:de,groups:F,output:I,exitError:ce,hasOutput:se,parsed:C.parsed,strict:ee,strictCommands:te,completionCommand:oe,parseFn:X,parseContext:Q,handlerFinishCommand:j}=e),B.configObjects=t,P.unfreeze(),M.unfreeze(),O.unfreeze()}function H(e,t){(t=[].concat(t)).forEach(t=>{t=q(t),B[e].push(t)})}function W(e,t){return V(W,"key",e,t),C}function K(e,t){return o.argsert("<object|string|array> [string]",[e,t],arguments.length),V(C.demandOption,"demandedOptions",e,t),C}function V(e,t,n,r){z(e,t,n,r,(e,t,n)=>{B[e][t]=n})}function G(e,t,n,r){z(e,t,n,r,(e,t,n)=>{B[e][t]=(B[e][t]||[]).concat(n)})}function z(e,t,n,r,a){if(Array.isArray(n))n.forEach(t=>{e(t,r)});else if((e=>"object"==typeof e)(n))for(const t of u.objectKeys(n))e(t,n[t]);else a(t,q(n),r)}function q(e){return"__proto__"===e?"___proto___":e}function Y(e){u.objectKeys(B).forEach(t=>{if("configObjects"===t)return;const n=B[t];Array.isArray(n)?~n.indexOf(e)&&n.splice(n.indexOf(e),1):"object"==typeof n&&delete n[e]}),delete P.getDescriptions()[e]}C.boolean=function(e){return o.argsert("<array|string>",[e],arguments.length),H("boolean",e),C},C.array=function(e){return o.argsert("<array|string>",[e],arguments.length),H("array",e),C},C.number=function(e){return o.argsert("<array|string>",[e],arguments.length),H("number",e),C},C.normalize=function(e){return o.argsert("<array|string>",[e],arguments.length),H("normalize",e),C},C.count=function(e){return o.argsert("<array|string>",[e],arguments.length),H("count",e),C},C.string=function(e){return o.argsert("<array|string>",[e],arguments.length),H("string",e),C},C.requiresArg=function(e){return o.argsert("<array|string|object> [number]",[e],arguments.length),"string"==typeof e&&B.narg[e]||V(C.requiresArg,"narg",e,NaN),C},C.skipValidation=function(e){return o.argsert("<array|string>",[e],arguments.length),H("skipValidation",e),C},C.nargs=function(e,t){return o.argsert("<string|object|array> [number]",[e,t],arguments.length),V(C.nargs,"narg",e,t),C},C.choices=function(e,t){return o.argsert("<object|string|array> [string|array]",[e,t],arguments.length),G(C.choices,"choices",e,t),C},C.alias=function(e,t){return o.argsert("<object|string|array> [string|array]",[e,t],arguments.length),G(C.alias,"alias",e,t),C},C.default=C.defaults=function(e,t,n){return o.argsert("<object|string|array> [*] [string]",[e,t,n],arguments.length),n&&(u.assertSingleKey(e),B.defaultDescription[e]=n),"function"==typeof t&&(u.assertSingleKey(e),B.defaultDescription[e]||(B.defaultDescription[e]=P.functionDescription(t)),t=t.call()),V(C.default,"default",e,t),C},C.describe=function(e,t){return o.argsert("<object|string|array> [string]",[e,t],arguments.length),W(e,!0),P.describe(e,t),C},C.demandOption=K,C.coerce=function(e,t){return o.argsert("<object|string|array> [function]",[e,t],arguments.length),V(C.coerce,"coerce",e,t),C},C.config=function(e="config",t,n){return o.argsert("[object|string] [string|function] [function]",[e,t,n],arguments.length),"object"!=typeof e||Array.isArray(e)?("function"==typeof t&&(n=t,t=void 0),C.describe(e,t||P.deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(e=>{B.config[e]=n||!0}),C):(e=p.applyExtends(e,w,C.getParserConfiguration()["deep-merge-config"]),B.configObjects=(B.configObjects||[]).concat(e),C)},C.example=function(e,t){return o.argsert("<string|array> [string]",[e,t],arguments.length),Array.isArray(e)?e.forEach(e=>C.example(...e)):P.example(e,t),C},C.command=function(e,t,n,r,u,a){return o.argsert("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,t,n,r,u,a],arguments.length),O.addHandler(e,t,n,r,u,a),C},C.commandDir=function(e,t){o.argsert("<string> [object]",[e,t],arguments.length);const r=S||n(54);return O.addDirectory(e,C.getContext(),r,n(317)(),t),C},C.demand=C.required=C.require=function(e,t,n){return Array.isArray(t)?(t.forEach(e=>{u.assertNotStrictEqual(n,!0),K(e,n)}),t=1/0):"number"!=typeof t&&(n=t,t=1/0),"number"==typeof e?(u.assertNotStrictEqual(n,!0),C.demandCommand(e,t,n,n)):Array.isArray(e)?e.forEach(e=>{u.assertNotStrictEqual(n,!0),K(e,n)}):"string"==typeof n?K(e,n):!0!==n&&void 0!==n||K(e),C},C.demandCommand=function(e=1,t,n,r){return o.argsert("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,t,n,r],arguments.length),"number"!=typeof t&&(n=t,t=1/0),C.global("_",!1),B.demandedCommands._={min:e,max:t,minMsg:n,maxMsg:r},C},C.getDemandedOptions=()=>(o.argsert([],0),B.demandedOptions),C.getDemandedCommands=()=>(o.argsert([],0),B.demandedCommands),C.deprecateOption=function(e,t){return o.argsert("<string> [string|boolean]",[e,t],arguments.length),B.deprecatedOptions[e]=t,C},C.getDeprecatedOptions=()=>(o.argsert([],0),B.deprecatedOptions),C.implies=function(e,t){return o.argsert("<string|object> [number|string|array]",[e,t],arguments.length),M.implies(e,t),C},C.conflicts=function(e,t){return o.argsert("<string|object> [string|array]",[e,t],arguments.length),M.conflicts(e,t),C},C.usage=function(e,t,n,r){if(o.argsert("<string|null|undefined> [string|boolean] [function|object] [function]",[e,t,n,r],arguments.length),void 0!==t){if(u.assertNotStrictEqual(e,null),(e||"").match(/^\$0( |$)/))return C.command(e,t,n,r);throw new a.YError(".usage() description must start with $0 if being used as alias for .command()")}return P.usage(e),C},C.epilogue=C.epilog=function(e){return o.argsert("<string>",[e],arguments.length),P.epilog(e),C},C.fail=function(e){return o.argsert("<function>",[e],arguments.length),P.failFn(e),C},C.onFinishCommand=function(e){return o.argsert("<function>",[e],arguments.length),j=e,C},C.getHandlerFinishCommand=()=>j,C.check=function(e,t){return o.argsert("<function> [boolean]",[e,t],arguments.length),M.check(e,!1!==t),C},C.global=function(e,t){return o.argsert("<string|array> [boolean]",[e,t],arguments.length),e=[].concat(e),!1!==t?B.local=B.local.filter(t=>-1===e.indexOf(t)):e.forEach(e=>{-1===B.local.indexOf(e)&&B.local.push(e)}),C},C.pkgConf=function(e,t){o.argsert("<string> [string]",[e,t],arguments.length);let n=null;const r=Z(t||w);return r[e]&&"object"==typeof r[e]&&(n=p.applyExtends(r[e],t||w,C.getParserConfiguration()["deep-merge-config"]),B.configObjects=(B.configObjects||[]).concat(n)),C};const J={};function Z(e){const t=e||"*";if(J[t])return J[t];let n={};try{let t=e||v(S);!e&&c.extname(t)&&(t=c.dirname(t));const r=E.sync("package.json",{cwd:t});u.assertNotStrictEqual(r,void 0),n=JSON.parse(i.readFileSync(r).toString())}catch(e){}return J[t]=n||{},J[t]}let X=null,Q=null;C.parse=function(e,n,r){if(o.argsert("[string|array] [function|boolean|object] [function]",[e,n,r],arguments.length),L(),void 0===e){const e=C._parseArgs(t),n=C.parsed;return U(),C.parsed=n,e}"object"==typeof n&&(Q=n,n=r),"function"==typeof n&&(X=n,n=!1),n||(t=e),X&&(de=!1);const u=C._parseArgs(e,!!n);return x.setParsed(C.parsed),X&&X(ce,u,I),U(),u},C._getParseContext=()=>Q||{},C._hasParseCallback=()=>!!X,C.option=C.options=function(e,t){if(o.argsert("<string|object> [object]",[e,t],arguments.length),"object"==typeof e)Object.keys(e).forEach(t=>{C.options(t,e[t])});else{"object"!=typeof t&&(t={}),B.key[e]=!0,t.alias&&C.alias(e,t.alias);const n=t.deprecate||t.deprecated;n&&C.deprecateOption(e,n);const r=t.demand||t.required||t.require;r&&C.demand(e,r),t.demandOption&&C.demandOption(e,"string"==typeof t.demandOption?t.demandOption:void 0),t.conflicts&&C.conflicts(e,t.conflicts),"default"in t&&C.default(e,t.default),void 0!==t.implies&&C.implies(e,t.implies),void 0!==t.nargs&&C.nargs(e,t.nargs),t.config&&C.config(e,t.configParser),t.normalize&&C.normalize(e),t.choices&&C.choices(e,t.choices),t.coerce&&C.coerce(e,t.coerce),t.group&&C.group(e,t.group),(t.boolean||"boolean"===t.type)&&(C.boolean(e),t.alias&&C.boolean(t.alias)),(t.array||"array"===t.type)&&(C.array(e),t.alias&&C.array(t.alias)),(t.number||"number"===t.type)&&(C.number(e),t.alias&&C.number(t.alias)),(t.string||"string"===t.type)&&(C.string(e),t.alias&&C.string(t.alias)),(t.count||"count"===t.type)&&C.count(e),"boolean"==typeof t.global&&C.global(e,t.global),t.defaultDescription&&(B.defaultDescription[e]=t.defaultDescription),t.skipValidation&&C.skipValidation(e);const u=t.describe||t.description||t.desc;C.describe(e,u),t.hidden&&C.hide(e),t.requiresArg&&C.requiresArg(e)}return C},C.getOptions=()=>B,C.positional=function(e,t){if(o.argsert("<string> <object>",[e,t],arguments.length),0===N.resets)throw new a.YError(".positional() can only be called in a command's builder function");const n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];t=l.objFilter(t,(e,t)=>{let r=-1!==n.indexOf(e);return"type"===e&&-1===["string","number","boolean"].indexOf(t)&&(r=!1),r});const r=N.fullCommands[N.fullCommands.length-1],d=r?O.cmdToParseOptions(r):{array:[],alias:{},default:{},demand:{}};return u.objectKeys(d).forEach(n=>{const r=d[n];Array.isArray(r)?-1!==r.indexOf(e)&&(t[n]=!0):r[e]&&!(n in t)&&(t[n]=r[e])}),C.group(e,P.getPositionalGroupName()),C.option(e,t)},C.group=function(e,t){o.argsert("<string|array> <string>",[e,t],arguments.length);const n=T[t]||F[t];T[t]&&delete T[t];const r={};return F[t]=(n||[]).concat(e).filter(e=>!r[e]&&(r[e]=!0)),C},C.getGroups=()=>Object.assign({},F,T),C.env=function(e){return o.argsert("[string|boolean]",[e],arguments.length),!1===e?delete B.envPrefix:B.envPrefix=e||"",C},C.wrap=function(e){return o.argsert("<number|null|undefined>",[e],arguments.length),P.wrap(e),C};let ee=!1;C.strict=function(e){return o.argsert("[boolean]",[e],arguments.length),ee=!1!==e,C},C.getStrict=()=>ee;let te=!1;C.strictCommands=function(e){return o.argsert("[boolean]",[e],arguments.length),te=!1!==e,C},C.getStrictCommands=()=>te;let ne={};C.parserConfiguration=function(e){return o.argsert("<object>",[e],arguments.length),ne=e,C},C.getParserConfiguration=()=>ne,C.showHelp=function(e){return o.argsert("[string|function]",[e],arguments.length),C.parsed||C._parseArgs(t),O.hasDefaultCommand()&&(N.resets++,O.runDefaultBuilderOn(C)),P.showHelp(e),C};let re=null;function ue(){return Z().version||"unknown"}C.version=function(e,t,n){const r="version";if(o.argsert("[boolean|string] [string] [string]",[e,t,n],arguments.length),re&&(Y(re),P.version(void 0),re=null),0===arguments.length)n=ue(),e=r;else if(1===arguments.length){if(!1===e)return C;n=e,e=r}else 2===arguments.length&&(n=t,t=void 0);return re="string"==typeof e?e:r,t=t||P.deferY18nLookup("Show version number"),P.version(n||void 0),C.boolean(re),C.describe(re,t),C};let ae=null;C.addHelpOpt=C.help=function(e,t){const n="help";return o.argsert("[string|boolean] [string]",[e,t],arguments.length),ae&&(Y(ae),ae=null),1===arguments.length&&!1===e||(ae="string"==typeof e?e:n,C.boolean(ae),C.describe(ae,t||P.deferY18nLookup("Show help"))),C},B.showHiddenOpt="show-hidden",C.addShowHiddenOpt=C.showHidden=function(e,t){if(o.argsert("[string|boolean] [string]",[e,t],arguments.length),1===arguments.length&&!1===e)return C;const n="string"==typeof e?e:"show-hidden";return C.boolean(n),C.describe(n,t||P.deferY18nLookup("Show hidden options")),B.showHiddenOpt=n,C},C.hide=function(e){return o.argsert("<string>",[e],arguments.length),B.hiddenOptions.push(e),C},C.showHelpOnFail=function(e,t){return o.argsert("[boolean|string] [string]",[e,t],arguments.length),P.showHelpOnFail(e,t),C};var de=!0;C.exitProcess=function(e=!0){return o.argsert("[boolean]",[e],arguments.length),de=e,C},C.getExitProcess=()=>de;var oe=null;C.completion=function(e,t,n){return o.argsert("[string] [string|boolean|function] [function]",[e,t,n],arguments.length),"function"==typeof t&&(n=t,t=void 0),oe=e||oe||"completion",t||!1===t||(t="generate completion script"),C.command(oe,t),n&&x.registerFunction(n),C},C.showCompletionScript=function(e,t){return o.argsert("[string] [string]",[e,t],arguments.length),e=e||C.$0,fe.log(x.generateCompletionScript(e,t||oe||"completion")),C},C.getCompletion=function(e,t){o.argsert("<array> <function>",[e,t],arguments.length),x.getCompletion(e,t)},C.locale=function(e){return o.argsert("[string]",[e],arguments.length),e?(ie=!1,R.setLocale(e),C):(pe(),R.getLocale())},C.updateStrings=C.updateLocale=function(e){return o.argsert("<object>",[e],arguments.length),ie=!1,R.updateLocale(e),C};let ie=!0;C.detectLocale=function(e){return o.argsert("<boolean>",[e],arguments.length),ie=e,C},C.getDetectLocale=()=>ie;var se=!1,ce=null;C.exit=(e,t)=>{se=!0,ce=t,de&&process.exit(e)};const fe={log(...e){C._hasParseCallback()||console.log(...e),se=!0,I.length&&(I+="\n"),I+=e.join(" ")},error(...e){C._hasParseCallback()||console.error(...e),se=!0,I.length&&(I+="\n"),I+=e.join(" ")}};let le;function pe(){if(!ie)return;const e=process.env.LC_ALL||process.env.LC_MESSAGES||process.env.LANG||process.env.LANGUAGE||"en_US";C.locale(e.replace(/[.:].*/,""))}return C._getLoggerInstance=()=>fe,C._hasOutput=()=>se,C._setHasOutput=()=>{se=!0},C.recommendCommands=function(e=!0){return o.argsert("[boolean]",[e],arguments.length),le=e,C},C.getUsageInstance=()=>P,C.getValidationInstance=()=>M,C.getCommandInstance=()=>O,C.terminalWidth=()=>(o.argsert([],0),void 0!==process.stdout.columns?process.stdout.columns:null),Object.defineProperty(C,"argv",{get:()=>C._parseArgs(t),enumerable:!0}),C._parseArgs=function(e,n,r,u){let d=!!r;e=e||t,B.__=R.__,B.configuration=C.getParserConfiguration();const o=!!B.configuration["populate--"],i=Object.assign({},B.configuration,{"populate--":!0}),s=b.detailed(e,Object.assign({},B,{configuration:i}));let c=s.argv;Q&&(c=Object.assign({},c,Q));const f=s.aliases;c.$0=C.$0,C.parsed=s;try{if(pe(),n)return o||r?c:C._copyDoubleDash(c);if(ae){~[ae].concat(f[ae]||[]).filter(e=>e.length>1).indexOf(c._[c._.length-1])&&(c._.pop(),c[ae]=!0)}const t=O.getCommands(),i=x.completionKey in c,l=c[ae]||i,p=l&&(t.length>1||"$0"!==t[0]);if(c._.length){if(t.length){let e;for(let n,r=u||0;void 0!==c._[r];r++){if(n=String(c._[r]),~t.indexOf(n)&&n!==oe){const e=O.runCommand(n,C,s,r+1);return o?e:C._copyDoubleDash(e)}if(!e&&n!==oe){e=n;break}}if(O.hasDefaultCommand()&&!p){const e=O.runCommand(null,C,s);return o?e:C._copyDoubleDash(e)}le&&e&&!l&&M.recommendCommands(e,t)}oe&&~c._.indexOf(oe)&&!i&&(de&&D(!0),C.showCompletionScript(),C.exit(0))}else if(O.hasDefaultCommand()&&!p){const e=O.runCommand(null,C,s);return o?e:C._copyDoubleDash(e)}if(i){de&&D(!0);const t=(e=[].concat(e)).slice(e.indexOf("--"+x.completionKey)+1);return x.getCompletion(t,e=>{(e||[]).forEach(e=>{fe.log(e)}),C.exit(0)}),o||r?c:C._copyDoubleDash(c)}if(se||Object.keys(c).forEach(e=>{e===ae&&c[e]?(de&&D(!0),d=!0,C.showHelp("log"),C.exit(0)):e===re&&c[e]&&(de&&D(!0),d=!0,P.showVersion(),C.exit(0))}),!d&&B.skipValidation.length>0&&(d=Object.keys(c).some(e=>B.skipValidation.indexOf(e)>=0&&!0===c[e])),!d){if(s.error)throw new a.YError(s.error.message);i||C._runValidation(c,f,{},s.error)}}catch(e){if(!(e instanceof a.YError))throw e;P.fail(e.message,e)}return o||r?c:C._copyDoubleDash(c)},C._copyDoubleDash=function(e){if(g.isPromise(e)||!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch(e){}return e},C._runValidation=function(e,t,n,r,u=!1){if(r)throw new a.YError(r.message);M.nonOptionCount(e),M.requiredArguments(e);let d=!1;te&&(d=M.unknownCommands(e)),ee&&!d&&M.unknownArguments(e,t,n,u),M.customChecks(e,t),M.limitedChoices(e),M.implications(e),M.conflicting(e)},C.help(),C.version(),C},t.rebase=_,t.isYargsInstance=function(e){return!!e&&"function"==typeof e._parseArgs}}).call(this,"node_modules\\yargs\\build\\lib")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCommandBuilderCallback=t.isCommandBuilderDefinition=t.isCommandHandlerDefinition=t.command=void 0;const r=n(31),u=n(44),a=n(98),d=n(66),o=n(4),i=n(23),s=n(96),c=n(144),f=n(145),l=n(67),p=/(^\*)|(^\$0)/;function h(e){return"object"==typeof e}function m(e){return"object"==typeof e&&!!e.builder&&"function"==typeof e.handler}function g(e){return"function"==typeof e}t.command=function(e,t,n,b=[]){const y={};let D,E={},v={};function _(e){return!e.getUsageInstance().getUsageDisabled()&&0===e.getUsageInstance().getUsage().length}function w(e,t){const n=p.test(t.original)?t.original.replace(p,"").trim():t.original,r=e.filter(e=>!p.test(e));return r.push(n),"$0 "+r.join(" ")}function S(e,t,n){const r=e.cmd[0];e.variadic?n[r]=t._.splice(0).map(String):t._.length&&(n[r]=[String(t._.shift())])}function C(t,n,r){const u=Object.assign({},e.getOptions());u.default=Object.assign(r.default,u.default);for(const e of Object.keys(r.alias))u.alias[e]=(u.alias[e]||[]).concat(r.alias[e]);u.array=u.array.concat(r.array),delete u.config;const a=[];if(Object.keys(n).forEach(e=>{n[e].map(t=>{u.configuration["unknown-options-as-args"]&&(u.key[e]=!0),a.push("--"+e),a.push(t)})}),!a.length)return;const d=Object.assign({},u.configuration,{"populate--":!0}),o=l.detailed(a,Object.assign({},u,{configuration:d}));if(o.error)e.getUsageInstance().fail(o.error.message,o.error);else{const e=Object.keys(n);Object.keys(n).forEach(t=>{e.push(...o.aliases[t])}),Object.keys(o.argv).forEach(r=>{-1!==e.indexOf(r)&&(n[r]||(n[r]=o.argv[r]),t[r]=o.argv[r])})}}y.addHandler=function(e,n,u,s,c,l){let g=[];const b=a.commandMiddlewareFactory(c);if(s=s||(()=>{}),Array.isArray(e))g=e.slice(1),e=e[0];else if(h(e)){let t=Array.isArray(e.command)||"string"==typeof e.command?e.command:function(e){const t=f(e);if(!t)throw new Error("No command name given for module: "+i.inspect(e));return n=t.filename,o.basename(n,o.extname(n));var n}(e);return e.aliases&&(t=[].concat(t).concat(e.aliases)),void y.addHandler(t,function({describe:e,description:t,desc:n}){for(const u of[e,t,n]){if("string"==typeof u||!1===u)return u;r.assertNotStrictEqual(u,!0)}return!1}(e),e.builder,e.handler,e.middlewares,e.deprecated)}if(m(u))return void y.addHandler([e].concat(g),n,u.builder,u.handler,u.middlewares,u.deprecated);const _=d.parseCommand(e);g=g.map(e=>d.parseCommand(e).cmd);let w=!1;const S=[_.cmd].concat(g).filter(e=>!p.test(e)||(w=!0,!1));0===S.length&&w&&S.push("$0"),w&&(_.cmd=S[0],g=S.slice(1),e=e.replace(p,_.cmd)),g.forEach(e=>{v[e]=_.cmd}),!1!==n&&t.command(e,n,w,g,l),E[_.cmd]={original:e,description:n,handler:s,builder:u||{},middlewares:b,deprecated:l,demanded:_.demanded,optional:_.optional},w&&(D=E[_.cmd])},y.addDirectory=function(e,t,n,r,u){"boolean"!=typeof(u=u||{}).recurse&&(u.recurse=!1),Array.isArray(u.extensions)||(u.extensions=["js"]);const a="function"==typeof u.visit?u.visit:e=>e;u.visit=function(e,n,r){const u=a(e,n,r);if(u){if(~t.files.indexOf(n))return u;t.files.push(n),y.addHandler(u)}return u},c({require:n,filename:r},e,u)},y.getCommands=()=>Object.keys(E).concat(Object.keys(v)),y.getCommandHandlers=()=>E,y.hasDefaultCommand=()=>!!D,y.runCommand=function(e,t,r,d){let o=r.aliases;const i=E[e]||E[v[e]]||D,c=t.getContext();let f=c.files.length;const l=c.commands.slice();let p=r.argv,h={};e&&(c.commands.push(e),c.fullCommands.push(i.original));const m=i.builder;if(g(m)){const e=m(t.reset(r.aliases)),n=s.isYargsInstance(e)?e:t;_(n)&&n.getUsageInstance().usage(w(l,i),i.description),p=n._parseArgs(null,null,!0,d),o=n.parsed.aliases}else if(function(e){return"object"==typeof e}(m)){const e=t.reset(r.aliases);_(e)&&e.getUsageInstance().usage(w(l,i),i.description),Object.keys(i.builder).forEach(t=>{e.option(t,m[t])}),p=e._parseArgs(null,null,!0,d),o=e.parsed.aliases}t._hasOutput()||(h=function(e,t,r){t._=t._.slice(r.commands.length);const u=e.demanded.slice(0),a=e.optional.slice(0),d={};n.positionalCount(u.length,t._.length);for(;u.length;){S(u.shift(),t,d)}for(;a.length;){S(a.shift(),t,d)}return t._=r.commands.concat(t._),C(t,d,y.cmdToParseOptions(e.original)),d}(i,p,c));const O=b.slice(0).concat(i.middlewares);if(a.applyMiddleware(p,t,O,!0),t._hasOutput()||t._runValidation(p,o,h,t.parsed.error,!e),i.handler&&!t._hasOutput()){t._setHasOutput();let e;!!t.getOptions().configuration["populate--"]||t._copyDoubleDash(p),p=a.applyMiddleware(p,t,O,!1),e=u.isPromise(p)?p.then(e=>i.handler(e)):i.handler(p);const n=t.getHandlerFinishCommand();u.isPromise(e)?(t.getUsageInstance().cacheHelpMessage(),e.then(e=>{n&&n(e)}).catch(e=>{try{t.getUsageInstance().fail(null,e)}catch(e){}}).then(()=>{t.getUsageInstance().clearCachedHelpMessage()})):n&&n(e)}return e&&(c.commands.pop(),c.fullCommands.pop()),f=c.files.length-f,f>0&&c.files.splice(-1*f,f),p},y.runDefaultBuilderOn=function(e){if(r.assertNotStrictEqual(D,void 0),_(e)){const t=p.test(D.original)?D.original:D.original.replace(/^[^[\]<>]*/,"$0 ");e.getUsageInstance().usage(t,D.description)}const t=D.builder;g(t)?t(e):Object.keys(t).forEach(n=>{e.option(n,t[n])})},y.cmdToParseOptions=function(e){const t={array:[],default:{},alias:{},demand:{}},n=d.parseCommand(e);return n.demanded.forEach(e=>{const[n,...r]=e.cmd;e.variadic&&(t.array.push(n),t.default[n]=[]),t.alias[n]=r,t.demand[n]=!0}),n.optional.forEach(e=>{const[n,...r]=e.cmd;e.variadic&&(t.array.push(n),t.default[n]=[]),t.alias[n]=r}),t},y.reset=()=>(E={},v={},D=void 0,y);const O=[];return y.freeze=()=>{O.push({handlers:E,aliasMap:v,defaultCommand:D})},y.unfreeze=()=>{const e=O.pop();r.assertNotStrictEqual(e,void 0),({handlers:E,aliasMap:v,defaultCommand:D}=e)},y},t.isCommandHandlerDefinition=h,t.isCommandBuilderDefinition=m,t.isCommandBuilderCallback=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyMiddleware=t.commandMiddlewareFactory=t.globalMiddlewareFactory=void 0;const r=n(65),u=n(44);t.globalMiddlewareFactory=function(e,t){return function(n,u=!1){if(r.argsert("<array|function> [boolean]",[n,u],arguments.length),Array.isArray(n)){for(let e=0;e<n.length;e++){if("function"!=typeof n[e])throw Error("middleware must be a function");n[e].applyBeforeValidation=u}Array.prototype.push.apply(e,n)}else"function"==typeof n&&(n.applyBeforeValidation=u,e.push(n));return t}},t.commandMiddlewareFactory=function(e){return e?e.map(e=>(e.applyBeforeValidation=!1,e)):[]},t.applyMiddleware=function(e,t,n,r){const a=new Error("middleware cannot return a promise when applyBeforeValidation is true");return n.reduce((e,n)=>{if(n.applyBeforeValidation!==r)return e;if(u.isPromise(e))return e.then(e=>Promise.all([e,n(e,t)])).then(([e,t])=>Object.assign(e,t));{const d=n(e,t);if(r&&u.isPromise(d))throw a;return u.isPromise(d)?d.then(t=>Object.assign(e,t)):Object.assign(e,d)}},e)}},function(e,t,n){var r=n(18),u=n(100),a=n(37),d=n(24),o=n(47),i=n(11),s=n(101),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=d(e),t=o(t,!0),s)try{return c(e,t)}catch(e){}if(i(e,t))return a(!u.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,a=u&&!r.call({1:2},1);t.f=a?function(e){var t=u(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(18),u=n(10),a=n(102);e.exports=!r&&!u((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(8),u=n(13),a=r.document,d=u(a)&&u(a.createElement);e.exports=function(e){return d?a.createElement(e):{}}},function(e,t,n){"use strict";var r=n(5),u=n(10),a=n(39),d=n(13),o=n(26),i=n(32),s=n(73),c=n(104),f=n(77),l=n(3),p=n(107),h=l("isConcatSpreadable"),m=p>=51||!u((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=f("concat"),b=function(e){if(!d(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!m||!g},{concat:function(e){var t,n,r,u,a,d=o(this),f=c(d,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(b(a=-1===t?d:arguments[t])){if(l+(u=i(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<u;n++,l++)n in a&&s(f,l,a[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,l++,a)}return f.length=l,f}})},function(e,t,n){var r=n(13),u=n(39),a=n(3)("species");e.exports=function(e,t){var n;return u(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!u(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(8),u=n(161),a=r["__core-js_shared__"]||u("__core-js_shared__",{});e.exports=a},function(e,t,n){var r=n(76);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r,u,a=n(8),d=n(162),o=a.process,i=o&&o.versions,s=i&&i.v8;s?u=(r=s.split("."))[0]+r[1]:d&&(!(r=d.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=d.match(/Chrome\/(\d+)/))&&(u=r[1]),e.exports=u&&+u},function(e,t,n){var r=n(72),u=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?u(n+t,0):a(n,t)}},function(e,t,n){var r=n(110),u=n(81);e.exports=Object.keys||function(e){return r(e,u)}},function(e,t,n){var r=n(11),u=n(24),a=n(79).indexOf,d=n(51);e.exports=function(e,t){var n,o=u(e),i=0,s=[];for(n in o)!r(d,n)&&r(o,n)&&s.push(n);for(;t.length>i;)r(o,n=t[i++])&&(~a(s,n)||s.push(n));return s}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(5),u=n(185),a=n(114),d=n(188),o=n(40),i=n(19),s=n(115),c=n(3),f=n(49),l=n(27),p=n(113),h=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=c("iterator"),b=function(){return this};e.exports=function(e,t,n,c,p,y,D){u(n,t,c);var E,v,_,w=function(e){if(e===p&&F)return F;if(!m&&e in O)return O[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},S=t+" Iterator",C=!1,O=e.prototype,x=O[g]||O["@@iterator"]||p&&O[p],F=!m&&x||w(p),A="Array"==t&&O.entries||x;if(A&&(E=a(A.call(new e)),h!==Object.prototype&&E.next&&(f||a(E)===h||(d?d(E,h):"function"!=typeof E[g]&&i(E,g,b)),o(E,S,!0,!0),f&&(l[S]=b))),"values"==p&&x&&"values"!==x.name&&(C=!0,F=function(){return x.call(this)}),f&&!D||O[g]===F||i(O,g,F),l[t]=F,p)if(v={values:w("values"),keys:y?F:w("keys"),entries:w("entries")},D)for(_ in v)(m||C||!(_ in O))&&s(O,_,v[_]);else r({target:t,proto:!0,forced:m||C},v);return v}},function(e,t,n){"use strict";var r,u,a,d=n(114),o=n(19),i=n(11),s=n(3),c=n(49),f=s("iterator"),l=!1;[].keys&&("next"in(a=[].keys())?(u=d(d(a)))!==Object.prototype&&(r=u):l=!0),null==r&&(r={}),c||i(r,f)||o(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:l}},function(e,t,n){var r=n(11),u=n(26),a=n(52),d=n(186),o=a("IE_PROTO"),i=Object.prototype;e.exports=d?Object.getPrototypeOf:function(e){return e=u(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){var r=n(19);e.exports=function(e,t,n,u){u&&u.enumerable?e[t]=n:r(e,t,n)}},function(e,t,n){var r=n(41),u=n(27),a=n(3)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||u[r(e)]}},function(e,t,n){var r=n(110),u=n(81).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,u)}},function(e,t,n){var r=n(3);t.f=r},function(e,t,n){var r=n(235),u=Array.prototype;e.exports=function(e){var t=e.slice;return e===u||e instanceof Array&&t===u.slice?r:t}},function(e,t,n){e.exports=n(239)},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){e.exports=n(259)},function(e,t){e.exports=function(e){[process.stdout,process.stderr].forEach((function(t){t._handle&&t.isTTY&&"function"==typeof t._handle.setBlocking&&t._handle.setBlocking(e)}))}},function(e,t,n){const r=n(301),u={};for(const e of Object.keys(r))u[r[e]]=e;const a={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=a;for(const e of Object.keys(a)){if(!("channels"in a[e]))throw new Error("missing channels property: "+e);if(!("labels"in a[e]))throw new Error("missing channel labels property: "+e);if(a[e].labels.length!==a[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=a[e];delete a[e].channels,delete a[e].labels,Object.defineProperty(a[e],"channels",{value:t}),Object.defineProperty(a[e],"labels",{value:n})}a.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,u=Math.min(t,n,r),a=Math.max(t,n,r),d=a-u;let o,i;a===u?o=0:t===a?o=(n-r)/d:n===a?o=2+(r-t)/d:r===a&&(o=4+(t-n)/d),o=Math.min(60*o,360),o<0&&(o+=360);const s=(u+a)/2;return i=a===u?0:s<=.5?d/(a+u):d/(2-a-u),[o,100*i,100*s]},a.rgb.hsv=function(e){let t,n,r,u,a;const d=e[0]/255,o=e[1]/255,i=e[2]/255,s=Math.max(d,o,i),c=s-Math.min(d,o,i),f=function(e){return(s-e)/6/c+.5};return 0===c?(u=0,a=0):(a=c/s,t=f(d),n=f(o),r=f(i),d===s?u=r-n:o===s?u=1/3+t-r:i===s&&(u=2/3+n-t),u<0?u+=1:u>1&&(u-=1)),[360*u,100*a,100*s]},a.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const u=a.rgb.hsl(e)[0],d=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[u,100*d,100*r]},a.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,u=Math.min(1-t,1-n,1-r);return[100*((1-t-u)/(1-u)||0),100*((1-n-u)/(1-u)||0),100*((1-r-u)/(1-u)||0),100*u]},a.rgb.keyword=function(e){const t=u[e];if(t)return t;let n,a=1/0;for(const t of Object.keys(r)){const u=r[t],i=(o=u,((d=e)[0]-o[0])**2+(d[1]-o[1])**2+(d[2]-o[2])**2);i<a&&(a=i,n=t)}var d,o;return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){const t=a.rgb.xyz(e);let n=t[0],r=t[1],u=t[2];n/=95.047,r/=100,u/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,u=u>.008856?u**(1/3):7.787*u+16/116;return[116*r-16,500*(n-r),200*(r-u)]},a.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let u,a,d;if(0===n)return d=255*r,[d,d,d];u=r<.5?r*(1+n):r+n-r*n;const o=2*r-u,i=[0,0,0];for(let e=0;e<3;e++)a=t+1/3*-(e-1),a<0&&a++,a>1&&a--,d=6*a<1?o+6*(u-o)*a:2*a<1?u:3*a<2?o+(u-o)*(2/3-a)*6:o,i[e]=255*d;return i},a.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,u=n;const a=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,u*=a<=1?a:2-a;return[t,100*(0===r?2*u/(a+u):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const u=Math.floor(t)%6,a=t-Math.floor(t),d=255*r*(1-n),o=255*r*(1-n*a),i=255*r*(1-n*(1-a));switch(r*=255,u){case 0:return[r,i,d];case 1:return[o,r,d];case 2:return[d,r,i];case 3:return[d,o,r];case 4:return[i,d,r];case 5:return[r,d,o]}},a.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,u=Math.max(r,.01);let a,d;d=(2-n)*r;const o=(2-n)*u;return a=n*u,a/=o<=1?o:2-o,a=a||0,d/=2,[t,100*a,100*d]},a.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const u=n+r;let a;u>1&&(n/=u,r/=u);const d=Math.floor(6*t),o=1-r;a=6*t-d,0!=(1&d)&&(a=1-a);const i=n+a*(o-n);let s,c,f;switch(d){default:case 6:case 0:s=o,c=i,f=n;break;case 1:s=i,c=o,f=n;break;case 2:s=n,c=o,f=i;break;case 3:s=n,c=i,f=o;break;case 4:s=i,c=n,f=o;break;case 5:s=o,c=n,f=i}return[255*s,255*c,255*f]},a.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,u=e[3]/100;return[255*(1-Math.min(1,t*(1-u)+u)),255*(1-Math.min(1,n*(1-u)+u)),255*(1-Math.min(1,r*(1-u)+u))]},a.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let u,a,d;return u=3.2406*t+-1.5372*n+-.4986*r,a=-.9689*t+1.8758*n+.0415*r,d=.0557*t+-.204*n+1.057*r,u=u>.0031308?1.055*u**(1/2.4)-.055:12.92*u,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,d=d>.0031308?1.055*d**(1/2.4)-.055:12.92*d,u=Math.min(Math.max(0,u),1),a=Math.min(Math.max(0,a),1),d=Math.min(Math.max(0,d),1),[255*u,255*a,255*d]},a.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(t-n),200*(n-r)]},a.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const u=n**3,a=t**3,d=r**3;return n=u>.008856?u:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=d>.008856?d:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},a.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let u;u=360*Math.atan2(r,n)/2/Math.PI,u<0&&(u+=360);return[t,Math.sqrt(n*n+r*r),u]},a.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},a.rgb.ansi16=function(e,t=null){const[n,r,u]=e;let d=null===t?a.rgb.hsv(e)[2]:t;if(d=Math.round(d/50),0===d)return 30;let o=30+(Math.round(u/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===d&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},a.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map(e=>e+e).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,u=Math.max(Math.max(t,n),r),a=Math.min(Math.min(t,n),r),d=u-a;let o,i;return o=d<1?a/(1-d):0,i=d<=0?0:u===t?(n-r)/d%6:u===n?2+(r-t)/d:4+(t-n)/d,i/=6,i%=1,[360*i,100*d,100*o]},a.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let u=0;return r<1&&(u=(n-.5*r)/(1-r)),[e[0],100*r,100*u]},a.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let u=0;return r<1&&(u=(n-r)/(1-r)),[e[0],100*r,100*u]},a.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const u=[0,0,0],a=t%1*6,d=a%1,o=1-d;let i=0;switch(Math.floor(a)){case 0:u[0]=1,u[1]=d,u[2]=0;break;case 1:u[0]=o,u[1]=1,u[2]=0;break;case 2:u[0]=0,u[1]=1,u[2]=d;break;case 3:u[0]=0,u[1]=o,u[2]=1;break;case 4:u[0]=d,u[1]=0,u[2]=1;break;default:u[0]=1,u[1]=0,u[2]=o}return i=(1-n)*r,[255*(n*u[0]+i),255*(n*u[1]+i),255*(n*u[2]+i)]},a.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let u=0;return r<1&&(u=(n-r)/(1-r)),[e[0],100*r,100*u]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=function(e){return[0,0,e[0]]},a.gray.hsv=a.gray.hsl,a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,n){"use strict";function r(){return process.versions.electron&&!process.defaultApp?0:1}Object.defineProperty(t,"__esModule",{value:!0}),t.getProcessArgvBin=t.getProcessArgvWithoutBin=void 0,t.getProcessArgvWithoutBin=function(){return process.argv.slice(r()+1)},t.getProcessArgvBin=function(){return process.argv[r()]}},function(e,t,n){"use strict";const r=n(63),u=n(320),a=n(127),d=n(321),o=n(322),{randomBytes:i,createHash:s}=n(28),{URL:c}=n(323),f=n(55),l=n(128),p=n(131),{BINARY_TYPES:h,EMPTY_BUFFER:m,GUID:g,kStatusCode:b,kWebSocket:y,NOOP:D}=n(34),{addEventListener:E,removeEventListener:v}=n(326),{format:_,parse:w}=n(132),{toBuffer:S}=n(56),C=["CONNECTING","OPEN","CLOSING","CLOSED"],O=[8,13];class x extends r{constructor(e,t,n){super(),this.readyState=x.CONNECTING,this.protocol="",this._binaryType=h[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(n=t,t=void 0),function e(t,n,r,d){const o={protocolVersion:O[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...d,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!O.includes(o.protocolVersion))throw new RangeError(`Unsupported protocol version: ${o.protocolVersion} (supported versions: ${O.join(", ")})`);let l;n instanceof c?(l=n,t.url=n.href):(l=new c(n),t.url=n);const p="ws+unix:"===l.protocol;if(!(l.host||p&&l.pathname))throw new Error("Invalid URL: "+t.url);const h="wss:"===l.protocol||"https:"===l.protocol,m=h?443:80,b=i(16).toString("base64"),y=h?u.get:a.get;let D;o.createConnection=h?A:F,o.defaultPort=o.defaultPort||m,o.port=l.port||m,o.host=l.hostname.startsWith("[")?l.hostname.slice(1,-1):l.hostname,o.headers={"Sec-WebSocket-Version":o.protocolVersion,"Sec-WebSocket-Key":b,Connection:"Upgrade",Upgrade:"websocket",...o.headers},o.path=l.pathname+l.search,o.timeout=o.handshakeTimeout,o.perMessageDeflate&&(D=new f(!0!==o.perMessageDeflate?o.perMessageDeflate:{},!1,o.maxPayload),o.headers["Sec-WebSocket-Extensions"]=_({[f.extensionName]:D.offer()}));r&&(o.headers["Sec-WebSocket-Protocol"]=r);o.origin&&(o.protocolVersion<13?o.headers["Sec-WebSocket-Origin"]=o.origin:o.headers.Origin=o.origin);(l.username||l.password)&&(o.auth=`${l.username}:${l.password}`);if(p){const e=o.path.split(":");o.socketPath=e[0],o.path=e[1]}let E=t._req=y(o);o.timeout&&E.on("timeout",()=>{I(t,E,"Opening handshake has timed out")});E.on("error",e=>{t._req.aborted||(E=t._req=null,t.readyState=x.CLOSING,t.emit("error",e),t.emitClose())}),E.on("response",u=>{const a=u.headers.location,i=u.statusCode;if(a&&o.followRedirects&&i>=300&&i<400){if(++t._redirects>o.maxRedirects)return void I(t,E,"Maximum redirects exceeded");E.abort();const u=new c(a,n);e(t,u,r,d)}else t.emit("unexpected-response",E,u)||I(t,E,"Unexpected server response: "+u.statusCode)}),E.on("upgrade",(e,n,u)=>{if(t.emit("upgrade",e),t.readyState!==x.CONNECTING)return;E=t._req=null;const a=s("sha1").update(b+g).digest("base64");if(e.headers["sec-websocket-accept"]!==a)return void I(t,n,"Invalid Sec-WebSocket-Accept header");const d=e.headers["sec-websocket-protocol"],i=(r||"").split(/, */);let c;if(!r&&d?c="Server sent a subprotocol but none was requested":r&&!d?c="Server sent no subprotocol":d&&!i.includes(d)&&(c="Server sent an invalid subprotocol"),c)I(t,n,c);else{if(d&&(t.protocol=d),D)try{const n=w(e.headers["sec-websocket-extensions"]);n[f.extensionName]&&(D.accept(n[f.extensionName]),t._extensions[f.extensionName]=D)}catch(e){return void I(t,n,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(n,u,o.maxPayload)}})}(this,e,t,n)):this._isServer=!0}get CONNECTING(){return x.CONNECTING}get CLOSING(){return x.CLOSING}get CLOSED(){return x.CLOSED}get OPEN(){return x.OPEN}get binaryType(){return this._binaryType}set binaryType(e){h.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,n){const r=new l(this._binaryType,this._extensions,this._isServer,n);this._sender=new p(e,this._extensions),this._receiver=r,this._socket=e,r[y]=this,e[y]=this,r.on("conclude",P),r.on("drain",M),r.on("error",j),r.on("message",k),r.on("ping",N),r.on("pong",B),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",$),e.on("data",L),e.on("end",U),e.on("error",H),this.readyState=x.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this.readyState=x.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[f.extensionName]&&this._extensions[f.extensionName].cleanup(),this._receiver.removeAllListeners(),this.readyState=x.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==x.CLOSED){if(this.readyState===x.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this.readyState!==x.CLOSING?(this.readyState=x.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,n){if(this.readyState===x.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===x.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||m,t,n)):T(this,e,n)}pong(e,t,n){if(this.readyState===x.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===x.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||m,t,n)):T(this,e,n)}send(e,t,n){if(this.readyState===x.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(n=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==x.OPEN)return void T(this,e,n);const r={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[f.extensionName]||(r.compress=!1),this._sender.send(e||m,r,n)}terminate(){if(this.readyState!==x.CLOSED){if(this.readyState===x.CONNECTING){const e="WebSocket was closed before the connection was established";return I(this,this._req,e)}this._socket&&(this.readyState=x.CLOSING,this._socket.destroy())}}}function F(e){return e.path=e.socketPath,d.connect(e)}function A(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=e.host),o.connect(e)}function I(e,t,n){e.readyState=x.CLOSING;const r=new Error(n);Error.captureStackTrace(r,I),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function T(e,t,n){if(t){const n=S(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(n){n(new Error(`WebSocket is not open: readyState ${e.readyState} (${C[e.readyState]})`))}}function P(e,t){const n=this[y];n._socket.removeListener("data",L),n._socket.resume(),n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,1005===e?n.close():n.close(e,t)}function M(){this[y]._socket.resume()}function j(e){const t=this[y];t._socket.removeListener("data",L),t.readyState=x.CLOSING,t._closeCode=e[b],t.emit("error",e),t._socket.destroy()}function R(){this[y].emitClose()}function k(e){this[y].emit("message",e)}function N(e){const t=this[y];t.pong(e,!t._isServer,D),t.emit("ping",e)}function B(e){this[y].emit("pong",e)}function $(){const e=this[y];this.removeListener("close",$),this.removeListener("end",U),e.readyState=x.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",L),this[y]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",R),e._receiver.on("finish",R))}function L(e){this[y]._receiver.write(e)||this.pause()}function U(){const e=this[y];e.readyState=x.CLOSING,e._receiver.end(),this.end()}function H(){const e=this[y];this.removeListener("error",H),this.on("error",D),e&&(e.readyState=x.CLOSING,this.destroy())}C.forEach((e,t)=>{x[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(x.prototype,"on"+e,{get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const n=this.listeners(e);for(let t=0;t<n.length;t++)n[t]._listener&&this.removeListener(e,n[t]);this.addEventListener(e,t)}})}),x.prototype.addEventListener=E,x.prototype.removeEventListener=v,e.exports=x},function(e,t){e.exports=require("http")},function(e,t,n){"use strict";const{Writable:r}=n(129),u=n(55),{BINARY_TYPES:a,EMPTY_BUFFER:d,kStatusCode:o,kWebSocket:i}=n(34),{concat:s,toArrayBuffer:c,unmask:f}=n(56),{isValidStatusCode:l,isValidUTF8:p}=n(130);function h(e,t,n,r){const u=new e(n?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(u,h),u[o]=r,u}e.exports=class extends r{constructor(e,t,n,r){super(),this._binaryType=e||a[0],this[i]=void 0,this._extensions=t||{},this._isServer=!!n,this._maxPayload=0|r,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0],r=t.length-e;e>=n.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),r),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,h(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[u.extensionName])return this._loop=!1,h(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,h(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,h(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,h(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,h(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,h(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,h(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,h(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,h(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,h(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,h(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,h(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=d;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&f(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[u.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(h(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?s(t,e):"arraybuffer"===this._binaryType?c(s(t,e)):t,this.emit("message",n)}else{const n=s(t,e);if(!p(n))return this._loop=!1,h(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",n.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return h(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!l(t))return h(RangeError,"invalid status code "+t,!0,1002);const n=e.slice(2);if(!p(n))return h(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,n.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";try{const e=n(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,n){"use strict";const{randomFillSync:r}=n(28),u=n(55),{EMPTY_BUFFER:a}=n(34),{isValidStatusCode:d}=n(130),{mask:o,toBuffer:i}=n(56),s=Buffer.alloc(4);class c{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=t.mask&&t.readOnly;let u=t.mask?6:2,a=e.length;e.length>=65536?(u+=8,a=127):e.length>125&&(u+=2,a=126);const d=Buffer.allocUnsafe(n?e.length+u:u);return d[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(d[0]|=64),d[1]=a,126===a?d.writeUInt16BE(e.length,2):127===a&&(d.writeUInt32BE(0,2),d.writeUInt32BE(e.length,6)),t.mask?(r(s,0,4),d[1]|=128,d[u-4]=s[0],d[u-3]=s[1],d[u-2]=s[2],d[u-1]=s[3],n?(o(e,s,d,u,e.length),[d]):(o(e,s,e,0,e.length),[d,e])):[d,e]}close(e,t,n,r){let u;if(void 0===e)u=a;else{if("number"!=typeof e||!d(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)u=Buffer.allocUnsafe(2),u.writeUInt16BE(e,0);else{const n=Buffer.byteLength(t);if(n>123)throw new RangeError("The message must not be greater than 123 bytes");u=Buffer.allocUnsafe(2+n),u.writeUInt16BE(e,0),u.write(t,2)}}this._deflating?this.enqueue([this.doClose,u,n,r]):this.doClose(u,n,r)}doClose(e,t,n){this.sendFrame(c.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){const r=i(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,r,t,i.readOnly,n]):this.doPing(r,t,i.readOnly,n)}doPing(e,t,n,r){this.sendFrame(c.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){const r=i(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,r,t,i.readOnly,n]):this.doPong(r,t,i.readOnly,n)}doPong(e,t,n,r){this.sendFrame(c.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){const r=i(e),a=this._extensions[u.extensionName];let d=t.binary?2:1,o=t.compress;if(this._firstFragment?(this._firstFragment=!1,o&&a&&(o=r.length>=a._threshold),this._compress=o):(o=!1,d=0),t.fin&&(this._firstFragment=!0),a){const e={fin:t.fin,rsv1:o,opcode:d,mask:t.mask,readOnly:i.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,e,n]):this.dispatch(r,this._compress,e,n)}else this.sendFrame(c.frame(r,{fin:t.fin,rsv1:!1,opcode:d,mask:t.mask,readOnly:i.readOnly}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(c.frame(e,n),r);const a=this._extensions[u.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,a.compress(e,n.fin,(t,u)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof r&&r(e);for(let t=0;t<this._queue.length;t++){const n=this._queue[t][4];"function"==typeof n&&n(e)}}else this._bufferedBytes-=e.length,this._deflating=!1,n.readOnly=!1,this.sendFrame(c.frame(u,n),r),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=c},function(e,t,n){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function u(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}e.exports={format:function(e){return Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);if(void 0===e||""===e)return t;let n,a,d=Object.create(null),o=!1,i=!1,s=!1,c=-1,f=-1,l=0;for(;l<e.length;l++){const p=e.charCodeAt(l);if(void 0===n)if(-1===f&&1===r[p])-1===c&&(c=l);else if(32===p||9===p)-1===f&&-1!==c&&(f=l);else{if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+l);{if(-1===c)throw new SyntaxError("Unexpected character at index "+l);-1===f&&(f=l);const r=e.slice(c,f);44===p?(u(t,r,d),d=Object.create(null)):n=r,c=f=-1}}else if(void 0===a)if(-1===f&&1===r[p])-1===c&&(c=l);else if(32===p||9===p)-1===f&&-1!==c&&(f=l);else if(59===p||44===p){if(-1===c)throw new SyntaxError("Unexpected character at index "+l);-1===f&&(f=l),u(d,e.slice(c,f),!0),44===p&&(u(t,n,d),d=Object.create(null),n=void 0),c=f=-1}else{if(61!==p||-1===c||-1!==f)throw new SyntaxError("Unexpected character at index "+l);a=e.slice(c,l),c=f=-1}else if(i){if(1!==r[p])throw new SyntaxError("Unexpected character at index "+l);-1===c?c=l:o||(o=!0),i=!1}else if(s)if(1===r[p])-1===c&&(c=l);else if(34===p&&-1!==c)s=!1,f=l;else{if(92!==p)throw new SyntaxError("Unexpected character at index "+l);i=!0}else if(34===p&&61===e.charCodeAt(l-1))s=!0;else if(-1===f&&1===r[p])-1===c&&(c=l);else if(-1===c||32!==p&&9!==p){if(59!==p&&44!==p)throw new SyntaxError("Unexpected character at index "+l);{if(-1===c)throw new SyntaxError("Unexpected character at index "+l);-1===f&&(f=l);let r=e.slice(c,f);o&&(r=r.replace(/\\/g,""),o=!1),u(d,a,r),44===p&&(u(t,n,d),d=Object.create(null),n=void 0),a=void 0,c=f=-1}}else-1===f&&(f=l)}if(-1===c||s)throw new SyntaxError("Unexpected end of input");-1===f&&(f=l);const p=e.slice(c,f);return void 0===n?u(t,p,d):(void 0===a?u(d,p,!0):u(d,a,o?p.replace(/\\/g,""):p),u(t,n,d)),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAllLinkedRules=function(e){const{names:t,links:n}=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function e(t,n=new Set,u=new Map,a=new Set){for(const d of t){if(void 0!==d.name){if(u.has(d.name))throw(0,r.createError)("ULR-FNL1",{ruleName:d.name});u.set(d.name,d)}void 0!==d.inheritFromNamedRule&&a.add(d),Array.isArray(d.rule)&&!n.has(d.rule)&&(n.add(d.rule),e(d.rule,n,u,a))}return{names:u,links:a}}(e),u=new Map;for(const e of n){if(void 0===e.inheritFromNamedRule)throw(0,r.createError)("ULR-FLR1");const n=t.get(e.inheritFromNamedRule);if(void 0===n)throw(0,r.createError)("ULR-FLR2",{rule:e.inheritFromNamedRule});u.set(e,n)}return u};var r=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNthVersionMapHash=async function(e,t=-1){const n=await c(e,t);return(0,o.ensureHash)((0,d.substrForceMemCopy)(n,i.TIMESTAMP_LENGTH+66,64))},t.getNthVersionMapEntry=async function(e,t=-1){const n=await c(e,t);return{timestamp:+(0,d.substrForceMemCopy)(n,0,i.TIMESTAMP_LENGTH),planHash:(0,o.ensureHash)((0,d.substrForceMemCopy)(n,i.TIMESTAMP_LENGTH+1,64)),hash:(0,o.ensureHash)((0,d.substrForceMemCopy)(n,i.TIMESTAMP_LENGTH+66,64))}},t.getAllVersionMapEntries=function(e){return(0,a.serializeWithType)("VersionMap "+e,(async function(){return(await(0,u.readUTF8TextFile)(e,"version-maps")).slice(0,-1).split("\n").map(e=>({timestamp:+(0,d.substrForceMemCopy)(e,0,i.TIMESTAMP_LENGTH),planHash:(0,o.ensureHash)((0,d.substrForceMemCopy)(e,i.TIMESTAMP_LENGTH+1,64)),hash:(0,o.ensureHash)((0,d.substrForceMemCopy)(e,i.TIMESTAMP_LENGTH+66,64))}))}))};var r=n(0),u=n(7),a=n(29),d=n(60),o=n(59),i=n(92);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const s=i.TIMESTAMP_LENGTH+131;function c(e,t=-1){return(0,a.serializeWithType)("VersionMap "+e,(async function(){let n=t;const a=await(0,u.readUTF8TextFile)(e,"version-maps"),o=a.length/s;if(n>o-1||n<-o)throw(0,r.createError)("VMQ-GNTH1",{newIndex:n,sOrL:n<0?"small":"large",total:o});return n<0&&(n=o+n),(0,d.substrForceMemCopy)(a,s*n,s)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeFromHtml=c,t.parseValue=l,t.parseArrayOfValues=p,t.parseData=h,t.parseHeader=m,t.parseObject=g,t.convertMicrodataToObject=function(e,t="*"){if(void 0===e)throw(0,r.createError)("M2O-PCONV1");const n={html:e,position:0},u=g(new Set(Array.isArray(t)?t:[t]),n);if(n.position<e.length)throw(0,r.createError)("M2O-PCONV2",{nr:e.length-n.position,html:n.html});return u},t.CONVERSION_FUNCTIONS=void 0;var r=n(0),u=n(9),a=n(35),d=n(58),o=n(60),i=n(59),s=n(1);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function c(e){return String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")}const f={string:function(e){return c(e)},boolean:function(e){return"true"===c(e)},number:function(e){return Number(c(e))},regexp:function(e){const t=c(e).lastIndexOf("/");return new RegExp(c(e).substring(1,t),c(e).substring(t+1))},object:function(e){return JSON.parse(c(e))},Map:function(e){return new Map(JSON.parse(c(e)))},Set:function(e){return new Set(JSON.parse(c(e)))}};function l(e,t){if(Array.isArray(e.rule))return function(e,t,n){const a=`<span itemprop="${t}">`;if(!n.html.startsWith(a,n.position))return;const d={};n.position+=a.length;for(const t of e){const e=(0,u.resolveRuleInheritance)(t),a=void 0===e.list?l(e,n):p(e,n);if(void 0===a&&!0!==e.optional)throw(0,r.createError)("M2O-PND1",{itemprop:e.itemprop});void 0!==a&&(d[e.itemprop]=a)}if(!n.html.startsWith("</span>",n.position))throw(0,r.createError)("M2O-PND2",{endStr:"</span>",position:n.position,html:n.html});return n.position+="</span>".length,d}(e.rule,e.itemprop,t);let n,d,c;const h=(0,a.getHashLinkTypeFromRule)(e);if(h?(n=`<a itemprop="${e.itemprop}" data-type="${h}" href="`,d="</a>",c=n.length+66):(n=`<span itemprop="${e.itemprop}">`,d="</span>",c=n.length),!t.html.startsWith(n,t.position))return;const m=t.position+c,g=t.html.indexOf("<",m),b=(0,o.substrForceMemCopy)(t.html,m,g-m);if(h&&!(0,i.isHash)(b))throw(0,r.createError)("M2O-PV1",{itemprop:e.itemprop,valueStr:b});if(!t.html.startsWith(d,t.position+c+b.length))throw(0,r.createError)("M2O-PV2",{endStr:d,position:t.position+c});const y=f[e.valueType||"string"](b);if(void 0!==e.regexp&&(0,s.isString)(y)&&(void 0===y&&e.optional||!e.regexp.test(y)))throw(0,r.createError)("M2O-PV3",{value:y,regexp:e.regexp});return t.position+=c+b.length+d.length,y}function p(e,t){const n=[];let r;do{r=l(e,t),void 0!==r&&n.push(r)}while(void 0!==r);return 0===n.length&&e.optional?void 0:n}function h(e,t,n){const a={$type$:e};for(const e of t){const t=(0,u.resolveRuleInheritance)(e),d=void 0===t.list?l(t,n):p(t,n);if(void 0===d&&!0!==t.optional)throw(0,r.createError)("M2O-PD1",{itemprop:t.itemprop,html:n.html});void 0!==d&&(a[t.itemprop]=d)}return a}function m(e,t){if(!t.html.startsWith(d.MICRODATA_START,0))throw(0,r.createError)("M2O-PH1",{html:t.html});t.position+=d.MICRODATA_START.length;const n=(0,u.ensureValidTypeName)((0,o.substrForceMemCopy)(t.html,t.position,t.html.indexOf('">',t.position)-t.position));if(e&&!e.has(n)&&!e.has("*"))throw(0,r.createError)("M2O-PHM1",{expectedType:e,type:n,html:t.html});return t.position+=n.length+2,n}function g(e,t){const n=m(e,t),a=h(n,(0,u.getRecipe)(n).rule,t);if(!t.html.startsWith("</span>",t.position))throw(0,r.createError)("M2O-POM1",{endStr:"</span>",position:t.position,html:t.html});return t.position+="</span>".length,a}t.CONVERSION_FUNCTIONS=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractIdObject=f,t.calculateIdHash=async function(e,t="*"){const n=f(await(0,i.readUTF8TextFile)(e),t);if(void 0===n)return;return await(0,o.createCryptoHash)(n)};var r=n(0),u=n(135),a=n(9),d=n(35),o=n(42),i=n(7);function s(e,t,n){let u=t,a=1;for(;a>0;){if(u=e.indexOf("<",u)+1,0===u)throw(0,r.createError)("M2IH-FET1",{position:t,html:e});"/"===e.charAt(u)?a-=1:a+=1}return u+(n?3:6)}function c(e,t,n,r){const u=t.length;let a=n;const d=r?'<a itemprop="'.length:'<span itemprop="'.length;for(;;){const n=e.indexOf(r?'<a itemprop="':'<span itemprop="',a+d+u);if(-1===n||e.substr(n+d,u)!==t)break;a=n}return a}function f(e,t="*"){const n={html:e,position:0},o=(0,u.parseHeader)(new Set(Array.isArray(t)?t:[t]),n);if(!(0,a.isVersionedObjectType)(o))return;const i=(0,a.getRecipe)(o);let f="<span "+d.ID_OBJECT_ATTR+e.substring(5,n.position),l=n.position,p=n.position;for(const t of i.rule){const n=(0,a.resolveRuleInheritance)(t),u=void 0!==(0,d.getHashLinkTypeFromRule)(n);if(n.isId){const t=(u?'<a itemprop="':'<span itemprop="')+n.itemprop+'"';if(l=e.indexOf(t,l),-1===l)throw(0,r.createError)("M2IH-XID1",{itemprop:n.itemprop,microdata:e});p=void 0===n.list?l:c(e,n.itemprop,l,u);const a=s(e,p+t.length,u);f+=e.substring(l,a),l=a}}return f+"</span>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(e){
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
return function e(t,n){if(!(0,r.isObject)(t))return t;const u=n.get(t);if(void 0!==u)return u;let a;const d=t.constructor;switch(d){case Array:a=new d(t.length);break;case Date:a=new d(t.getTime());break;case Map:case Set:case RegExp:a=new d(t);break;default:a=new d}n.set(t,a);for(const u of Reflect.ownKeys(t))a[u]=(0,r.isObject)(t[u])?e(t[u],n):t[u];return a}(e,new Map)};var r=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFile=async function(e,t="objects"){if(void 0===e)throw(0,a.createError)("SBD-DEL1",{type:t});const n=(0,u.join)((0,d.getStorageDirForFileType)(t),e);await o(n).catch(e=>{if("ENOENT"!==e.code)throw(0,a.createError)("SBD-DEL2",e)})};var r=n(15),u=n(4),a=n(0),d=n(7);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const{unlink:o}=r.promises},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLATFORMS=void 0;t.PLATFORMS={NODE_JS:"node",LOW_JS:"low",MODDABLE:"moddable",REACT_NATIVE:"rn",BROWSER:"browser"}},function(e,t,n){"use strict";const r=n(142);function u(e,t){const a=r(e,t,n(318));var d;return d=a,Object.keys(d).forEach(e=>{"argv"===e?u.__defineGetter__(e,d.__lookupGetter__(e)):"function"==typeof d[e]?u[e]=d[e].bind(d):(u.__defineGetter__("$0",()=>d.$0),u.__defineGetter__("parsed",()=>d.parsed))}),a}u(n(125).getProcessArgvWithoutBin()),e.exports=u},function(e,t,n){e.exports=n(346)},function(e,t,n){"use strict";!async function(){}();const{Yargs:r,rebase:u}=n(96),a=n(67);(t=e.exports=r).rebase=u,t.Parser=a},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";var r=n(15),u=n(4).join,a=n(4).resolve,d=n(4).dirname,o={extensions:["js","json","coffee"],recurse:!0,rename:function(e){return e},visit:function(e){return e}};e.exports=function e(t,n,i){var s={};for(var c in n&&!i&&"string"!=typeof n&&(i=n,n=null),i=i||{},o)void 0===i[c]&&(i[c]=o[c]);return n=n?a(d(t.filename),n):d(t.filename),r.readdirSync(n).forEach((function(a){var d,o,c,f=u(n,a);r.statSync(f).isDirectory()&&i.recurse?(d=e(t,f,i),Object.keys(d).length&&(s[i.rename(a,f,a)]=d)):f!==t.filename&&function(e,t,n){return new RegExp("\\.("+n.extensions.join("|")+")$","i").test(t)&&!(n.include&&n.include instanceof RegExp&&!n.include.test(e))&&!(n.include&&"function"==typeof n.include&&!n.include(e,t))&&!(n.exclude&&n.exclude instanceof RegExp&&n.exclude.test(e))&&!(n.exclude&&"function"==typeof n.exclude&&n.exclude(e,t))}(f,a,i)&&(o=a.substring(0,a.lastIndexOf(".")),c=t.require(f),s[i.rename(o,f,a)]=i.visit(c,f,a)||c)})),s},e.exports.defaults=o},function(e,t,n){"use strict";e.exports=function(e){for(var t,r=0,u=Object.keys(n.c);r<u.length;r++)if((t=n.c[u[r]]).exports===e)return t;return null}},function(e,t,n){"use strict";const r=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);if(0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();return e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let u=0;u<e.length;u++){const a=e[u];t&&/[a-zA-Z]/.test(a)&&a.toUpperCase()===a?(e=e.slice(0,u)+"-"+e.slice(u),t=!1,r=n,n=!0,u++):n&&r&&/[a-zA-Z]/.test(a)&&a.toLowerCase()===a?(e=e.slice(0,u-1)+"-"+e.slice(u-1),r=n,n=!1,t=!0):(t=a.toLowerCase()===a&&a.toUpperCase()!==a,r=n,n=a.toUpperCase()===a&&a.toLowerCase()!==a)}return e})(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(e,t)=>t.toUpperCase()).replace(/\d+(\w|$)/g,e=>e.toUpperCase()),n=e,t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n;var n};e.exports=r,e.exports.default=r},function(e,t,n){"use strict";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");return t=void 0===t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e.map(e=>"string"!=typeof e?e+"":e);e=e.trim();let t=0,n=null,r=null,u=null;const a=[];for(let d=0;d<e.length;d++)n=r,r=e.charAt(d)," "!==r||u?(r===u?u=null:"'"!==r&&'"'!==r||u||(u=r),a[t]||(a[t]=""),a[t]+=r):" "!==n&&t++;return a}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=149},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usage=void 0;const r=n(31),u=n(68),a=n(4),d=n(45),o=n(151),i=n(123),s=n(88);t.usage=function(e,t){const c=t.__,f={},l=[];f.failFn=function(e){l.push(e)};let p=null,h=!0;f.showHelpOnFail=function(e=!0,t){const[n,r]="string"==typeof e?[!0,e]:[e,t];return p=r,h=n,f};let m=!1;f.fail=function(t,n){const r=e._getLoggerInstance();if(!l.length){if(e.getExitProcess()&&i(!0),m||(m=!0,h&&(e.showHelp("error"),r.error()),(t||n)&&r.error(t||n),p&&((t||n)&&r.error(""),r.error(p))),n=n||new d.YError(t),e.getExitProcess())return e.exit(1);if(e._hasParseCallback())return e.exit(1,n);throw n}for(let e=l.length-1;e>=0;--e)l[e](t,n,f)};let g=[],b=!1;f.usage=(e,t)=>null===e?(b=!0,g=[],f):(b=!1,g.push([e,t||""]),f),f.getUsage=()=>g,f.getUsageDisabled=()=>b,f.getPositionalGroupName=()=>c("Positionals:");let y=[];f.example=(e,t)=>{y.push([e,t||""])};let D=[];f.command=function(e,t,n,r,u=!1){n&&(D=D.map(e=>(e[2]=!1,e))),D.push([e,t||"",n,r,u])},f.getCommands=()=>D;let E={};f.describe=function(e,t){Array.isArray(e)?e.forEach(e=>{f.describe(e,t)}):"object"==typeof e?Object.keys(e).forEach(t=>{f.describe(t,e[t])}):E[e]=t},f.getDescriptions=()=>E;let v=[];f.epilog=e=>{v.push(e)};let _,w,S=!1;function C(){return S||(_="object"==typeof process&&process.stdout&&process.stdout.columns?Math.min(80,process.stdout.columns):80,S=!0),_}function O(e,t,n){let r=0;return Array.isArray(e)||(e=Object.values(e).map(e=>[e])),e.forEach(e=>{r=Math.max(s(n?`${n} ${e[0]}`:e[0]),r)}),t&&(r=Math.min(r,parseInt((.5*t).toString(),10))),r}function x(t){return e.getOptions().hiddenOptions.indexOf(t)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}function F(e,t){let n=`[${c("default:")} `;if(void 0===e&&!t)return null;if(t)n+=t;else switch(typeof e){case"string":n+=`"${e}"`;break;case"object":n+=JSON.stringify(e);break;default:n+=e}return n+"]"}f.wrap=e=>{S=!0,_=e},f.deferY18nLookup=e=>"__yargsString__:"+e,f.help=function(){if(w)return w;!function(){const t=e.getDemandedOptions(),n=e.getOptions();(Object.keys(n.alias)||[]).forEach(r=>{n.alias[r].forEach(u=>{E[u]&&f.describe(r,E[u]),u in t&&e.demandOption(r,t[u]),~n.boolean.indexOf(u)&&e.boolean(r),~n.count.indexOf(u)&&e.count(r),~n.string.indexOf(u)&&e.string(r),~n.normalize.indexOf(u)&&e.normalize(r),~n.array.indexOf(u)&&e.array(r),~n.number.indexOf(u)&&e.number(r)})})}();const t=e.customScriptName?e.$0:a.basename(e.$0),r=e.getDemandedOptions(),u=e.getDemandedCommands(),d=e.getDeprecatedOptions(),o=e.getGroups(),i=e.getOptions();let s=[];s=s.concat(Object.keys(E)),s=s.concat(Object.keys(r)),s=s.concat(Object.keys(u)),s=s.concat(Object.keys(i.default)),s=s.filter(x),s=Object.keys(s.reduce((e,t)=>("_"!==t&&(e[t]=!0),e),{}));const l=C(),p=n(296)({width:l,wrap:!!l});if(!b)if(g.length)g.forEach(e=>{p.div(""+e[0].replace(/\$0/g,t)),e[1]&&p.div({text:""+e[1],padding:[1,0,0,0]})}),p.div();else if(D.length){let e=null;e=u._?`${t} <${c("command")}>\n`:`${t} [${c("command")}]\n`,p.div(""+e)}if(D.length){p.div(c("Commands:"));const n=e.getContext(),r=n.commands.length?n.commands.join(" ")+" ":"";!0===e.getParserConfiguration()["sort-commands"]&&(D=D.sort((e,t)=>e[0].localeCompare(t[0]))),D.forEach(e=>{const n=`${t} ${r}${e[0].replace(/^\$0 ?/,"")}`;p.span({text:n,padding:[0,2,0,2],width:O(D,l,`${t}${r}`)+4},{text:e[1]});const u=[];e[2]&&u.push(`[${c("default")}]`),e[3]&&e[3].length&&u.push(`[${c("aliases:")} ${e[3].join(", ")}]`),e[4]&&("string"==typeof e[4]?u.push(`[${c("deprecated: %s",e[4])}]`):u.push(`[${c("deprecated")}]`)),u.length?p.div({text:u.join(" "),padding:[0,0,0,2],align:"right"}):p.div()}),p.div()}const h=(Object.keys(i.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);s=s.filter(t=>!e.parsed.newAliases[t]&&h.every(e=>-1===(i.alias[e]||[]).indexOf(t)));const m=c("Options:");if(o[m]||(o[m]=[]),function(e,t,n,r){let u=[],a=null;Object.keys(n).forEach(e=>{u=u.concat(n[e])}),e.forEach(e=>{a=[e].concat(t[e]),a.some(e=>-1!==u.indexOf(e))||n[r].push(e)})}(s,i.alias,o,m),Object.keys(o).forEach(e=>{if(!o[e].length)return;const t=o[e].filter(x).map(e=>{if(~h.indexOf(e))return e;for(let t,n=0;void 0!==(t=h[n]);n++)if(~(i.alias[t]||[]).indexOf(e))return t;return e});if(t.length<1)return;p.div(e);const n=t.reduce((t,n)=>(t[n]=[n].concat(i.alias[n]||[]).map(t=>e===f.getPositionalGroupName()?t:(/^[0-9]$/.test(t)?~i.boolean.indexOf(n)?"-":"--":t.length>1?"--":"-")+t).join(", "),t),{});t.forEach(e=>{const t=n[e];let u=E[e]||"",a=null;~u.lastIndexOf("__yargsString__:")&&(u=c(u.substring("__yargsString__:".length))),~i.boolean.indexOf(e)&&(a=`[${c("boolean")}]`),~i.count.indexOf(e)&&(a=`[${c("count")}]`),~i.string.indexOf(e)&&(a=`[${c("string")}]`),~i.normalize.indexOf(e)&&(a=`[${c("string")}]`),~i.array.indexOf(e)&&(a=`[${c("array")}]`),~i.number.indexOf(e)&&(a=`[${c("number")}]`);const o=[e in d?(s=d[e],"string"==typeof s?`[${c("deprecated: %s",s)}]`:`[${c("deprecated")}]`):null,a,e in r?`[${c("required")}]`:null,i.choices&&i.choices[e]?`[${c("choices:")} ${f.stringifiedValues(i.choices[e])}]`:null,F(i.default[e],i.defaultDescription[e])].filter(Boolean).join(" ");var s;p.span({text:t,padding:[0,2,0,2],width:O(n,l)+4},u),o?p.div({text:o,padding:[0,0,0,2],align:"right"}):p.div()}),p.div()}),y.length&&(p.div(c("Examples:")),y.forEach(e=>{e[0]=e[0].replace(/\$0/g,t)}),y.forEach(e=>{""===e[1]?p.div({text:e[0],padding:[0,2,0,2]}):p.div({text:e[0],padding:[0,2,0,2],width:O(y,l)+4},{text:e[1]})}),p.div()),v.length>0){const e=v.map(e=>e.replace(/\$0/g,t)).join("\n");p.div(e+"\n")}return p.toString().replace(/\s*$/,"")},f.cacheHelpMessage=function(){w=this.help()},f.clearCachedHelpMessage=function(){w=void 0},f.showHelp=t=>{const n=e._getLoggerInstance();t||(t="error");("function"==typeof t?t:n[t])(f.help())},f.functionDescription=e=>["(",e.name?o(e.name,"-"):c("generated-value"),")"].join(""),f.stringifiedValues=function(e,t){let n="";const r=t||", ",u=[].concat(e);return e&&u.length?(u.forEach(e=>{n.length&&(n+=r),n+=JSON.stringify(e)}),n):n};let A=null;f.version=e=>{A=e},f.showVersion=()=>{e._getLoggerInstance().log(A)},f.reset=function(e){return p=null,m=!1,g=[],b=!1,v=[],y=[],D=[],E=u.objFilter(E,t=>!e[t]),f};const I=[];return f.freeze=function(){I.push({failMessage:p,failureOutput:m,usages:g,usageDisabled:b,epilogs:v,examples:y,commands:D,descriptions:E})},f.unfreeze=function(){const e=I.pop();r.assertNotStrictEqual(e,void 0),({failMessage:p,failureOutput:m,usages:g,usageDisabled:b,epilogs:v,examples:y,commands:D,descriptions:E}=e)},f}},function(e,t,n){"use strict";const r=n(152),u=(e,t="_")=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("The `text` and `separator` arguments should be of type `string`");const n=r("([\\p{Ll}\\d])(\\p{Lu})","g"),u=r("(\\p{Lu}+)(\\p{Lu}[\\p{Ll}\\d]+)","g");return e.replace(n,`$1${t}$2`).replace(u,`$1${t}$2`).toLowerCase()};e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(16);n(17)(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(157)),a=r(n(271)),d=r(n(283)),o=r(n(284)),i=r(n(285)),s=r(n(287)),c=r(n(289)),f=r(n(291));(0,a.default)(u.default),(0,d.default)(u.default),(0,o.default)(u.default),(0,i.default)(u.default),(0,s.default)(u.default),(0,c.default)(u.default),(0,f.default)(u.default);var l=u.default;t.default=l,e.exports=t.default},function(e,t,n){var r=n(154);e.exports=r},function(e,t,n){n(155);var r=n(14).Object,u=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(u.sham=!0)},function(e,t,n){var r=n(5),u=n(18);r({target:"Object",stat:!0,forced:!u,sham:!u},{defineProperty:n(25).f})},function(e,t,n){var r=n(10),u=/#|\.prototype\./,a=function(e,t){var n=o[d(e)];return n==s||n!=i&&("function"==typeof t?r(t):!!t)},d=a.normalize=function(e){return String(e).replace(u,".").toLowerCase()},o=a.data={},i=a.NATIVE="N",s=a.POLYFILL="P";e.exports=a},function(e,t,n){"use strict";var r=n(16);n(17)(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(48)),a=r(n(163)),d=r(n(168)),o=r(n(174)),i=r(n(120)),s=r(n(82)),c=r(n(53)),f=r(n(253)),l=r(n(122)),p=r(n(260)),h=r(n(265)),m={astral:!1,namespacing:!1},g={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},b={},y={},D={},E=[],v={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},_=/\$(?:{([\w$]+)}|<([\w$]+)>|(\d\d?|[\s\S]))/g,w=void 0===g.exec.call(/()??/,"")[1],S=void 0!==(0,h.default)(/x/),C={}.toString;function O(e){var t=!0;try{new RegExp("",e)}catch(e){t=!1}return t}var x=O("u"),F=O("y"),A={g:!0,i:!0,m:!0,u:x,y:F};function I(e,t,n,r,u){var a;if(e.xregexp={captureNames:t},u)return e;if(e.__proto__)e.__proto__=K.prototype;else for(var d in K.prototype)e[d]=K.prototype[d];return e.xregexp.source=n,e.xregexp.flags=r?(0,p.default)(a=r.split("")).call(a).join(""):r,e}function T(e){return g.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function P(e,t){var n;if(!K.isRegExp(e))throw new TypeError("Type RegExp expected");var r=e.xregexp||{},u=function(e){return S?(0,h.default)(e):g.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}(e),a="",d="",o=null,i=null;return(t=t||{}).removeG&&(d+="g"),t.removeY&&(d+="y"),d&&(u=g.replace.call(u,new RegExp("[".concat(d,"]+"),"g"),"")),t.addG&&(a+="g"),t.addY&&(a+="y"),a&&(u=T(u+a)),t.isInternalOnly||(void 0!==r.source&&(o=r.source),null!=(0,h.default)(r)&&(i=a?T((0,h.default)(r)+a):(0,h.default)(r))),e=I(new RegExp(t.source||e.source,u),function(e){return!(!e.xregexp||!e.xregexp.captureNames)}(e)?(0,l.default)(n=r.captureNames).call(n,0):null,o,i,t.isInternalOnly)}function M(e){return(0,f.default)(e,16)}function j(e,t,n){return"("===e.input[e.index-1]||")"===e.input[e.index+e[0].length]||"|"===e.input[e.index-1]||"|"===e.input[e.index+e[0].length]||e.index<1||e.index+e[0].length>=e.input.length||g.test.call(/^\(\?[:=!]/,e.input.substr(e.index-3,3))||function(e,t,n){return g.test.call((0,c.default)(n).call(n,"x")?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,(0,l.default)(e).call(e,t))}(e.input,e.index+e[0].length,n)?"":"(?:)"}function R(e){return(0,f.default)(e,10).toString(16)}function k(e,t){return C.call(e)==="[object ".concat(t,"]")}function N(e){for(;e.length<4;)e="0".concat(e);return e}function B(e){var t={};return k(e,"String")?((0,i.default)(K).call(K,e,/[^\s,]+/,(function(e){t[e]=!0})),t):e}function $(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");A[e]=!0}function L(e,t,n,r,u){for(var a,d,o=E.length,i=e[n],s=null;o--;)if(!((d=E[o]).leadChar&&d.leadChar!==i||d.scope!==r&&"all"!==d.scope||d.flag&&!(0,c.default)(t).call(t,d.flag))&&(a=K.exec(e,d.regex,n,"sticky"))){s={matchLength:a[0].length,output:d.handler.call(u,a,r,t),reparse:d.reparse};break}return s}function U(e){m.astral=e}function H(e){m.namespacing=e}function W(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function K(e,t){if(K.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return P(e)}if(e=void 0===e?"":String(e),t=void 0===t?"":String(t),K.isInstalled("astral")&&!(0,c.default)(t).call(t,"A")&&(t+="A"),D[e]||(D[e]={}),!D[e][t]){for(var n,r={hasNamedCapture:!1,captureNames:[]},u="default",a="",d=0,i=function(e,t){if(T(t)!==t)throw new SyntaxError("Invalid duplicate regex flag ".concat(t));e=g.replace.call(e,/^\(\?([\w$]+)\)/,(function(e,n){if(g.test.call(/[gy]/,n))throw new SyntaxError("Cannot use flag g or y in mode modifier ".concat(e));return t=T(t+n),""}));var n=!0,r=!1,u=void 0;try{for(var a,d=(0,s.default)(t);!(n=(a=d.next()).done);n=!0){var o=a.value;if(!A[o])throw new SyntaxError("Unknown regex flag ".concat(o))}}catch(e){r=!0,u=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw u}}return{pattern:e,flags:t}}(e,t),f=i.pattern,p=(0,h.default)(i);d<f.length;){do{(n=L(f,p,d,u,r))&&n.reparse&&(f=(0,l.default)(f).call(f,0,d)+n.output+(0,l.default)(f).call(f,d+n.matchLength))}while(n&&n.reparse);if(n)a+=n.output,d+=n.matchLength||1;else{var m=K.exec(f,v[u],d,"sticky"),b=(0,o.default)(m,1)[0];a+=b,d+=b.length,"["===b&&"default"===u?u="class":"]"===b&&"class"===u&&(u="default")}}D[e][t]={pattern:g.replace.call(a,/(?:\(\?:\))+/g,"(?:)"),flags:g.replace.call(p,/[^gimuy]+/g,""),captures:r.hasNamedCapture?r.captureNames:null}}var y=D[e][t];return I(new RegExp(y.pattern,(0,h.default)(y)),y.captures,e,t)}K.prototype=/(?:)/,K.version="4.3.0",K._clipDuplicates=T,K._hasNativeFlag=O,K._dec=M,K._hex=R,K._pad4=N,K.addToken=function(e,t,n){var r=(n=n||{}).optionalFlags;if(n.flag&&$(n.flag),r){r=g.split.call(r,"");var u=!0,a=!1,d=void 0;try{for(var o,i=(0,s.default)(r);!(u=(o=i.next()).done);u=!0){$(o.value)}}catch(e){a=!0,d=e}finally{try{u||null==i.return||i.return()}finally{if(a)throw d}}}E.push({regex:P(e,{addG:!0,addY:F,isInternalOnly:!0}),handler:t,scope:n.scope||"default",flag:n.flag,reparse:n.reparse,leadChar:n.leadChar}),K.cache.flush("patterns")},K.cache=function(e,t){return y[e]||(y[e]={}),y[e][t]||(y[e][t]=K(e,t))},K.cache.flush=function(e){"patterns"===e?D={}:y={}},K.escape=function(e){return g.replace.call(W(e),/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},K.exec=function(e,t,n,r){var u,a,d="g",o=!1;(u=F&&!!(r||t.sticky&&!1!==r))?d+="y":r&&(o=!0,d+="FakeY"),t.xregexp=t.xregexp||{};var i=t.xregexp[d]||(t.xregexp[d]=P(t,{addG:!0,addY:u,source:o?"".concat(t.source,"|()"):void 0,removeY:!1===r,isInternalOnly:!0}));return n=n||0,i.lastIndex=n,a=b.exec.call(i,e),o&&a&&""===a.pop()&&(a=null),t.global&&(t.lastIndex=a?i.lastIndex:0),a},K.forEach=function(e,t,n){for(var r,u=0,a=-1;r=K.exec(e,t,u);)n(r,++a,e,t),u=r.index+(r[0].length||1)},K.globalize=function(e){return P(e,{addG:!0})},K.install=function(e){e=B(e),!m.astral&&e.astral&&U(!0),!m.namespacing&&e.namespacing&&H(!0)},K.isInstalled=function(e){return!!m[e]},K.isRegExp=function(e){return"[object RegExp]"===C.call(e)},K.match=function(e,t,n){var r=t.global&&"one"!==n||"all"===n,u=(r?"g":"")+(t.sticky?"y":"")||"noGY";t.xregexp=t.xregexp||{};var a=t.xregexp[u]||(t.xregexp[u]=P(t,{addG:!!r,removeG:"one"===n,isInternalOnly:!0})),d=g.match.call(W(e),a);return t.global&&(t.lastIndex="one"===n&&d?d.index+d[0].length:0),r?d||[]:d&&d[0]},K.matchChain=function(e,t){return function e(n,r){var u=t[r].regex?t[r]:{regex:t[r]},a=[];function d(e){if(u.backref){var t="Backreference to undefined group: ".concat(u.backref),n=isNaN(u.backref);if(n&&K.isInstalled("namespacing")){if(!(u.backref in e.groups))throw new ReferenceError(t)}else if(!e.hasOwnProperty(u.backref))throw new ReferenceError(t);var r=n&&K.isInstalled("namespacing")?e.groups[u.backref]:e[u.backref];a.push(r||"")}else a.push(e[0])}var o=!0,c=!1,f=void 0;try{for(var l,p=(0,s.default)(n);!(o=(l=p.next()).done);o=!0){var h=l.value;(0,i.default)(K).call(K,h,u.regex,d)}}catch(e){c=!0,f=e}finally{try{o||null==p.return||p.return()}finally{if(c)throw f}}return r!==t.length-1&&a.length?e(a,r+1):a}([e],0)},K.replace=function(e,t,n,r){var u=K.isRegExp(t),a=t.global&&"one"!==r||"all"===r,d=(a?"g":"")+(t.sticky?"y":"")||"noGY",o=t;u?(t.xregexp=t.xregexp||{},o=t.xregexp[d]||(t.xregexp[d]=P(t,{addG:!!a,removeG:"one"===r,isInternalOnly:!0}))):a&&(o=new RegExp(K.escape(String(t)),"g"));var i=b.replace.call(W(e),o,n);return u&&t.global&&(t.lastIndex=0),i},K.replaceEach=function(e,t){var n=!0,r=!1,u=void 0;try{for(var a,d=(0,s.default)(t);!(n=(a=d.next()).done);n=!0){var o=a.value;e=K.replace(e,o[0],o[1],o[2])}}catch(e){r=!0,u=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw u}}return e},K.split=function(e,t,n){return b.split.call(W(e),t,n)},K.test=function(e,t,n,r){return!!K.exec(e,t,n,r)},K.uninstall=function(e){e=B(e),m.astral&&e.astral&&U(!1),m.namespacing&&e.namespacing&&H(!1)},K.union=function(e,t,n){var r,u,a=(n=n||{}).conjunction||"or",d=0;function o(e,t,n){var a=u[d-r];if(t){if(++d,a)return"(?<".concat(a,">")}else if(n)return"\\".concat(+n+r);return e}if(!k(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");var i=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,c=[],f=!0,l=!1,p=void 0;try{for(var h,m=(0,s.default)(e);!(f=(h=m.next()).done);f=!0){var b=h.value;K.isRegExp(b)?(r=d,u=b.xregexp&&b.xregexp.captureNames||[],c.push(g.replace.call(K(b.source).source,i,o))):c.push(K.escape(b))}}catch(e){l=!0,p=e}finally{try{f||null==m.return||m.return()}finally{if(l)throw p}}var y="none"===a?"":"|";return K(c.join(y),t)},b.exec=function(e){var t=this.lastIndex,n=g.exec.apply(this,arguments);if(n){if(!w&&n.length>1&&(0,c.default)(n).call(n,"")){var r,u=P(this,{removeG:!0,isInternalOnly:!0});g.replace.call((0,l.default)(r=String(e)).call(r,n.index),u,(function(){for(var e=arguments.length,t=1;t<e-2;++t)void 0===(t<0||arguments.length<=t?void 0:arguments[t])&&(n[t]=void 0)}))}var a=n;if(K.isInstalled("namespacing")&&(n.groups=(0,d.default)(null),a=n.groups),this.xregexp&&this.xregexp.captureNames)for(var o=1;o<n.length;++o){var i=this.xregexp.captureNames[o-1];i&&(a[i]=n[o])}this.global&&!n[0].length&&this.lastIndex>n.index&&(this.lastIndex=n.index)}return this.global||(this.lastIndex=t),n},b.test=function(e){return!!b.exec.call(this,e)},b.match=function(e){if(K.isRegExp(e)){if(e.global){var t=g.match.apply(this,arguments);return e.lastIndex=0,t}}else e=new RegExp(e);return b.exec.call(e,W(this))},b.replace=function(e,t){var n,r,u,o=K.isRegExp(e);return o?(e.xregexp&&(r=e.xregexp.captureNames),n=e.lastIndex):e+="",u=k(t,"Function")?g.replace.call(String(this),e,(function(){for(var n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];if(r){var i;K.isInstalled("namespacing")?(i=(0,d.default)(null),u.push(i)):(u[0]=new String(u[0]),i=u[0]);for(var s=0;s<r.length;++s)r[s]&&(i[r[s]]=u[s+1])}return o&&e.global&&(e.lastIndex=u[u.length-2]+u[0].length),t.apply(void 0,u)})):g.replace.call(null==this?this:String(this),e,(function(){for(var e=arguments.length,n=new Array(e),u=0;u<e;u++)n[u]=arguments[u];return g.replace.call(String(t),_,d);function d(e,t,u,d){if(t=t||u){var o=+t;if(o<=n.length-3)return n[o]||"";if((o=r?(0,a.default)(r).call(r,t):-1)<0)throw new SyntaxError("Backreference to undefined group ".concat(e));return n[o+1]||""}if("$"===d)return"$";if("&"===d||0==+d)return n[0];var i,s;if("`"===d)return(0,l.default)(i=n[n.length-1]).call(i,0,n[n.length-2]);if("'"===d)return(0,l.default)(s=n[n.length-1]).call(s,n[n.length-2]+n[0].length);if(d=+d,!isNaN(d)){if(d>n.length-3)throw new SyntaxError("Backreference to undefined group ".concat(e));return n[d]||""}throw new SyntaxError("Invalid token ".concat(e))}})),o&&(e.global?e.lastIndex=0:e.lastIndex=n),u},b.split=function(e,t){if(!K.isRegExp(e))return g.split.apply(this,arguments);var n,r=String(this),u=[],a=e.lastIndex,d=0;return t=(void 0===t?-1:t)>>>0,(0,i.default)(K).call(K,r,e,(function(e){e.index+e[0].length>d&&(u.push((0,l.default)(r).call(r,d,e.index)),e.length>1&&e.index<r.length&&Array.prototype.push.apply(u,(0,l.default)(e).call(e,1)),n=e[0].length,d=e.index+n)})),d===r.length?g.test.call(e,"")&&!n||u.push(""):u.push((0,l.default)(r).call(r,d)),e.lastIndex=a,u.length>t?(0,l.default)(u).call(u,0,t):u},K.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(function(e,t){if("B"===e[1]&&"default"===t)return e[0];throw new SyntaxError("Invalid escape ".concat(e[0]))}),{scope:"all",leadChar:"\\"}),K.addToken(/\\u{([\dA-Fa-f]+)}/,(function(e,t,n){var r=M(e[1]);if(r>1114111)throw new SyntaxError("Invalid Unicode code point ".concat(e[0]));if(r<=65535)return"\\u".concat(N(R(r)));if(x&&(0,c.default)(n).call(n,"u"))return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")}),{scope:"all",leadChar:"\\"}),K.addToken(/\[(\^?)\]/,(function(e){return e[1]?"[\\s\\S]":"\\b\\B"}),{leadChar:"["}),K.addToken(/\(\?#[^)]*\)/,j,{leadChar:"("}),K.addToken(/\s+|#[^\n]*\n?/,j,{flag:"x"}),K.addToken(/\./,(function(){return"[\\s\\S]"}),{flag:"s",leadChar:"."}),K.addToken(/\\k<([\w$]+)>/,(function(e){var t,n,r=isNaN(e[1])?(0,a.default)(t=this.captureNames).call(t,e[1])+1:+e[1],d=e.index+e[0].length;if(!r||r>this.captureNames.length)throw new SyntaxError("Backreference to undefined group ".concat(e[0]));return(0,u.default)(n="\\".concat(r)).call(n,d===e.input.length||isNaN(e.input[d])?"":"(?:)")}),{leadChar:"\\"}),K.addToken(/\\(\d+)/,(function(e,t){if(!("default"===t&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group ".concat(e[0]));return e[0]}),{scope:"all",leadChar:"\\"}),K.addToken(/\(\?P?<([\w$]+)>/,(function(e){var t;if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name ".concat(e[0]));if(!K.isInstalled("namespacing")&&("length"===e[1]||"__proto__"===e[1]))throw new SyntaxError("Cannot use reserved word as capture name ".concat(e[0]));if((0,c.default)(t=this.captureNames).call(t,e[1]))throw new SyntaxError("Cannot use same name for multiple groups ".concat(e[0]));return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),{leadChar:"("}),K.addToken(/\((?!\?)/,(function(e,t,n){return(0,c.default)(n).call(n,"n")?"(?:":(this.captureNames.push(null),"(")}),{optionalFlags:"n",leadChar:"("});var V=K;t.default=V,e.exports=t.default},function(e,t,n){var r=n(159);e.exports=r},function(e,t,n){var r=n(160),u=Array.prototype;e.exports=function(e){var t=e.concat;return e===u||e instanceof Array&&t===u.concat?r:t}},function(e,t,n){n(103);var r=n(20);e.exports=r("Array").concat},function(e,t,n){var r=n(8),u=n(19);e.exports=function(e,t){try{u(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(78);e.exports=r("navigator","userAgent")||""},function(e,t,n){e.exports=n(164)},function(e,t,n){var r=n(165);e.exports=r},function(e,t,n){var r=n(166),u=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===u||e instanceof Array&&t===u.indexOf?r:t}},function(e,t,n){n(167);var r=n(20);e.exports=r("Array").indexOf},function(e,t,n){"use strict";var r=n(5),u=n(79).indexOf,a=n(50),d=n(33),o=[].indexOf,i=!!o&&1/[1].indexOf(1,-0)<0,s=a("indexOf"),c=d("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:i||!s||!c},{indexOf:function(e){return i?o.apply(this,arguments)||0:u(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(169)},function(e,t,n){var r=n(170);e.exports=r},function(e,t,n){n(171);var r=n(14).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){n(5)({target:"Object",stat:!0,sham:!n(18)},{create:n(80)})},function(e,t,n){var r=n(18),u=n(25),a=n(21),d=n(109);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=d(t),o=r.length,i=0;o>i;)u.f(e,n=r[i++],t[n]);return e}},function(e,t,n){var r=n(78);e.exports=r("document","documentElement")},function(e,t,n){var r=n(175),u=n(180),a=n(224),d=n(238);e.exports=function(e,t){return r(e)||u(e,t)||a(e,t)||d()}},function(e,t,n){var r=n(176);e.exports=function(e){if(r(e))return e}},function(e,t,n){e.exports=n(177)},function(e,t,n){var r=n(178);e.exports=r},function(e,t,n){n(179);var r=n(14);e.exports=r.Array.isArray},function(e,t,n){n(5)({target:"Array",stat:!0},{isArray:n(39)})},function(e,t,n){var r=n(82),u=n(193),a=n(196);e.exports=function(e,t){if(void 0!==a&&u(Object(e))){var n=[],d=!0,o=!1,i=void 0;try{for(var s,c=r(e);!(d=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);d=!0);}catch(e){o=!0,i=e}finally{try{d||null==c.return||c.return()}finally{if(o)throw i}}return n}}},function(e,t,n){n(83),n(86);var r=n(192);e.exports=r},function(e,t,n){"use strict";var r=n(24),u=n(111),a=n(27),d=n(84),o=n(112),i=d.set,s=d.getterFor("Array Iterator");e.exports=o(Array,"Array",(function(e,t){i(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=s(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,u("keys"),u("values"),u("entries")},function(e,t,n){var r=n(8),u=n(184),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(u(a))},function(e,t,n){var r=n(105),u=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return u.call(e)}),e.exports=r.inspectSource},function(e,t,n){"use strict";var r=n(113).IteratorPrototype,u=n(80),a=n(37),d=n(40),o=n(27),i=function(){return this};e.exports=function(e,t,n){var s=t+" Iterator";return e.prototype=u(r,{next:a(1,n)}),d(e,s,!1,!0),o[s]=i,e}},function(e,t,n){var r=n(10);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){"use strict";var r=n(85),u=n(41);e.exports=r?{}.toString:function(){return"[object "+u(this)+"]"}},function(e,t,n){var r=n(21),u=n(189);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),u(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(72),u=n(38),a=function(e){return function(t,n){var a,d,o=String(u(t)),i=r(n),s=o.length;return i<0||i>=s?e?"":void 0:(a=o.charCodeAt(i))<55296||a>56319||i+1===s||(d=o.charCodeAt(i+1))<56320||d>57343?e?o.charAt(i):a:e?o.slice(i,i+2):d-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){var r=n(21),u=n(116);e.exports=function(e){var t=u(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){e.exports=n(194)},function(e,t,n){n(83),n(86);var r=n(195);e.exports=r},function(e,t,n){var r=n(41),u=n(3),a=n(27),d=u("iterator");e.exports=function(e){var t=Object(e);return void 0!==t[d]||"@@iterator"in t||a.hasOwnProperty(r(t))}},function(e,t,n){e.exports=n(197)},function(e,t,n){var r=n(198);n(219),n(220),n(221),n(222),n(223),e.exports=r},function(e,t,n){n(103),n(199),n(200),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218);var r=n(14);e.exports=r.Symbol},function(e,t){},function(e,t,n){"use strict";var r=n(5),u=n(8),a=n(78),d=n(49),o=n(18),i=n(76),s=n(106),c=n(10),f=n(11),l=n(39),p=n(13),h=n(21),m=n(26),g=n(24),b=n(47),y=n(37),D=n(80),E=n(109),v=n(117),_=n(201),w=n(202),S=n(99),C=n(25),O=n(100),x=n(19),F=n(115),A=n(74),I=n(52),T=n(51),P=n(75),M=n(3),j=n(118),R=n(2),k=n(40),N=n(84),B=n(87).forEach,$=I("hidden"),L=M("toPrimitive"),U=N.set,H=N.getterFor("Symbol"),W=Object.prototype,K=u.Symbol,V=a("JSON","stringify"),G=S.f,z=C.f,q=_.f,Y=O.f,J=A("symbols"),Z=A("op-symbols"),X=A("string-to-symbol-registry"),Q=A("symbol-to-string-registry"),ee=A("wks"),te=u.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=o&&c((function(){return 7!=D(z({},"a",{get:function(){return z(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=G(W,t);r&&delete W[t],z(e,t,n),r&&e!==W&&z(W,t,r)}:z,ue=function(e,t){var n=J[e]=D(K.prototype);return U(n,{type:"Symbol",tag:e,description:t}),o||(n.description=t),n},ae=s?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},de=function(e,t,n){e===W&&de(Z,t,n),h(e);var r=b(t,!0);return h(n),f(J,r)?(n.enumerable?(f(e,$)&&e[$][r]&&(e[$][r]=!1),n=D(n,{enumerable:y(0,!1)})):(f(e,$)||z(e,$,y(1,{})),e[$][r]=!0),re(e,r,n)):z(e,r,n)},oe=function(e,t){h(e);var n=g(t),r=E(n).concat(fe(n));return B(r,(function(t){o&&!ie.call(n,t)||de(e,t,n[t])})),e},ie=function(e){var t=b(e,!0),n=Y.call(this,t);return!(this===W&&f(J,t)&&!f(Z,t))&&(!(n||!f(this,t)||!f(J,t)||f(this,$)&&this[$][t])||n)},se=function(e,t){var n=g(e),r=b(t,!0);if(n!==W||!f(J,r)||f(Z,r)){var u=G(n,r);return!u||!f(J,r)||f(n,$)&&n[$][r]||(u.enumerable=!0),u}},ce=function(e){var t=q(g(e)),n=[];return B(t,(function(e){f(J,e)||f(T,e)||n.push(e)})),n},fe=function(e){var t=e===W,n=q(t?Z:g(e)),r=[];return B(n,(function(e){!f(J,e)||t&&!f(W,e)||r.push(J[e])})),r};(i||(F((K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=P(e),n=function(e){this===W&&n.call(Z,e),f(this,$)&&f(this[$],t)&&(this[$][t]=!1),re(this,t,y(1,e))};return o&&ne&&re(W,t,{configurable:!0,set:n}),ue(t,e)}).prototype,"toString",(function(){return H(this).tag})),F(K,"withoutSetter",(function(e){return ue(P(e),e)})),O.f=ie,C.f=de,S.f=se,v.f=_.f=ce,w.f=fe,j.f=function(e){return ue(M(e),e)},o&&(z(K.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),d||F(W,"propertyIsEnumerable",ie,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:K}),B(E(ee),(function(e){R(e)})),r({target:"Symbol",stat:!0,forced:!i},{for:function(e){var t=String(e);if(f(X,t))return X[t];var n=K(t);return X[t]=n,Q[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(f(Q,e))return Q[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!i,sham:!o},{create:function(e,t){return void 0===t?D(e):oe(D(e),t)},defineProperty:de,defineProperties:oe,getOwnPropertyDescriptor:se}),r({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:ce,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:c((function(){w.f(1)}))},{getOwnPropertySymbols:function(e){return w.f(m(e))}}),V)&&r({target:"JSON",stat:!0,forced:!i||c((function(){var e=K();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e,t,n){for(var r,u=[e],a=1;arguments.length>a;)u.push(arguments[a++]);if(r=t,(p(t)||void 0!==e)&&!ae(e))return l(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),u[1]=t,V.apply(null,u)}});K.prototype[L]||x(K.prototype,L,K.prototype.valueOf),k(K,"Symbol"),T[$]=!0},function(e,t,n){var r=n(24),u=n(117).f,a={}.toString,d="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return d&&"[object Window]"==a.call(e)?function(e){try{return u(e)}catch(e){return d.slice()}}(e):u(r(e))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){n(2)("asyncIterator")},function(e,t){},function(e,t,n){n(2)("hasInstance")},function(e,t,n){n(2)("isConcatSpreadable")},function(e,t,n){n(2)("iterator")},function(e,t,n){n(2)("match")},function(e,t,n){n(2)("matchAll")},function(e,t,n){n(2)("replace")},function(e,t,n){n(2)("search")},function(e,t,n){n(2)("species")},function(e,t,n){n(2)("split")},function(e,t,n){n(2)("toPrimitive")},function(e,t,n){n(2)("toStringTag")},function(e,t,n){n(2)("unscopables")},function(e,t,n){n(40)(Math,"Math",!0)},function(e,t,n){var r=n(8);n(40)(r.JSON,"JSON",!0)},function(e,t,n){n(2)("asyncDispose")},function(e,t,n){n(2)("dispose")},function(e,t,n){n(2)("observable")},function(e,t,n){n(2)("patternMatch")},function(e,t,n){n(2)("replaceAll")},function(e,t,n){var r=n(225),u=n(233),a=n(237);e.exports=function(e,t){var n;if(e){if("string"==typeof e)return a(e,t);var d=u(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===d&&e.constructor&&(d=e.constructor.name),"Map"===d||"Set"===d?r(e):"Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?a(e,t):void 0}}},function(e,t,n){e.exports=n(226)},function(e,t,n){var r=n(227);e.exports=r},function(e,t,n){n(86),n(228);var r=n(14);e.exports=r.Array.from},function(e,t,n){var r=n(5),u=n(229);r({target:"Array",stat:!0,forced:!n(232)((function(e){Array.from(e)}))},{from:u})},function(e,t,n){"use strict";var r=n(70),u=n(26),a=n(230),d=n(231),o=n(32),i=n(73),s=n(116);e.exports=function(e){var t,n,c,f,l,p,h=u(e),m="function"==typeof this?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,y=void 0!==b,D=s(h),E=0;if(y&&(b=r(b,g>2?arguments[2]:void 0,2)),null==D||m==Array&&d(D))for(n=new m(t=o(h.length));t>E;E++)p=y?b(h[E],E):h[E],i(n,E,p);else for(l=(f=D.call(h)).next,n=new m;!(c=l.call(f)).done;E++)p=y?a(f,b,[c.value,E],!0):c.value,i(n,E,p);return n.length=E,n}},function(e,t,n){var r=n(21);e.exports=function(e,t,n,u){try{return u?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(3),u=n(27),a=r("iterator"),d=Array.prototype;e.exports=function(e){return void 0!==e&&(u.Array===e||d[a]===e)}},function(e,t,n){var r=n(3)("iterator"),u=!1;try{var a=0,d={next:function(){return{done:!!a++}},return:function(){u=!0}};d[r]=function(){return this},Array.from(d,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!u)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){e.exports=n(234)},function(e,t,n){var r=n(119);e.exports=r},function(e,t,n){n(236);var r=n(20);e.exports=r("Array").slice},function(e,t,n){"use strict";var r=n(5),u=n(13),a=n(39),d=n(108),o=n(32),i=n(24),s=n(73),c=n(3),f=n(77),l=n(33),p=f("slice"),h=l("slice",{ACCESSORS:!0,0:0,1:2}),m=c("species"),g=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!p||!h},{slice:function(e,t){var n,r,c,f=i(this),l=o(f.length),p=d(e,l),h=d(void 0===t?l:t,l);if(a(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!a(n.prototype)?u(n)&&null===(n=n[m])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(f,p,h);for(r=new(void 0===n?Array:n)(b(h-p,0)),c=0;p<h;p++,c++)p in f&&s(r,c,f[p]);return r.length=c,r}})},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){n(83);var r=n(240),u=n(41),a=Array.prototype,d={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===a||e instanceof Array&&t===a.forEach||d.hasOwnProperty(u(e))?r:t}},function(e,t,n){var r=n(241);e.exports=r},function(e,t,n){n(242);var r=n(20);e.exports=r("Array").forEach},function(e,t,n){"use strict";var r=n(5),u=n(243);r({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},function(e,t,n){"use strict";var r=n(87).forEach,u=n(50),a=n(33),d=u("forEach"),o=a("forEach");e.exports=d&&o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(245);e.exports=r},function(e,t,n){var r=n(246),u=n(248),a=Array.prototype,d=String.prototype;e.exports=function(e){var t=e.includes;return e===a||e instanceof Array&&t===a.includes?r:"string"==typeof e||e===d||e instanceof String&&t===d.includes?u:t}},function(e,t,n){n(247);var r=n(20);e.exports=r("Array").includes},function(e,t,n){"use strict";var r=n(5),u=n(79).includes,a=n(111);r({target:"Array",proto:!0,forced:!n(33)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return u(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){n(249);var r=n(20);e.exports=r("String").includes},function(e,t,n){"use strict";var r=n(5),u=n(250),a=n(38);r({target:"String",proto:!0,forced:!n(252)("includes")},{includes:function(e){return!!~String(a(this)).indexOf(u(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(251);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(13),u=n(46),a=n(3)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==u(e))}},function(e,t,n){var r=n(3)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){e.exports=n(254)},function(e,t,n){var r=n(255);e.exports=r},function(e,t,n){n(256);var r=n(14);e.exports=r.parseInt},function(e,t,n){var r=n(5),u=n(257);r({global:!0,forced:parseInt!=u},{parseInt:u})},function(e,t,n){var r=n(8),u=n(258).trim,a=n(121),d=r.parseInt,o=/^[+-]?0[Xx]/,i=8!==d(a+"08")||22!==d(a+"0x16");e.exports=i?function(e,t){var n=u(String(e));return d(n,t>>>0||(o.test(n)?16:10))}:d},function(e,t,n){var r=n(38),u="["+n(121)+"]",a=RegExp("^"+u+u+"*"),d=RegExp(u+u+"*$"),o=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(d,"")),n}};e.exports={start:o(1),end:o(2),trim:o(3)}},function(e,t,n){var r=n(119);e.exports=r},function(e,t,n){e.exports=n(261)},function(e,t,n){var r=n(262);e.exports=r},function(e,t,n){var r=n(263),u=Array.prototype;e.exports=function(e){var t=e.sort;return e===u||e instanceof Array&&t===u.sort?r:t}},function(e,t,n){n(264);var r=n(20);e.exports=r("Array").sort},function(e,t,n){"use strict";var r=n(5),u=n(71),a=n(26),d=n(10),o=n(50),i=[],s=i.sort,c=d((function(){i.sort(void 0)})),f=d((function(){i.sort(null)})),l=o("sort");r({target:"Array",proto:!0,forced:c||!f||!l},{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),u(e))}})},function(e,t,n){e.exports=n(266)},function(e,t,n){var r=n(267);e.exports=r},function(e,t,n){var r=n(268),u=RegExp.prototype;e.exports=function(e){return(e===u||e instanceof RegExp)&&!("flags"in e)?r(e):e.flags}},function(e,t,n){n(269);var r=n(270);e.exports=function(e){return r.call(e)}},function(e,t){},function(e,t,n){"use strict";var r=n(21);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(16);n(17)(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(48)),a=r(n(53)),d=r(n(272)),o=r(n(277));t.default=function(e){var t=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,n=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,t],"g",{conjunction:"or"});function r(e){var t=/^(?:\(\?:\))*\^/,n=/\$(?:\(\?:\))*$/;return t.test(e)&&n.test(e)&&n.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(n,""):e}function i(t,n){var r=n?"x":"";return e.isRegExp(t)?t.xregexp&&t.xregexp.captureNames?t:e(t.source,r):e(t,r)}function s(t){return t instanceof RegExp?t:e.escape(t)}function c(e,t,n){return e["subpattern".concat(n)]=t,e}function f(e,t,n){return e+(t<n.length-1?"{{subpattern".concat(t,"}}"):"")}e.tag=function(t){return function(n){for(var r,u,a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];var p=(0,o.default)(r=(0,d.default)(i).call(i,s)).call(r,c,{}),h=(0,d.default)(u=n.raw).call(u,f).join("");return e.build(h,p,t)}},e.build=function(d,o,s){s=s||"";var c=(0,a.default)(s).call(s,"x"),f=/^\(\?([\w$]+)\)/.exec(d);f&&(s=e._clipDuplicates(s+f[1]));var l={};for(var p in o)if(o.hasOwnProperty(p)){var h=i(o[p],c);l[p]={pattern:r(h.source),names:h.xregexp.captureNames||[]}}var m,g=i(d,c),b=0,y=0,D=[0],E=g.xregexp.captureNames||[],v=g.source.replace(n,(function(e,n,r,a,d){var o,i,s,c=n||r;if(c){var f;if(!l.hasOwnProperty(c))throw new ReferenceError("Undefined property ".concat(e));n?(o=E[y],D[++y]=++b,i="(?<".concat(o||c,">")):i="(?:",m=b;var p=l[c].pattern.replace(t,(function(e,t,n){if(t){if(o=l[c].names[b-m],++b,o)return"(?<".concat(o,">")}else if(n)return s=+n-1,l[c].names[s]?"\\k<".concat(l[c].names[s],">"):"\\".concat(+n+m);return e}));return(0,u.default)(f="".concat(i)).call(f,p,")")}if(a){if(o=E[y],D[++y]=++b,o)return"(?<".concat(o,">")}else if(d)return E[s=+d-1]?"\\k<".concat(E[s],">"):"\\".concat(D[+d]);return e}));return e(v,s)}},e.exports=t.default},function(e,t,n){e.exports=n(273)},function(e,t,n){var r=n(274);e.exports=r},function(e,t,n){var r=n(275),u=Array.prototype;e.exports=function(e){var t=e.map;return e===u||e instanceof Array&&t===u.map?r:t}},function(e,t,n){n(276);var r=n(20);e.exports=r("Array").map},function(e,t,n){"use strict";var r=n(5),u=n(87).map,a=n(77),d=n(33),o=a("map"),i=d("map");r({target:"Array",proto:!0,forced:!o||!i},{map:function(e){return u(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){e.exports=n(278)},function(e,t,n){var r=n(279);e.exports=r},function(e,t,n){var r=n(280),u=Array.prototype;e.exports=function(e){var t=e.reduce;return e===u||e instanceof Array&&t===u.reduce?r:t}},function(e,t,n){n(281);var r=n(20);e.exports=r("Array").reduce},function(e,t,n){"use strict";var r=n(5),u=n(282).left,a=n(50),d=n(33),o=a("reduce"),i=d("reduce",{1:0});r({target:"Array",proto:!0,forced:!o||!i},{reduce:function(e){return u(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(71),u=n(26),a=n(69),d=n(32),o=function(e){return function(t,n,o,i){r(n);var s=u(t),c=a(s),f=d(s.length),l=e?f-1:0,p=e?-1:1;if(o<2)for(;;){if(l in c){i=c[l],l+=p;break}if(l+=p,e?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:f>l;l+=p)l in c&&(i=n(i,c[l],l,s));return i}};e.exports={left:o(!1),right:o(!0)}},function(e,t,n){"use strict";var r=n(16);n(17)(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(122)),a=r(n(48)),d=r(n(53));t.default=function(e){function t(e,t,n,r){return{name:e,value:t,start:n,end:r}}e.matchRecursive=function(n,r,o,i,s){i=i||"",s=s||{};var c,f,l,p,h,m=(0,d.default)(i).call(i,"g"),g=(0,d.default)(i).call(i,"y"),b=i.replace(/y/g,""),y=s.escapeChar,D=s.valueNames,E=[],v=0,_=0,w=0,S=0;if(r=e(r,b),o=e(o,b),y){var C,O;if(y.length>1)throw new Error("Cannot use more than one escape character");y=e.escape(y),h=new RegExp((0,a.default)(C=(0,a.default)(O="(?:".concat(y,"[\\S\\s]|(?:(?!")).call(O,e.union([r,o],"",{conjunction:"or"}).source,")[^")).call(C,y,"])+)+"),i.replace(/[^imu]+/g,""))}for(;;){if(y&&(w+=(e.exec(n,h,w,"sticky")||[""])[0].length),l=e.exec(n,r,w),p=e.exec(n,o,w),l&&p&&(l.index<=p.index?p=null:l=null),l||p)w=(_=(l||p).index)+(l||p)[0].length;else if(!v)break;if(g&&!v&&_>S)break;if(l)v||(c=_,f=w),++v;else{if(!p||!v)throw new Error("Unbalanced delimiter found in string");if(!--v&&(D?(D[0]&&c>S&&E.push(t(D[0],(0,u.default)(n).call(n,S,c),S,c)),D[1]&&E.push(t(D[1],(0,u.default)(n).call(n,c,f),c,f)),D[2]&&E.push(t(D[2],(0,u.default)(n).call(n,f,_),f,_)),D[3]&&E.push(t(D[3],(0,u.default)(n).call(n,_,w),_,w))):E.push((0,u.default)(n).call(n,f,_)),S=w,!m))break}_===w&&++w}return m&&!g&&D&&D[0]&&n.length>S&&E.push(t(D[0],(0,u.default)(n).call(n,S),S,n.length)),E}},e.exports=t.default},function(e,t,n){"use strict";var r=n(16);n(17)(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(82)),a=r(n(53)),d=r(n(48)),o=r(n(120));t.default=function(e){var t={},n=e._dec,r=e._hex,i=e._pad4;function s(e){return e.replace(/[- _]+/g,"").toLowerCase()}function c(e){var t=/^\\[xu](.+)/.exec(e);return t?n(t[1]):e.charCodeAt("\\"===e[0]?1:0)}function f(n){var u,a,d;return t[n]["b!"]||(t[n]["b!"]=(u=t[n].bmp,a="",d=-1,(0,o.default)(e).call(e,u,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,(function(e){var t=c(e[1]);t>d+1&&(a+="\\u".concat(i(r(d+1))),t>d+2&&(a+="-\\u".concat(i(r(t-1))))),d=c(e[2]||e[1])})),d<65535&&(a+="\\u".concat(i(r(d+1))),d<65534&&(a+="-\\uFFFF")),a))}function l(e,n){var r=n?"a!":"a=";return t[e][r]||(t[e][r]=function(e,n){var r,u,a=t[e],o="";return a.bmp&&!a.isBmpLast&&(o=(0,d.default)(r="[".concat(a.bmp,"]")).call(r,a.astral?"|":"")),a.astral&&(o+=a.astral),a.isBmpLast&&a.bmp&&(o+=(0,d.default)(u="".concat(a.astral?"|":"","[")).call(u,a.bmp,"]")),n?"(?:(?!".concat(o,")(?:[\ud800-\udbff][\udc00-\udfff]|[\0-]))"):"(?:".concat(o,")")}(e,n))}e.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,(function(e,n,r){var u="P"===e[1]||!!e[2],o=(0,a.default)(r).call(r,"A"),i=s(e[4]||e[3]),c=t[i];if("P"===e[1]&&e[2])throw new SyntaxError("Invalid double negation "+e[0]);if(!t.hasOwnProperty(i))throw new SyntaxError("Unknown Unicode token "+e[0]);if(c.inverseOf){var p;if(i=s(c.inverseOf),!t.hasOwnProperty(i))throw new ReferenceError((0,d.default)(p="".concat("Unicode token missing data "+e[0]," -> ")).call(p,c.inverseOf));c=t[i],u=!u}if(!c.bmp&&!o)throw new SyntaxError("Astral mode required for Unicode token "+e[0]);if(o){if("class"===n)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return l(i,u)}return"class"===n?u?f(i):c.bmp:"".concat((u?"[^":"[")+c.bmp,"]")}),{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=function(n){var r=!0,a=!1,d=void 0;try{for(var o,i=(0,u.default)(n);!(r=(o=i.next()).done);r=!0){var c=o.value;if(!c.name)throw new Error("Unicode token requires name");if(!(c.inverseOf||c.bmp||c.astral))throw new Error("Unicode token has no character data "+c.name);t[s(c.name)]=c,c.alias&&(t[s(c.alias)]=c)}}catch(e){a=!0,d=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw d}}e.cache.flush("patterns")},e._getUnicodeProperty=function(e){var n=s(e);return t[n]}},e.exports=t.default},function(e,t,n){"use strict";var r=n(16);n(17)(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(286));
/*!
 * XRegExp Unicode Blocks 4.3.0
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");e.addUnicodeData(u.default)},e.exports=t.default},function(e,t){e.exports=[{name:"InAdlam",astral:"\ud83a[\udd00-\udd5f]"},{name:"InAegean_Numbers",astral:"\ud800[\udd00-\udd3f]"},{name:"InAhom",astral:"\ud805[\udf00-\udf3f]"},{name:"InAlchemical_Symbols",astral:"\ud83d[\udf00-\udf7f]"},{name:"InAlphabetic_Presentation_Forms",bmp:"-"},{name:"InAnatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude7f]"},{name:"InAncient_Greek_Musical_Notation",astral:"\ud834[\ude00-\ude4f]"},{name:"InAncient_Greek_Numbers",astral:"\ud800[\udd40-\udd8f]"},{name:"InAncient_Symbols",astral:"\ud800[\udd90-\uddcf]"},{name:"InArabic",bmp:"-"},{name:"InArabic_Extended_A",bmp:"-"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"\ud83b[\ude00-\udeff]"},{name:"InArabic_Presentation_Forms_A",bmp:"-"},{name:"InArabic_Presentation_Forms_B",bmp:"-\ufeff"},{name:"InArabic_Supplement",bmp:"-"},{name:"InArmenian",bmp:"-"},{name:"InArrows",bmp:"-"},{name:"InAvestan",astral:"\ud802[\udf00-\udf3f]"},{name:"InBalinese",bmp:"-"},{name:"InBamum",bmp:"-"},{name:"InBamum_Supplement",astral:"\ud81a[\udc00-\ude3f]"},{name:"InBasic_Latin",bmp:"\0-"},{name:"InBassa_Vah",astral:"\ud81a[\uded0-\udeff]"},{name:"InBatak",bmp:"-"},{name:"InBengali",bmp:"-"},{name:"InBhaiksuki",astral:"\ud807[\udc00-\udc6f]"},{name:"InBlock_Elements",bmp:"-"},{name:"InBopomofo",bmp:"-"},{name:"InBopomofo_Extended",bmp:"-"},{name:"InBox_Drawing",bmp:"-"},{name:"InBrahmi",astral:"\ud804[\udc00-\udc7f]"},{name:"InBraille_Patterns",bmp:"-"},{name:"InBuginese",bmp:"-"},{name:"InBuhid",bmp:"-"},{name:"InByzantine_Musical_Symbols",astral:"\ud834[\udc00-\udcff]"},{name:"InCJK_Compatibility",bmp:"-"},{name:"InCJK_Compatibility_Forms",bmp:"-"},{name:"InCJK_Compatibility_Ideographs",bmp:"-"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"\ud87e[\udc00-\ude1f]"},{name:"InCJK_Radicals_Supplement",bmp:"-"},{name:"InCJK_Strokes",bmp:"-"},{name:"InCJK_Symbols_And_Punctuation",bmp:"-"},{name:"InCJK_Unified_Ideographs",bmp:"-"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"-"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\udedf]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"\ud869[\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf3f]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"\ud86d[\udf40-\udfff]|\ud86e[\udc00-\udc1f]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"\ud86e[\udc20-\udfff]|[\ud86f-\ud872][\udc00-\udfff]|\ud873[\udc00-\udeaf]"},{name:"InCJK_Unified_Ideographs_Extension_F",astral:"\ud873[\udeb0-\udfff]|[\ud874-\ud879][\udc00-\udfff]|\ud87a[\udc00-\udfef]"},{name:"InCarian",astral:"\ud800[\udea0-\udedf]"},{name:"InCaucasian_Albanian",astral:"\ud801[\udd30-\udd6f]"},{name:"InChakma",astral:"\ud804[\udd00-\udd4f]"},{name:"InCham",bmp:"-"},{name:"InCherokee",bmp:"-"},{name:"InCherokee_Supplement",bmp:"-"},{name:"InChess_Symbols",astral:"\ud83e[\ude00-\ude6f]"},{name:"InCombining_Diacritical_Marks",bmp:"-"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"-"},{name:"InCombining_Diacritical_Marks_For_Symbols",bmp:"-"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"-"},{name:"InCombining_Half_Marks",bmp:"-"},{name:"InCommon_Indic_Number_Forms",bmp:"-"},{name:"InControl_Pictures",bmp:"-"},{name:"InCoptic",bmp:"-"},{name:"InCoptic_Epact_Numbers",astral:"\ud800[\udee0-\udeff]"},{name:"InCounting_Rod_Numerals",astral:"\ud834[\udf60-\udf7f]"},{name:"InCuneiform",astral:"\ud808[\udc00-\udfff]"},{name:"InCuneiform_Numbers_And_Punctuation",astral:"\ud809[\udc00-\udc7f]"},{name:"InCurrency_Symbols",bmp:"-"},{name:"InCypriot_Syllabary",astral:"\ud802[\udc00-\udc3f]"},{name:"InCyrillic",bmp:"-"},{name:"InCyrillic_Extended_A",bmp:"-"},{name:"InCyrillic_Extended_B",bmp:"-"},{name:"InCyrillic_Extended_C",bmp:"-"},{name:"InCyrillic_Supplement",bmp:"-"},{name:"InDeseret",astral:"\ud801[\udc00-\udc4f]"},{name:"InDevanagari",bmp:"-"},{name:"InDevanagari_Extended",bmp:"-"},{name:"InDingbats",bmp:"-"},{name:"InDogra",astral:"\ud806[\udc00-\udc4f]"},{name:"InDomino_Tiles",astral:"\ud83c[\udc30-\udc9f]"},{name:"InDuployan",astral:"\ud82f[\udc00-\udc9f]"},{name:"InEarly_Dynastic_Cuneiform",astral:"\ud809[\udc80-\udd4f]"},{name:"InEgyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2f]"},{name:"InElbasan",astral:"\ud801[\udd00-\udd2f]"},{name:"InEmoticons",astral:"\ud83d[\ude00-\ude4f]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"\ud83c[\udd00-\uddff]"},{name:"InEnclosed_Alphanumerics",bmp:"-"},{name:"InEnclosed_CJK_Letters_And_Months",bmp:"-"},{name:"InEnclosed_Ideographic_Supplement",astral:"\ud83c[\ude00-\udeff]"},{name:"InEthiopic",bmp:"-"},{name:"InEthiopic_Extended",bmp:"-"},{name:"InEthiopic_Extended_A",bmp:"-"},{name:"InEthiopic_Supplement",bmp:"-"},{name:"InGeneral_Punctuation",bmp:"-"},{name:"InGeometric_Shapes",bmp:"-"},{name:"InGeometric_Shapes_Extended",astral:"\ud83d[\udf80-\udfff]"},{name:"InGeorgian",bmp:"-"},{name:"InGeorgian_Extended",bmp:"-"},{name:"InGeorgian_Supplement",bmp:"-"},{name:"InGlagolitic",bmp:"-"},{name:"InGlagolitic_Supplement",astral:"\ud838[\udc00-\udc2f]"},{name:"InGothic",astral:"\ud800[\udf30-\udf4f]"},{name:"InGrantha",astral:"\ud804[\udf00-\udf7f]"},{name:"InGreek_And_Coptic",bmp:"-"},{name:"InGreek_Extended",bmp:"-"},{name:"InGujarati",bmp:"-"},{name:"InGunjala_Gondi",astral:"\ud807[\udd60-\uddaf]"},{name:"InGurmukhi",bmp:"-"},{name:"InHalfwidth_And_Fullwidth_Forms",bmp:"-"},{name:"InHangul_Compatibility_Jamo",bmp:"-"},{name:"InHangul_Jamo",bmp:"-"},{name:"InHangul_Jamo_Extended_A",bmp:"-"},{name:"InHangul_Jamo_Extended_B",bmp:"-"},{name:"InHangul_Syllables",bmp:"-"},{name:"InHanifi_Rohingya",astral:"\ud803[\udd00-\udd3f]"},{name:"InHanunoo",bmp:"-"},{name:"InHatran",astral:"\ud802[\udce0-\udcff]"},{name:"InHebrew",bmp:"-"},{name:"InHigh_Private_Use_Surrogates",bmp:"\udb80-\udbff"},{name:"InHigh_Surrogates",bmp:"\ud800-\udb7f"},{name:"InHiragana",bmp:"-"},{name:"InIPA_Extensions",bmp:"-"},{name:"InIdeographic_Description_Characters",bmp:"-"},{name:"InIdeographic_Symbols_And_Punctuation",astral:"\ud81b[\udfe0-\udfff]"},{name:"InImperial_Aramaic",astral:"\ud802[\udc40-\udc5f]"},{name:"InIndic_Siyaq_Numbers",astral:"\ud83b[\udc70-\udcbf]"},{name:"InInscriptional_Pahlavi",astral:"\ud802[\udf60-\udf7f]"},{name:"InInscriptional_Parthian",astral:"\ud802[\udf40-\udf5f]"},{name:"InJavanese",bmp:"-"},{name:"InKaithi",astral:"\ud804[\udc80-\udccf]"},{name:"InKana_Extended_A",astral:"\ud82c[\udd00-\udd2f]"},{name:"InKana_Supplement",astral:"\ud82c[\udc00-\udcff]"},{name:"InKanbun",bmp:"-"},{name:"InKangxi_Radicals",bmp:"-"},{name:"InKannada",bmp:"-"},{name:"InKatakana",bmp:"-"},{name:"InKatakana_Phonetic_Extensions",bmp:"-"},{name:"InKayah_Li",bmp:"-"},{name:"InKharoshthi",astral:"\ud802[\ude00-\ude5f]"},{name:"InKhmer",bmp:"-"},{name:"InKhmer_Symbols",bmp:"-"},{name:"InKhojki",astral:"\ud804[\ude00-\ude4f]"},{name:"InKhudawadi",astral:"\ud804[\udeb0-\udeff]"},{name:"InLao",bmp:"-"},{name:"InLatin_1_Supplement",bmp:"-"},{name:"InLatin_Extended_A",bmp:"-"},{name:"InLatin_Extended_Additional",bmp:"-"},{name:"InLatin_Extended_B",bmp:"-"},{name:"InLatin_Extended_C",bmp:"-"},{name:"InLatin_Extended_D",bmp:"-"},{name:"InLatin_Extended_E",bmp:"-"},{name:"InLepcha",bmp:"-"},{name:"InLetterlike_Symbols",bmp:"-"},{name:"InLimbu",bmp:"-"},{name:"InLinear_A",astral:"\ud801[\ude00-\udf7f]"},{name:"InLinear_B_Ideograms",astral:"\ud800[\udc80-\udcff]"},{name:"InLinear_B_Syllabary",astral:"\ud800[\udc00-\udc7f]"},{name:"InLisu",bmp:"-"},{name:"InLow_Surrogates",bmp:"\udc00-\udfff"},{name:"InLycian",astral:"\ud800[\ude80-\ude9f]"},{name:"InLydian",astral:"\ud802[\udd20-\udd3f]"},{name:"InMahajani",astral:"\ud804[\udd50-\udd7f]"},{name:"InMahjong_Tiles",astral:"\ud83c[\udc00-\udc2f]"},{name:"InMakasar",astral:"\ud807[\udee0-\udeff]"},{name:"InMalayalam",bmp:"-"},{name:"InMandaic",bmp:"-"},{name:"InManichaean",astral:"\ud802[\udec0-\udeff]"},{name:"InMarchen",astral:"\ud807[\udc70-\udcbf]"},{name:"InMasaram_Gondi",astral:"\ud807[\udd00-\udd5f]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"\ud835[\udc00-\udfff]"},{name:"InMathematical_Operators",bmp:"-"},{name:"InMayan_Numerals",astral:"\ud834[\udee0-\udeff]"},{name:"InMedefaidrin",astral:"\ud81b[\ude40-\ude9f]"},{name:"InMeetei_Mayek",bmp:"-"},{name:"InMeetei_Mayek_Extensions",bmp:"-"},{name:"InMende_Kikakui",astral:"\ud83a[\udc00-\udcdf]"},{name:"InMeroitic_Cursive",astral:"\ud802[\udda0-\uddff]"},{name:"InMeroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"InMiao",astral:"\ud81b[\udf00-\udf9f]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"-"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"-"},{name:"InMiscellaneous_Symbols",bmp:"-"},{name:"InMiscellaneous_Symbols_And_Arrows",bmp:"-"},{name:"InMiscellaneous_Symbols_And_Pictographs",astral:"\ud83c[\udf00-\udfff]|\ud83d[\udc00-\uddff]"},{name:"InMiscellaneous_Technical",bmp:"-"},{name:"InModi",astral:"\ud805[\ude00-\ude5f]"},{name:"InModifier_Tone_Letters",bmp:"-"},{name:"InMongolian",bmp:"-"},{name:"InMongolian_Supplement",astral:"\ud805[\ude60-\ude7f]"},{name:"InMro",astral:"\ud81a[\ude40-\ude6f]"},{name:"InMultani",astral:"\ud804[\ude80-\udeaf]"},{name:"InMusical_Symbols",astral:"\ud834[\udd00-\uddff]"},{name:"InMyanmar",bmp:"-"},{name:"InMyanmar_Extended_A",bmp:"-"},{name:"InMyanmar_Extended_B",bmp:"-"},{name:"InNKo",bmp:"-"},{name:"InNabataean",astral:"\ud802[\udc80-\udcaf]"},{name:"InNew_Tai_Lue",bmp:"-"},{name:"InNewa",astral:"\ud805[\udc00-\udc7f]"},{name:"InNumber_Forms",bmp:"-"},{name:"InNushu",astral:"\ud82c[\udd70-\udeff]"},{name:"InOgham",bmp:"-"},{name:"InOl_Chiki",bmp:"-"},{name:"InOld_Hungarian",astral:"\ud803[\udc80-\udcff]"},{name:"InOld_Italic",astral:"\ud800[\udf00-\udf2f]"},{name:"InOld_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"InOld_Permic",astral:"\ud800[\udf50-\udf7f]"},{name:"InOld_Persian",astral:"\ud800[\udfa0-\udfdf]"},{name:"InOld_Sogdian",astral:"\ud803[\udf00-\udf2f]"},{name:"InOld_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"InOld_Turkic",astral:"\ud803[\udc00-\udc4f]"},{name:"InOptical_Character_Recognition",bmp:"-"},{name:"InOriya",bmp:"-"},{name:"InOrnamental_Dingbats",astral:"\ud83d[\ude50-\ude7f]"},{name:"InOsage",astral:"\ud801[\udcb0-\udcff]"},{name:"InOsmanya",astral:"\ud801[\udc80-\udcaf]"},{name:"InPahawh_Hmong",astral:"\ud81a[\udf00-\udf8f]"},{name:"InPalmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"InPau_Cin_Hau",astral:"\ud806[\udec0-\udeff]"},{name:"InPhags_Pa",bmp:"-"},{name:"InPhaistos_Disc",astral:"\ud800[\uddd0-\uddff]"},{name:"InPhoenician",astral:"\ud802[\udd00-\udd1f]"},{name:"InPhonetic_Extensions",bmp:"-"},{name:"InPhonetic_Extensions_Supplement",bmp:"-"},{name:"InPlaying_Cards",astral:"\ud83c[\udca0-\udcff]"},{name:"InPrivate_Use_Area",bmp:"-"},{name:"InPsalter_Pahlavi",astral:"\ud802[\udf80-\udfaf]"},{name:"InRejang",bmp:"-"},{name:"InRumi_Numeral_Symbols",astral:"\ud803[\ude60-\ude7f]"},{name:"InRunic",bmp:"-"},{name:"InSamaritan",bmp:"-"},{name:"InSaurashtra",bmp:"-"},{name:"InSharada",astral:"\ud804[\udd80-\udddf]"},{name:"InShavian",astral:"\ud801[\udc50-\udc7f]"},{name:"InShorthand_Format_Controls",astral:"\ud82f[\udca0-\udcaf]"},{name:"InSiddham",astral:"\ud805[\udd80-\uddff]"},{name:"InSinhala",bmp:"-"},{name:"InSinhala_Archaic_Numbers",astral:"\ud804[\udde0-\uddff]"},{name:"InSmall_Form_Variants",bmp:"-"},{name:"InSogdian",astral:"\ud803[\udf30-\udf6f]"},{name:"InSora_Sompeng",astral:"\ud804[\udcd0-\udcff]"},{name:"InSoyombo",astral:"\ud806[\ude50-\udeaf]"},{name:"InSpacing_Modifier_Letters",bmp:"-"},{name:"InSpecials",bmp:"-"},{name:"InSundanese",bmp:"-"},{name:"InSundanese_Supplement",bmp:"-"},{name:"InSuperscripts_And_Subscripts",bmp:"-"},{name:"InSupplemental_Arrows_A",bmp:"-"},{name:"InSupplemental_Arrows_B",bmp:"-"},{name:"InSupplemental_Arrows_C",astral:"\ud83e[\udc00-\udcff]"},{name:"InSupplemental_Mathematical_Operators",bmp:"-"},{name:"InSupplemental_Punctuation",bmp:"-"},{name:"InSupplemental_Symbols_And_Pictographs",astral:"\ud83e[\udd00-\uddff]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[\udb80-\udbbf][\udc00-\udfff]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[\udbc0-\udbff][\udc00-\udfff]"},{name:"InSutton_SignWriting",astral:"\ud836[\udc00-\udeaf]"},{name:"InSyloti_Nagri",bmp:"-"},{name:"InSyriac",bmp:"-"},{name:"InSyriac_Supplement",bmp:"-"},{name:"InTagalog",bmp:"-"},{name:"InTagbanwa",bmp:"-"},{name:"InTags",astral:"\udb40[\udc00-\udc7f]"},{name:"InTai_Le",bmp:"-"},{name:"InTai_Tham",bmp:"-"},{name:"InTai_Viet",bmp:"-"},{name:"InTai_Xuan_Jing_Symbols",astral:"\ud834[\udf00-\udf5f]"},{name:"InTakri",astral:"\ud805[\ude80-\udecf]"},{name:"InTamil",bmp:"-"},{name:"InTangut",astral:"[\ud81c-\ud821][\udc00-\udfff]"},{name:"InTangut_Components",astral:"\ud822[\udc00-\udeff]"},{name:"InTelugu",bmp:"-"},{name:"InThaana",bmp:"-"},{name:"InThai",bmp:"-"},{name:"InTibetan",bmp:"-"},{name:"InTifinagh",bmp:"-"},{name:"InTirhuta",astral:"\ud805[\udc80-\udcdf]"},{name:"InTransport_And_Map_Symbols",astral:"\ud83d[\ude80-\udeff]"},{name:"InUgaritic",astral:"\ud800[\udf80-\udf9f]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"-"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"-"},{name:"InVai",bmp:"-"},{name:"InVariation_Selectors",bmp:"-"},{name:"InVariation_Selectors_Supplement",astral:"\udb40[\udd00-\uddef]"},{name:"InVedic_Extensions",bmp:"-"},{name:"InVertical_Forms",bmp:"-"},{name:"InWarang_Citi",astral:"\ud806[\udca0-\udcff]"},{name:"InYi_Radicals",bmp:"-"},{name:"InYi_Syllables",bmp:"-"},{name:"InYijing_Hexagram_Symbols",bmp:"-"},{name:"InZanabazar_Square",astral:"\ud806[\ude00-\ude4f]"},{name:"Inundefined",astral:"\ud803[\udfe0-\udfff]|\ud806[\udda0-\uddff]|\ud807[\udfc0-\udfff]|\ud80d[\udc30-\udc3f]|\ud82c[\udd30-\udd6f]|\ud838[\udd00-\udd4f\udec0-\udeff]|\ud83b[\udd00-\udd4f]|\ud83e[\ude70-\udeff]"}]},function(e,t,n){"use strict";var r=n(16);n(17)(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(288));
/*!
 * XRegExp Unicode Categories 4.3.0
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData(u.default)},e.exports=t.default},function(e,t){e.exports=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0---------------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9c-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd70-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f-\udeff\udf28-\udf2f\udf5a-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc70-\udc7e\udcbd\udcc2-\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd47-\udd4f\udd77-\udd7f\uddce\uddcf\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5a\udc5c\udc60-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeb9-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf40-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd00-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udebf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud837\ud839\ud83f\ud87b-\ud87d\ud87f-\udb3f\udb41-\udbff][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\ude70-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe4-\udfff]|\ud821[\udff8-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udd1f-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca0-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udd73-\udd7a\udde9-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\udebf\udefa-\udefe\udf00-\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\udd0d-\udd0f\udd6d-\udd6f\uddad-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded6-\udedf\udeed-\udeef\udefb-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae-\udcff\udd0c\udd72\udd77-\udd79\udda3\udda4\uddab-\uddad\uddcb\uddcc\ude54-\ude5f\ude6e\ude6f\ude74-\ude77\ude7b-\ude7f\ude83-\ude8f\ude96-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\udb40[\udc00-\udcff\uddf0-\udfff]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"-----\ufeff-",astral:"\ud804[\udcbd\udccd]|\ud80d[\udc30-\udc38]|\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|\udb40[\udc01\udc20-\udc7f]"},{name:"Cn",alias:"Unassigned",bmp:"---------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9c-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd70-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f-\udeff\udf28-\udf2f\udf5a-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc70-\udc7e\udcc2-\udccc\udcce\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd47-\udd4f\udd77-\udd7f\uddce\uddcf\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5a\udc5c\udc60-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeb9-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf40-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd00-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udebf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud837\ud839\ud83f\ud87b-\ud87d\ud87f-\udb3f\udb41-\udb7f][\udc00-\udfff]|\ud80d[\udc2f\udc39-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\ude70-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe4-\udfff]|\ud821[\udff8-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udd1f-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udde9-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\udebf\udefa-\udefe\udf00-\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\udd0d-\udd0f\udd6d-\udd6f\uddad-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded6-\udedf\udeed-\udeef\udefb-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae-\udcff\udd0c\udd72\udd77-\udd79\udda3\udda4\uddab-\uddad\uddcb\uddcc\ude54-\ude5f\ude6e\ude6f\ude74-\ude77\ude7b-\ude7f\ude83-\ude8f\ude96-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\udb40[\udc00\udc02-\udc1f\udc80-\udcff\uddf0-\udfff]|[\udbbf\udbff][\udffe\udfff]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\udb80-\udbbe\udbc0-\udbfe][\udc00-\udfff]|[\udbbf\udbff][\udc00-\udffd]"},{name:"Cs",alias:"Surrogate",bmp:"\ud800-\udfff"},{name:"L",alias:"Letter",bmp:"A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-z-------------------------------------------------------------------",astral:"\ud801[\udc00-\udc4f\udcb0-\udcd3\udcd8-\udcfb]|\ud803[\udc80-\udcb2\udcc0-\udcf2]|\ud806[\udca0-\udcdf]|\ud81b[\ude40-\ude7f]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udd00-\udd43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-z---------------------------------------------------",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud83a[\udd22-\udd43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"------------",astral:"\ud81a[\udf40-\udf43]|\ud81b[\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud838[\udd37-\udd3d]|"},{name:"Lo",alias:"Other_Letter",bmp:"---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc50-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a]|\ud806[\udc00-\udc2b\udcff\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf4a\udf50]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud838[\udd00-\udd2c\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"---"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-Z------------------------------------------",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]"},{name:"M",alias:"Mark",bmp:"--------------------------------------------------------------------------------------------------------------",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udf46-\udf50]|\ud804[\udc00-\udc02\udc38-\udc46\udc7f-\udc82\udcb0-\udcba\udd00-\udd02\udd27-\udd34\udd45\udd46\udd73\udd80-\udd82\uddb3-\uddc0\uddc9-\uddcc\ude2c-\ude37\ude3e\udedf-\udeea\udf00-\udf03\udf3b\udf3c\udf3e-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc35-\udc46\udc5e\udcb0-\udcc3\uddaf-\uddb5\uddb8-\uddc0\udddc\udddd\ude30-\ude40\udeab-\udeb7\udf1d-\udf2b]|\ud806[\udc2c-\udc3a\uddd1-\uddd7\uddda-\udde0\udde4\ude01-\ude0a\ude33-\ude39\ude3b-\ude3e\ude47\ude51-\ude5b\ude8a-\ude99]|\ud807[\udc2f-\udc36\udc38-\udc3f\udc92-\udca7\udca9-\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd8a-\udd8e\udd90\udd91\udd93-\udd97\udef3-\udef6]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf51-\udf87\udf8f-\udf92]|\ud82f[\udc9d\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"Mc",alias:"Spacing_Mark",bmp:"-----------------------------",astral:"\ud804[\udc00\udc02\udc82\udcb0-\udcb2\udcb7\udcb8\udd2c\udd45\udd46\udd82\uddb3-\uddb5\uddbf\uddc0\ude2c-\ude2e\ude32\ude33\ude35\udee0-\udee2\udf02\udf03\udf3e\udf3f\udf41-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63]|\ud805[\udc35-\udc37\udc40\udc41\udc45\udcb0-\udcb2\udcb9\udcbb-\udcbe\udcc1\uddaf-\uddb1\uddb8-\uddbb\uddbe\ude30-\ude32\ude3b\ude3c\ude3e\udeac\udeae\udeaf\udeb6\udf20\udf21\udf26]|\ud806[\udc2c-\udc2e\udc38\uddd1-\uddd3\udddc-\udddf\udde4\ude39\ude57\ude58\ude97]|\ud807[\udc2f\udc3e\udca9\udcb1\udcb4\udd8a-\udd8e\udd93\udd94\udd96\udef5\udef6]|\ud81b[\udf51-\udf87]|\ud834[\udd65\udd66\udd6d-\udd72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"---"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"---------------------------------------------------------------------------------",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udf46-\udf50]|\ud804[\udc01\udc38-\udc46\udc7f-\udc81\udcb3-\udcb6\udcb9\udcba\udd00-\udd02\udd27-\udd2b\udd2d-\udd34\udd73\udd80\udd81\uddb6-\uddbe\uddc9-\uddcc\ude2f-\ude31\ude34\ude36\ude37\ude3e\udedf\udee3-\udeea\udf00\udf01\udf3b\udf3c\udf40\udf66-\udf6c\udf70-\udf74]|\ud805[\udc38-\udc3f\udc42-\udc44\udc46\udc5e\udcb3-\udcb8\udcba\udcbf\udcc0\udcc2\udcc3\uddb2-\uddb5\uddbc\uddbd\uddbf\uddc0\udddc\udddd\ude33-\ude3a\ude3d\ude3f\ude40\udeab\udead\udeb0-\udeb5\udeb7\udf1d-\udf1f\udf22-\udf25\udf27-\udf2b]|\ud806[\udc2f-\udc37\udc39\udc3a\uddd4-\uddd7\uddda\udddb\udde0\ude01-\ude0a\ude33-\ude38\ude3b-\ude3e\ude47\ude51-\ude56\ude59-\ude5b\ude8a-\ude96\ude98\ude99]|\ud807[\udc30-\udc36\udc38-\udc3d\udc3f\udc92-\udca7\udcaa-\udcb0\udcb2\udcb3\udcb5\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd90\udd91\udd95\udd97\udef3\udef4]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf8f-\udf92]|\ud82f[\udc9d\udc9e]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"N",alias:"Number",bmp:"0-9-------------------------------------------------------------",astral:"\ud800[\udd07-\udd33\udd40-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23\udf41\udf4a\udfd1-\udfd5]|\ud801[\udca0-\udca9]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\udd30-\udd39\ude60-\ude7e\udf1d-\udf26\udf51-\udf54]|\ud804[\udc52-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udde1-\uddf4\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf3b]|\ud806[\udce0-\udcf2]|\ud807[\udc50-\udc6c\udd50-\udd59\udda0-\udda9\udfc0-\udfd4]|\ud809[\udc00-\udc6e]|\ud81a[\ude60-\ude69\udf50-\udf59\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udcc7-\udccf\udd50-\udd59]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9------------------------------------",astral:"\ud801[\udca0-\udca9]|\ud803[\udd30-\udd39]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf39]|\ud806[\udce0-\udce9]|\ud807[\udc50-\udc59\udd50-\udd59\udda0-\udda9]|\ud81a[\ude60-\ude69\udf50-\udf59]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udd50-\udd59]"},{name:"Nl",alias:"Letter_Number",bmp:"------",astral:"\ud800[\udd40-\udd74\udf41\udf4a\udfd1-\udfd5]|\ud809[\udc00-\udc6e]"},{name:"No",alias:"Other_Number",bmp:"-----------------------",astral:"\ud800[\udd07-\udd33\udd75-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\ude60-\ude7e\udf1d-\udf26\udf51-\udf54]|\ud804[\udc52-\udc65\udde1-\uddf4]|\ud805[\udf3a\udf3b]|\ud806[\udcea-\udcf2]|\ud807[\udc5a-\udc6c\udfc0-\udfd4]|\ud81a[\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud83a[\udcc7-\udccf]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}-------------------------------------------------",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]||\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udf55-\udf59]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udf3c-\udf3e]|\ud806[\udc3b\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]||\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_-"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\--"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}"},{name:"Pf",alias:"Final_Punctuation",bmp:""},{name:"Pi",alias:"Initial_Punctuation",bmp:""},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\-----------------------------------------------",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]||\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udf55-\udf59]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udf3c-\udf3e]|\ud806[\udc3b\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]||\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~--------------------------------------------------------------------",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9b\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]||\ud807[\udfd5-\udff1]|\ud81a[\udf3c-\udf3f\udf45]||\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\udde8\ude00-\ude41\ude45\udf00-\udf56]|\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|\ud838[\udd4f\udeff]|\ud83b[\udcac\udcb0\udd2e\udef0\udef1]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd10-\udd6c\udd70-\uddac\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded5\udee0-\udeec\udef0-\udefa\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd0d-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddca\uddcd-\ude53\ude60-\ude6d\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$--",astral:"\ud807[\udfdd-\udfe0]||"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`----------",astral:"\ud83c[\udffb-\udfff]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~---------------------",astral:"\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud83b[\udef0\udef1]"},{name:"So",alias:"Other_Symbol",bmp:"------------------------------------------------------",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9b\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]||\ud807[\udfd5-\udfdc\udfe1-\udff1]|\ud81a[\udf3c-\udf3f\udf45]||\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\udde8\ude00-\ude41\ude45\udf00-\udf56]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]||\ud83b[\udcac\udd2e]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd10-\udd6c\udd70-\uddac\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udffa]|\ud83d[\udc00-\uded5\udee0-\udeec\udef0-\udefa\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd0d-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddca\uddcd-\ude53\ude60-\ude6d\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]"},{name:"Z",alias:"Separator",bmp:" -\u2028\u2029"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:" -"}]},function(e,t,n){"use strict";var r=n(16);n(17)(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(290));
/*!
 * XRegExp Unicode Properties 4.3.0
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var t=u.default;t.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(t)},e.exports=t.default},function(e,t){e.exports=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-z-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udf00-\udf1c\udf27\udf30-\udf45\udfe0-\udff6]|\ud804[\udc00-\udc45\udc82-\udcb8\udcd0-\udce8\udd00-\udd32\udd44-\udd46\udd50-\udd72\udd76\udd80-\uddbf\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude34\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udee8\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d-\udf44\udf47\udf48\udf4b\udf4c\udf50\udf57\udf5d-\udf63]|\ud805[\udc00-\udc41\udc43-\udc45\udc47-\udc4a\udc5f\udc80-\udcc1\udcc4\udcc5\udcc7\udd80-\uddb5\uddb8-\uddbe\uddd8-\udddd\ude00-\ude3e\ude40\ude44\ude80-\udeb5\udeb8\udf00-\udf1a\udf1d-\udf2a]|\ud806[\udc00-\udc38\udca0-\udcdf\udcff\udda0-\udda7\uddaa-\uddd7\uddda-\udddf\udde1\udde3\udde4\ude00-\ude32\ude35-\ude3e\ude50-\ude97\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc3e\udc40\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd41\udd43\udd46\udd47\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd96\udd98\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0\udfe1\udfe3]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9e]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd00-\udd2c\udd37-\udd3d\udd4e\udec0-\udeeb]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd47\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Any",isBmpLast:!0,bmp:"\0-",astral:"[\ud800-\udbff][\udc00-\udfff]"},{name:"Default_Ignorable_Code_Point",bmp:"-----\ufeff-",astral:"\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|[\udb40-\udb43][\udc00-\udfff]"},{name:"Lowercase",bmp:"a-z-------------------------------------------------------",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud83a[\udd22-\udd43]"},{name:"Noncharacter_Code_Point",bmp:"-",astral:"[\ud83f\ud87f\ud8bf\ud8ff\ud93f\ud97f\ud9bf\ud9ff\uda3f\uda7f\udabf\udaff\udb3f\udb7f\udbbf\udbff][\udffe\udfff]"},{name:"Uppercase",bmp:"A-Z--------------------------------------------",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]"},{name:"White_Space",bmp:"\t-\r -\u2028\u2029"}]},function(e,t,n){"use strict";var r=n(16);n(17)(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n(292));
/*!
 * XRegExp Unicode Scripts 4.3.0
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.addUnicodeData(u.default)},e.exports=t.default},function(e,t){e.exports=[{name:"Adlam",astral:"\ud83a[\udd00-\udd4b\udd50-\udd59\udd5e\udd5f]"},{name:"Ahom",astral:"\ud805[\udf00-\udf1a\udf1d-\udf2b\udf30-\udf3f]"},{name:"Anatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude46]"},{name:"Arabic",bmp:"--------------------",astral:"\ud803[\ude60-\ude7e]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb\udef0\udef1]"},{name:"Armenian",bmp:"----"},{name:"Avestan",astral:"\ud802[\udf00-\udf35\udf39-\udf3f]"},{name:"Balinese",bmp:"--"},{name:"Bamum",bmp:"-",astral:"\ud81a[\udc00-\ude38]"},{name:"Bassa_Vah",astral:"\ud81a[\uded0-\udeed\udef0-\udef5]"},{name:"Batak",bmp:"--"},{name:"Bengali",bmp:"---------"},{name:"Bhaiksuki",astral:"\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc45\udc50-\udc6c]"},{name:"Bopomofo",bmp:"--"},{name:"Brahmi",astral:"\ud804[\udc00-\udc4d\udc52-\udc6f\udc7f]"},{name:"Braille",bmp:"-"},{name:"Buginese",bmp:"-"},{name:"Buhid",bmp:"-"},{name:"Canadian_Aboriginal",bmp:"--"},{name:"Carian",astral:"\ud800[\udea0-\uded0]"},{name:"Caucasian_Albanian",astral:"\ud801[\udd30-\udd63\udd6f]"},{name:"Chakma",astral:"\ud804[\udd00-\udd34\udd36-\udd46]"},{name:"Cham",bmp:"----"},{name:"Cherokee",bmp:"---"},{name:"Common",bmp:"\0-@\\[-`\\{------------------------------------------------\ufeff------",astral:"\ud800[\udd00-\udd02\udd07-\udd33\udd37-\udd3f\udd90-\udd9b\uddd0-\uddfc\udee1-\udefb]|\ud81b[\udfe2\udfe3]|\ud82f[\udca0-\udca3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd66\udd6a-\udd7a\udd83\udd84\udd8c-\udda9\uddae-\udde8\udee0-\udef3\udf00-\udf56\udf60-\udf78]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udfcb\udfce-\udfff]|\ud83b[\udc71-\udcb4\udd01-\udd3d]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd00-\udd0c\udd10-\udd6c\udd70-\uddac\udde6-\uddff\ude01\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded5\udee0-\udeec\udef0-\udefa\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd0d-\udd71\udd73-\udd76\udd7a-\udda2\udda5-\uddaa\uddae-\uddca\uddcd-\ude53\ude60-\ude6d\ude70-\ude73\ude78-\ude7a\ude80-\ude82\ude90-\ude95]|\udb40[\udc01\udc20-\udc7f]"},{name:"Coptic",bmp:"---"},{name:"Cuneiform",astral:"\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc70-\udc74\udc80-\udd43]"},{name:"Cypriot",astral:"\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f]"},{name:"Cyrillic",bmp:"-----"},{name:"Deseret",astral:"\ud801[\udc00-\udc4f]"},{name:"Devanagari",bmp:"----"},{name:"Dogra",astral:"\ud806[\udc00-\udc3b]"},{name:"Duployan",astral:"\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9c-\udc9f]"},{name:"Egyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e\udc30-\udc38]"},{name:"Elbasan",astral:"\ud801[\udd00-\udd27]"},{name:"Elymaic",astral:"\ud803[\udfe0-\udff6]"},{name:"Ethiopic",bmp:"------------------------------"},{name:"Georgian",bmp:"------"},{name:"Glagolitic",bmp:"--",astral:"\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]"},{name:"Gothic",astral:"\ud800[\udf30-\udf4a]"},{name:"Grantha",astral:"\ud804[\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]"},{name:"Greek",bmp:"-----------------------",astral:"\ud800[\udd40-\udd8e\udda0]|\ud834[\ude00-\ude45]"},{name:"Gujarati",bmp:"------------"},{name:"Gunjala_Gondi",astral:"\ud807[\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd98\udda0-\udda9]"},{name:"Gurmukhi",bmp:"--------"},{name:"Han",bmp:"---------",astral:"[\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Hangul",bmp:"-------------"},{name:"Hanifi_Rohingya",astral:"\ud803[\udd00-\udd27\udd30-\udd39]"},{name:"Hanunoo",bmp:"-"},{name:"Hatran",astral:"\ud802[\udce0-\udcf2\udcf4\udcf5\udcfb-\udcff]"},{name:"Hebrew",bmp:"------"},{name:"Hiragana",bmp:"--",astral:"\ud82c[\udc01-\udd1e\udd50-\udd52]|"},{name:"Imperial_Aramaic",astral:"\ud802[\udc40-\udc55\udc57-\udc5f]"},{name:"Inherited",bmp:"-------------",astral:"\ud800[\uddfd\udee0]||\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad]|\udb40[\udd00-\uddef]"},{name:"Inscriptional_Pahlavi",astral:"\ud802[\udf60-\udf72\udf78-\udf7f]"},{name:"Inscriptional_Parthian",astral:"\ud802[\udf40-\udf55\udf58-\udf5f]"},{name:"Javanese",bmp:"--"},{name:"Kaithi",astral:"\ud804[\udc80-\udcc1\udccd]"},{name:"Kannada",bmp:"----------"},{name:"Katakana",bmp:"-------",astral:"\ud82c[\udc00\udd64-\udd67]"},{name:"Kayah_Li",bmp:"-"},{name:"Kharoshthi",astral:"\ud802[\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f-\ude48\ude50-\ude58]"},{name:"Khmer",bmp:"----"},{name:"Khojki",astral:"\ud804[\ude00-\ude11\ude13-\ude3e]"},{name:"Khudawadi",astral:"\ud804[\udeb0-\udeea\udef0-\udef9]"},{name:"Lao",bmp:"-------"},{name:"Latin",bmp:"A-Za-z----------------------"},{name:"Lepcha",bmp:"---"},{name:"Limbu",bmp:"----"},{name:"Linear_A",astral:"\ud801[\ude00-\udf36\udf40-\udf55\udf60-\udf67]"},{name:"Linear_B",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa]"},{name:"Lisu",bmp:"-"},{name:"Lycian",astral:"\ud800[\ude80-\ude9c]"},{name:"Lydian",astral:"\ud802[\udd20-\udd39\udd3f]"},{name:"Mahajani",astral:"\ud804[\udd50-\udd76]"},{name:"Makasar",astral:"\ud807[\udee0-\udef8]"},{name:"Malayalam",bmp:"--------"},{name:"Mandaic",bmp:"-"},{name:"Manichaean",astral:"\ud802[\udec0-\udee6\udeeb-\udef6]"},{name:"Marchen",astral:"\ud807[\udc70-\udc8f\udc92-\udca7\udca9-\udcb6]"},{name:"Masaram_Gondi",astral:"\ud807[\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd47\udd50-\udd59]"},{name:"Medefaidrin",astral:"\ud81b[\ude40-\ude9a]"},{name:"Meetei_Mayek",bmp:"---"},{name:"Mende_Kikakui",astral:"\ud83a[\udc00-\udcc4\udcc7-\udcd6]"},{name:"Meroitic_Cursive",astral:"\ud802[\udda0-\uddb7\uddbc-\uddcf\uddd2-\uddff]"},{name:"Meroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"Miao",astral:"\ud81b[\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f]"},{name:"Modi",astral:"\ud805[\ude00-\ude44\ude50-\ude59]"},{name:"Mongolian",bmp:"----",astral:"\ud805[\ude60-\ude6c]"},{name:"Mro",astral:"\ud81a[\ude40-\ude5e\ude60-\ude69\ude6e\ude6f]"},{name:"Multani",astral:"\ud804[\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea9]"},{name:"Myanmar",bmp:"---"},{name:"Nabataean",astral:"\ud802[\udc80-\udc9e\udca7-\udcaf]"},{name:"Nandinagari",astral:"\ud806[\udda0-\udda7\uddaa-\uddd7\uddda-\udde4]"},{name:"New_Tai_Lue",bmp:"---"},{name:"Newa",astral:"\ud805[\udc00-\udc59\udc5b\udc5d-\udc5f]"},{name:"Nko",bmp:"--"},{name:"Nushu",astral:"|\ud82c[\udd70-\udefb]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\ud838[\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udd4f]"},{name:"Ogham",bmp:"-"},{name:"Ol_Chiki",bmp:"-"},{name:"Old_Hungarian",astral:"\ud803[\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff]"},{name:"Old_Italic",astral:"\ud800[\udf00-\udf23\udf2d-\udf2f]"},{name:"Old_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"Old_Permic",astral:"\ud800[\udf50-\udf7a]"},{name:"Old_Persian",astral:"\ud800[\udfa0-\udfc3\udfc8-\udfd5]"},{name:"Old_Sogdian",astral:"\ud803[\udf00-\udf27]"},{name:"Old_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"Old_Turkic",astral:"\ud803[\udc00-\udc48]"},{name:"Oriya",bmp:"---------"},{name:"Osage",astral:"\ud801[\udcb0-\udcd3\udcd8-\udcfb]"},{name:"Osmanya",astral:"\ud801[\udc80-\udc9d\udca0-\udca9]"},{name:"Pahawh_Hmong",astral:"\ud81a[\udf00-\udf45\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]"},{name:"Palmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"Pau_Cin_Hau",astral:"\ud806[\udec0-\udef8]"},{name:"Phags_Pa",bmp:"-"},{name:"Phoenician",astral:"\ud802[\udd00-\udd1b\udd1f]"},{name:"Psalter_Pahlavi",astral:"\ud802[\udf80-\udf91\udf99-\udf9c\udfa9-\udfaf]"},{name:"Rejang",bmp:"-"},{name:"Runic",bmp:"--"},{name:"Samaritan",bmp:"--"},{name:"Saurashtra",bmp:"--"},{name:"Sharada",astral:"\ud804[\udd80-\uddcd\uddd0-\udddf]"},{name:"Shavian",astral:"\ud801[\udc50-\udc7f]"},{name:"Siddham",astral:"\ud805[\udd80-\uddb5\uddb8-\udddd]"},{name:"SignWriting",astral:"\ud836[\udc00-\ude8b\ude9b-\ude9f\udea1-\udeaf]"},{name:"Sinhala",bmp:"--------",astral:"\ud804[\udde1-\uddf4]"},{name:"Sogdian",astral:"\ud803[\udf30-\udf59]"},{name:"Sora_Sompeng",astral:"\ud804[\udcd0-\udce8\udcf0-\udcf9]"},{name:"Soyombo",astral:"\ud806[\ude50-\udea2]"},{name:"Sundanese",bmp:"--"},{name:"Syloti_Nagri",bmp:"-"},{name:"Syriac",bmp:"----"},{name:"Tagalog",bmp:"--"},{name:"Tagbanwa",bmp:"--"},{name:"Tai_Le",bmp:"--"},{name:"Tai_Tham",bmp:"-----"},{name:"Tai_Viet",bmp:"--"},{name:"Takri",astral:"\ud805[\ude80-\udeb8\udec0-\udec9]"},{name:"Tamil",bmp:"---------",astral:"\ud807[\udfc0-\udff1\udfff]"},{name:"Tangut",astral:"|[\ud81c-\ud820][\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udef2]"},{name:"Telugu",bmp:"-----------"},{name:"Thaana",bmp:"-"},{name:"Thai",bmp:"--"},{name:"Tibetan",bmp:"------"},{name:"Tifinagh",bmp:"-"},{name:"Tirhuta",astral:"\ud805[\udc80-\udcc7\udcd0-\udcd9]"},{name:"Ugaritic",astral:"\ud800[\udf80-\udf9d\udf9f]"},{name:"Vai",bmp:"-"},{name:"Wancho",astral:"\ud838[\udec0-\udef9\udeff]"},{name:"Warang_Citi",astral:"\ud806[\udca0-\udcf2\udcff]"},{name:"Yi",bmp:"--"},{name:"Zanabazar_Square",astral:"\ud806[\ude00-\ude47]"}]},function(e,t,n){"use strict";e.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}},function(e,t,n){"use strict";const r=e=>!Number.isNaN(e)&&(e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141));e.exports=r,e.exports.default=r},function(e,t,n){"use strict";e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},function(e,t,n){"use strict";const r=n(88),u=n(89),a=n(297),d={right:function(e,t){e=e.trim();const n=r(e);if(n<t)return" ".repeat(t-n)+e;return e},center:function(e,t){e=e.trim();const n=r(e);if(n>=t)return e;return" ".repeat(t-n>>1)+e}};class o{constructor(e){this.width=e.width,this.wrap=e.wrap,this.rows=[]}span(...e){this.div(...e).span=!0}resetOutput(){this.rows=[]}div(...e){if(0===e.length&&this.div(""),this.wrap&&this._shouldApplyLayoutDSL(...e))return this._applyLayoutDSL(e[0]);const t=e.map(e=>"string"==typeof e?this._colFromString(e):e);return this.rows.push(t),t}_shouldApplyLayoutDSL(...e){return 1===e.length&&"string"==typeof e[0]&&/[\t\n]/.test(e[0])}_applyLayoutDSL(e){const t=e.split("\n").map(e=>e.split("\t"));let n=0;return t.forEach(e=>{e.length>1&&r(e[0])>n&&(n=Math.min(Math.floor(.5*this.width),r(e[0])))}),t.forEach(e=>{this.div(...e.map((t,r)=>({text:t.trim(),padding:this._measurePadding(t),width:0===r&&e.length>1?n:void 0})))}),this.rows[this.rows.length-1]}_colFromString(e){return{text:e,padding:this._measurePadding(e)}}_measurePadding(e){const t=u(e);return[0,t.match(/\s*$/)[0].length,0,t.match(/^\s*/)[0].length]}toString(){const e=[];return this.rows.forEach(t=>{this.rowToString(t,e)}),e.filter(e=>!e.hidden).map(e=>e.text).join("\n")}rowToString(e,t){return this._rasterize(e).forEach((n,u)=>{let a="";n.forEach((n,o)=>{const{width:s}=e[o],c=this._negatePadding(e[o]);let f=n;c>r(n)&&(f+=" ".repeat(c-r(n))),e[o].align&&"left"!==e[o].align&&this.wrap&&(f=d[e[o].align](f,c),r(f)<c&&(f+=" ".repeat(s-r(f)-1)));const l=e[o].padding||[0,0,0,0];l[3]&&(a+=" ".repeat(l[3])),a+=i(e[o],f,"| "),a+=f,a+=i(e[o],f," |"),l[1]&&(a+=" ".repeat(l[1])),0===u&&t.length>0&&(a=this._renderInline(a,t[t.length-1]))}),t.push({text:a.replace(/ +$/,""),span:e.span})}),t}_renderInline(e,t){const n=e.match(/^ */)[0].length,u=t.text,a=r(u.trimRight());return t.span?this.wrap?n<a?e:(t.hidden=!0,u.trimRight()+" ".repeat(n-a)+e.trimLeft()):(t.hidden=!0,u+e):e}_rasterize(e){const t=[],n=this._columnWidths(e);let r;return e.forEach((e,u)=>{e.width=n[u],r=this.wrap?a(e.text,this._negatePadding(e),{hard:!0}).split("\n"):e.text.split("\n"),e.border&&(r.unshift("."+"-".repeat(this._negatePadding(e)+2)+"."),r.push("'"+"-".repeat(this._negatePadding(e)+2)+"'")),e.padding&&(r.unshift(...new Array(e.padding[0]||0).fill("")),r.push(...new Array(e.padding[2]||0).fill(""))),r.forEach((e,n)=>{t[n]||t.push([]);const r=t[n];for(let e=0;e<u;e++)void 0===r[e]&&r.push("");r.push(e)})}),t}_negatePadding(e){let t=e.width;return e.padding&&(t-=(e.padding[3]||0)+(e.padding[1]||0)),e.border&&(t-=4),t}_columnWidths(e){if(!this.wrap)return e.map(e=>e.width||r(e.text));let t=e.length,n=this.width;const u=e.map(e=>{if(e.width)return t--,n-=e.width,e.width}),a=t?Math.floor(n/t):0;return u.map((t,n)=>void 0===t?Math.max(a,function(e){const t=e.padding||[],n=1+(t[3]||0)+(t[1]||0);if(e.border)return n+4;return n}(e[n])):t)}}function i(e,t,n){return e.border?/[.']-+[.']/.test(t)?"":0!==t.trim().length?n:"  ":""}function s(){if("object"==typeof process&&process.stdout&&process.stdout.columns)return process.stdout.columns}e.exports=function(e={}){return new o({width:e.width||s()||80,wrap:!1!==e.wrap})}},function(e,t,n){"use strict";const r=n(88),u=n(89),a=n(298),d=new Set(["",""]),o=e=>`${d.values().next().value}[${e}m`,i=(e,t,n)=>{const a=[...t];let o=!1,i=r(u(e[e.length-1]));for(const[t,u]of a.entries()){const s=r(u);if(i+s<=n?e[e.length-1]+=u:(e.push(u),i=0),d.has(u))o=!0;else if(o&&"m"===u){o=!1;continue}o||(i+=s,i===n&&t<a.length-1&&(e.push(""),i=0))}!i&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},s=e=>{const t=e.split(" ");let n=t.length;for(;n>0&&!(r(t[n-1])>0);)n--;return n===t.length?e:t.slice(0,n).join(" ")+t.slice(n).join("")},c=(e,t,n={})=>{if(!1!==n.trim&&""===e.trim())return"";let u,c="",f="";const l=(e=>e.split(" ").map(e=>r(e)))(e);let p=[""];for(const[u,a]of e.split(" ").entries()){!1!==n.trim&&(p[p.length-1]=p[p.length-1].trimLeft());let e=r(p[p.length-1]);if(0!==u&&(e>=t&&(!1===n.wordWrap||!1===n.trim)&&(p.push(""),e=0),(e>0||!1===n.trim)&&(p[p.length-1]+=" ",e++)),n.hard&&l[u]>t){const n=t-e,r=1+Math.floor((l[u]-n-1)/t);Math.floor((l[u]-1)/t)<r&&p.push(""),i(p,a,t)}else{if(e+l[u]>t&&e>0&&l[u]>0){if(!1===n.wordWrap&&e<t){i(p,a,t);continue}p.push("")}e+l[u]>t&&!1===n.wordWrap?i(p,a,t):p[p.length-1]+=a}}!1!==n.trim&&(p=p.map(s)),c=p.join("\n");for(const[e,t]of[...c].entries()){if(f+=t,d.has(t)){const t=parseFloat(/\d[^m]*/.exec(c.slice(e,e+4)));u=39===t?null:t}const n=a.codes.get(Number(u));u&&n&&("\n"===c[e+1]?f+=o(n):"\n"===t&&(f+=o(u)))}return f};e.exports=(e,t,n)=>String(e).normalize().replace(/\r\n/g,"\n").split("\n").map(e=>c(e,t,n)).join("\n")},function(e,t,n){"use strict";(function(e){const t=(e,t)=>(...n)=>`[${e(...n)+t}m`,r=(e,t)=>(...n)=>{const r=e(...n);return`[${38+t};5;${r}m`},u=(e,t)=>(...n)=>{const r=e(...n);return`[${38+t};2;${r[0]};${r[1]};${r[2]}m`},a=e=>e,d=(e,t,n)=>[e,t,n],o=(e,t,n)=>{Object.defineProperty(e,t,{get:()=>{const r=n();return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})};let i;const s=(e,t,r,u)=>{void 0===i&&(i=n(300));const a=u?10:0,d={};for(const[n,u]of Object.entries(i)){const o="ansi16"===n?"ansi":n;n===t?d[o]=e(r,a):"object"==typeof u&&(d[o]=e(u[t],a))}return d};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,n={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};n.color.gray=n.color.blackBright,n.bgColor.bgGray=n.bgColor.bgBlackBright,n.color.grey=n.color.blackBright,n.bgColor.bgGrey=n.bgColor.bgBlackBright;for(const[t,r]of Object.entries(n)){for(const[t,u]of Object.entries(r))n[t]={open:`[${u[0]}m`,close:`[${u[1]}m`},r[t]=n[t],e.set(u[0],u[1]);Object.defineProperty(n,t,{value:r,enumerable:!1})}return Object.defineProperty(n,"codes",{value:e,enumerable:!1}),n.color.close="[39m",n.bgColor.close="[49m",o(n.color,"ansi",()=>s(t,"ansi16",a,!1)),o(n.color,"ansi256",()=>s(r,"ansi256",a,!1)),o(n.color,"ansi16m",()=>s(u,"rgb",d,!1)),o(n.bgColor,"ansi",()=>s(t,"ansi16",a,!0)),o(n.bgColor,"ansi256",()=>s(r,"ansi256",a,!0)),o(n.bgColor,"ansi16m",()=>s(u,"rgb",d,!0)),n}})}).call(this,n(299)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){const r=n(124),u=n(302),a={};Object.keys(r).forEach(e=>{a[e]={},Object.defineProperty(a[e],"channels",{value:r[e].channels}),Object.defineProperty(a[e],"labels",{value:r[e].labels});const t=u(e);Object.keys(t).forEach(n=>{const r=t[n];a[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),a[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),e.exports=a},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){const r=n(124);function u(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),u=Object.keys(r[e]);for(let r=u.length,a=0;a<r;a++){const r=u[a],d=t[r];-1===d.distance&&(d.distance=t[e].distance+1,d.parent=e,n.unshift(r))}}return t}function a(e,t){return function(n){return t(e(n))}}function d(e,t){const n=[t[e].parent,e];let u=r[t[e].parent][e],d=t[e].parent;for(;t[d].parent;)n.unshift(t[d].parent),u=a(r[t[d].parent][d],u),d=t[d].parent;return u.conversion=n,u}e.exports=function(e){const t=u(e),n={},r=Object.keys(t);for(let e=r.length,u=0;u<e;u++){const e=r[u];null!==t[e].parent&&(n[e]=d(e,t))}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.completion=void 0;const r=n(97),u=n(304),a=n(44),d=n(66),o=n(4),i=n(31);t.completion=function(e,t,n){const s={completionKey:"get-yargs-completions"};let c;s.setParsed=function(e){c=e.aliases};const f=process.env.SHELL&&-1!==process.env.SHELL.indexOf("zsh")||process.env.ZSH_NAME&&-1!==process.env.ZSH_NAME.indexOf("zsh");s.getCompletion=function(u,o){const s=[],p=u.length?u[u.length-1]:"",h=e.parse(u,!0),m=e.getContext().commands;function g(e){if(i.assertNotStrictEqual(l,null),function(e){return e.length<3}(l)){const t=l(p,e);return a.isPromise(t)?t.then(e=>{process.nextTick(()=>{o(e)})}).catch(e=>{process.nextTick(()=>{throw e})}):o(t)}return l(p,e,e=>{o(e)})}if(l)return a.isPromise(h)?h.then(g):g(h);const b=n.getCommandHandlers();for(let t=0,n=u.length;t<n;++t)if(b[u[t]]&&b[u[t]].builder){const n=b[u[t]].builder;if(r.isCommandBuilderCallback(n)){const t=e.reset();return n(t),t.argv}}if(p.match(/^-/)||m[m.length-1]===p||t.getCommands().forEach(e=>{const t=d.parseCommand(e[0]).cmd;if(-1===u.indexOf(t))if(f){const n=e[1]||"";s.push(t.replace(/:/g,"\\:")+":"+n)}else s.push(t)}),p.match(/^-/)||""===p&&0===s.length){const n=t.getDescriptions(),r=e.getOptions();Object.keys(r.key).forEach(e=>{const t=!!r.configuration["boolean-negation"]&&r.boolean.includes(e);let a=[e].concat(c[e]||[]);function d(e){if(a.every(e=>-1===u.indexOf("--"+e))){const t=e=>/^[^0-9]$/.test(e),r=!(e=>/^--/.test(e))(p)&&t(e)?"-":"--";if(f){const t=n[e]||"";s.push(r+`${e.replace(/:/g,"\\:")}:${t.replace("__yargsString__:","")}`)}else s.push(r+e)}}t&&(a=a.concat(a.map(e=>"no-"+e))),d(e),t&&r.default[e]&&d("no-"+e)})}o(s)},s.generateCompletionScript=function(e,t){let n=f?u.completionZshTemplate:u.completionShTemplate;const r=o.basename(e);return e.match(/\.js$/)&&(e="./"+e),n=n.replace(/{{app_name}}/g,r),n=n.replace(/{{completion_command}}/g,t),n.replace(/{{app_path}}/g,e)};let l=null;return s.registerFunction=e=>{l=e},s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.completionZshTemplate=t.completionShTemplate=void 0,t.completionShTemplate='###-begin-{{app_name}}-completions-###\n#\n# yargs command completion script\n#\n# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc\n#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.\n#\n_yargs_completions()\n{\n    local cur_word args type_list\n\n    cur_word="${COMP_WORDS[COMP_CWORD]}"\n    args=("${COMP_WORDS[@]}")\n\n    # ask yargs to generate completions.\n    type_list=$({{app_path}} --get-yargs-completions "${args[@]}")\n\n    COMPREPLY=( $(compgen -W "${type_list}" -- ${cur_word}) )\n\n    # if no match was found, fall back to filename completion\n    if [ ${#COMPREPLY[@]} -eq 0 ]; then\n      COMPREPLY=()\n    fi\n\n    return 0\n}\ncomplete -o default -F _yargs_completions {{app_name}}\n###-end-{{app_name}}-completions-###\n',t.completionZshTemplate='###-begin-{{app_name}}-completions-###\n#\n# yargs command completion script\n#\n# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc\n#    or {{app_path}} {{completion_command}} >> ~/.zsh_profile on OSX.\n#\n_{{app_name}}_yargs_completions()\n{\n  local reply\n  local si=$IFS\n  IFS=$\'\n\' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "${words[@]}"))\n  IFS=$si\n  _describe \'values\' reply\n}\ncompdef _{{app_name}}_yargs_completions {{app_name}}\n###-end-{{app_name}}-completions-###\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validation=void 0;const r=n(65),u=n(31),a=n(306),d=n(68),o=["$0","--","_"];t.validation=function(e,t,n){const i=n.__,s=n.__n,c={nonOptionCount:function(n){const r=e.getDemandedCommands(),u=n._.length-e.getContext().commands.length;r._&&(u<r._.min||u>r._.max)&&(u<r._.min?void 0!==r._.minMsg?t.fail(r._.minMsg?r._.minMsg.replace(/\$0/g,u.toString()).replace(/\$1/,r._.min.toString()):null):t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",u,u,r._.min)):u>r._.max&&(void 0!==r._.maxMsg?t.fail(r._.maxMsg?r._.maxMsg.replace(/\$0/g,u.toString()).replace(/\$1/,r._.max.toString()):null):t.fail(s("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",u,u,r._.max))))},positionalCount:function(e,n){n<e&&t.fail(s("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",n,n,e))},requiredArguments:function(n){const r=e.getDemandedOptions();let u=null;for(const e of Object.keys(r))Object.prototype.hasOwnProperty.call(n,e)&&void 0!==n[e]||(u=u||{},u[e]=r[e]);if(u){const e=[];for(const t of Object.keys(u)){const n=u[t];n&&e.indexOf(n)<0&&e.push(n)}const n=e.length?"\n"+e.join("\n"):"";t.fail(s("Missing required argument: %s","Missing required arguments: %s",Object.keys(u).length,Object.keys(u).join(", ")+n))}},unknownArguments:function(n,r,u,a){const d=e.getCommandInstance().getCommands(),i=[],f=e.getContext();Object.keys(n).forEach(t=>{-1!==o.indexOf(t)||Object.prototype.hasOwnProperty.call(u,t)||Object.prototype.hasOwnProperty.call(e._getParseContext(),t)||c.isValidAndSomeAliasIsNotNew(t,r)||i.push(t)}),(f.commands.length>0||d.length>0||a)&&n._.slice(f.commands.length).forEach(e=>{-1===d.indexOf(e)&&i.push(e)}),i.length>0&&t.fail(s("Unknown argument: %s","Unknown arguments: %s",i.length,i.join(", ")))},unknownCommands:function(n){const r=e.getCommandInstance().getCommands(),u=[],a=e.getContext();return(a.commands.length>0||r.length>0)&&n._.slice(a.commands.length).forEach(e=>{-1===r.indexOf(e)&&u.push(e)}),u.length>0&&(t.fail(s("Unknown command: %s","Unknown commands: %s",u.length,u.join(", "))),!0)},isValidAndSomeAliasIsNotNew:function(t,n){if(!Object.prototype.hasOwnProperty.call(n,t))return!1;const r=e.parsed.newAliases;for(const e of[t,...n[t]])if(!Object.prototype.hasOwnProperty.call(r,e)||!r[t])return!0;return!1},limitedChoices:function(n){const r=e.getOptions(),u={};if(!Object.keys(r.choices).length)return;Object.keys(n).forEach(e=>{-1===o.indexOf(e)&&Object.prototype.hasOwnProperty.call(r.choices,e)&&[].concat(n[e]).forEach(t=>{-1===r.choices[e].indexOf(t)&&void 0!==t&&(u[e]=(u[e]||[]).concat(t))})});const a=Object.keys(u);if(!a.length)return;let d=i("Invalid values:");a.forEach(e=>{d+="\n  "+i("Argument: %s, Given: %s, Choices: %s",e,t.stringifiedValues(u[e]),t.stringifiedValues(r.choices[e]))}),t.fail(d)}};let f=[];c.check=function(e,t){f.push({func:e,global:t})},c.customChecks=function(e,n){for(let r,u=0;void 0!==(r=f[u]);u++){const u=r.func;let a=null;try{a=u(e,n)}catch(e){t.fail(e.message?e.message:e,e);continue}a?("string"==typeof a||a instanceof Error)&&t.fail(a.toString(),a):t.fail(i("Argument check failed: %s",u.toString()))}};let l={};function p(e,t){const n=Number(t);return t="number"==typeof(t=isNaN(n)?t:n)?e._.length>=t:t.match(/^--no-.+/)?!e[t=t.match(/^--no-(.+)/)[1]]:e[t]}c.implies=function(t,n){r.argsert("<string|object> [array|number|string]",[t,n],arguments.length),"object"==typeof t?Object.keys(t).forEach(e=>{c.implies(e,t[e])}):(e.global(t),l[t]||(l[t]=[]),Array.isArray(n)?n.forEach(e=>c.implies(t,e)):(u.assertNotStrictEqual(n,void 0),l[t].push(n)))},c.getImplied=function(){return l},c.implications=function(e){const n=[];if(Object.keys(l).forEach(t=>{const r=t;(l[t]||[]).forEach(t=>{let u=r;const a=t;u=p(e,u),t=p(e,t),u&&!t&&n.push(` ${r} -> ${a}`)})}),n.length){let e=i("Implications failed:")+"\n";n.forEach(t=>{e+=t}),t.fail(e)}};let h={};c.conflicts=function(t,n){r.argsert("<string|object> [array|string]",[t,n],arguments.length),"object"==typeof t?Object.keys(t).forEach(e=>{c.conflicts(e,t[e])}):(e.global(t),h[t]||(h[t]=[]),Array.isArray(n)?n.forEach(e=>c.conflicts(t,e)):h[t].push(n))},c.getConflicting=()=>h,c.conflicting=function(e){Object.keys(e).forEach(n=>{h[n]&&h[n].forEach(r=>{r&&void 0!==e[n]&&void 0!==e[r]&&t.fail(i("Arguments %s and %s are mutually exclusive",n,r))})})},c.recommendCommands=function(e,n){n=n.sort((e,t)=>t.length-e.length);let r=null,u=1/0;for(let t,d=0;void 0!==(t=n[d]);d++){const n=a.levenshtein(e,t);n<=3&&n<u&&(u=n,r=t)}r&&t.fail(i("Did you mean %s?",r))},c.reset=function(e){return l=d.objFilter(l,t=>!e[t]),h=d.objFilter(h,t=>!e[t]),f=f.filter(e=>e.global),c};const m=[];return c.freeze=function(){m.push({implied:l,checks:f,conflicting:h})},c.unfreeze=function(){const e=m.pop();u.assertNotStrictEqual(e,void 0),({implied:l,checks:f,conflicting:h}=e)},c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levenshtein=void 0,t.levenshtein=function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;const n=[];let r,u;for(r=0;r<=t.length;r++)n[r]=[r];for(u=0;u<=e.length;u++)n[0][u]=u;for(r=1;r<=t.length;r++)for(u=1;u<=e.length;u++)t.charAt(r-1)===e.charAt(u-1)?n[r][u]=n[r-1][u-1]:n[r][u]=Math.min(n[r-1][u-1]+1,Math.min(n[r][u-1]+1,n[r-1][u]+1));return n[t.length][e.length]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyExtends=void 0;const r=n(15),u=n(4),a=n(45);let d=[];t.applyExtends=function e(t,o,i=!1){let s={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if("string"!=typeof t.extends)return s;const c=/\.json|\..*rc$/.test(t.extends);let f=null;if(c)f=function(e,t){return u.resolve(e,t)}(o,t.extends);else try{f=n(54).resolve(t.extends)}catch(e){}if(!f&&!c)return t;if(!f)throw new a.YError(`Unable to find extended config '${t.extends}' in '${o}'.`);!function(e){if(d.indexOf(e)>-1)throw new a.YError(`Circular extended configurations: '${e}'.`)}(f),d.push(f),s=c?JSON.parse(r.readFileSync(f,"utf8")):n(54)(t.extends),delete t.extends,s=e(s,u.dirname(f),i)}return d=[],i?function e(t,n){const r={};function u(e){return e&&"object"==typeof e&&!Array.isArray(e)}Object.assign(r,t);for(const a of Object.keys(n))u(n[a])&&u(r[a])?r[a]=e(t[a],n[a]):r[a]=n[a];return r}(s,t):Object.assign({},s,t)}},function(e,t,n){var r=n(15),u=n(4),a=n(23);function d(e){e=e||{},this.directory=e.directory||"./locales",this.updateFiles="boolean"!=typeof e.updateFiles||e.updateFiles,this.locale=e.locale||"en",this.fallbackToLanguage="boolean"!=typeof e.fallbackToLanguage||e.fallbackToLanguage,this.cache={},this.writeQueue=[]}d.prototype.__=function(){if("string"!=typeof arguments[0])return this._taggedLiteral.apply(this,arguments);var e=Array.prototype.slice.call(arguments),t=e.shift(),n=function(){};return"function"==typeof e[e.length-1]&&(n=e.pop()),n=n||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][t]&&this.updateFiles?(this.cache[this.locale][t]=t,this._enqueueWrite([this.directory,this.locale,n])):n(),a.format.apply(a,[this.cache[this.locale][t]||t].concat(e))},d.prototype._taggedLiteral=function(e){var t=arguments,n="";return e.forEach((function(e,r){var u=t[r+1];n+=e,void 0!==u&&(n+="%s")})),this.__.apply(null,[n].concat([].slice.call(arguments,1)))},d.prototype._enqueueWrite=function(e){this.writeQueue.push(e),1===this.writeQueue.length&&this._processWriteQueue()},d.prototype._processWriteQueue=function(){var e=this,t=this.writeQueue[0],n=t[0],u=t[1],a=t[2],d=this._resolveLocaleFile(n,u),o=JSON.stringify(this.cache[u],null,2);r.writeFile(d,o,"utf-8",(function(t){e.writeQueue.shift(),e.writeQueue.length>0&&e._processWriteQueue(),a(t)}))},d.prototype._readLocaleFile=function(){var e={},t=this._resolveLocaleFile(this.directory,this.locale);try{e=JSON.parse(r.readFileSync(t,"utf-8"))}catch(n){if(n instanceof SyntaxError&&(n.message="syntax error in "+t),"ENOENT"!==n.code)throw n;e={}}this.cache[this.locale]=e},d.prototype._resolveLocaleFile=function(e,t){var n=u.resolve(e,"./",t+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(n)&&~t.lastIndexOf("_")){var r=u.resolve(e,"./",t.split("_")[0]+".json");this._fileExistsSync(r)&&(n=r)}return n},d.prototype._fileExistsSync=function(e){try{return r.statSync(e).isFile()}catch(e){return!1}},d.prototype.__n=function(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=e.shift(),r=e.shift(),u=function(){};"function"==typeof e[e.length-1]&&(u=e.pop()),this.cache[this.locale]||this._readLocaleFile();var d=1===r?t:n;this.cache[this.locale][t]&&(d=this.cache[this.locale][t][1===r?"one":"other"]),!this.cache[this.locale][t]&&this.updateFiles?(this.cache[this.locale][t]={one:t,other:n},this._enqueueWrite([this.directory,this.locale,u])):u();var o=[d];return~d.indexOf("%d")&&o.push(r),a.format.apply(a,o.concat(e))},d.prototype.setLocale=function(e){this.locale=e},d.prototype.getLocale=function(){return this.locale},d.prototype.updateLocale=function(e){for(var t in this.cache[this.locale]||this._readLocaleFile(),e)this.cache[this.locale][t]=e[t]},e.exports=function(e){var t=new d(e);for(var n in t)"function"==typeof t[n]&&(t[n]=t[n].bind(t));return t}},function(e,t,n){"use strict";const r=n(4),u=n(310),a=n(314),d=Symbol("findUp.stop");e.exports=async(e,t={})=>{let n=r.resolve(t.cwd||"");const{root:a}=r.parse(n),o=[].concat(e),i=async t=>{if("function"!=typeof e)return u(o,t);const n=await e(t.cwd);return"string"==typeof n?u([n],t):n};for(;;){const e=await i({...t,cwd:n});if(e===d)return;if(e)return r.resolve(n,e);if(n===a)return;n=r.dirname(n)}},e.exports.sync=(e,t={})=>{let n=r.resolve(t.cwd||"");const{root:a}=r.parse(n),o=[].concat(e),i=t=>{if("function"!=typeof e)return u.sync(o,t);const n=e(t.cwd);return"string"==typeof n?u.sync([n],t):n};for(;;){const e=i({...t,cwd:n});if(e===d)return;if(e)return r.resolve(n,e);if(n===a)return;n=r.dirname(n)}},e.exports.exists=a,e.exports.sync.exists=a.sync,e.exports.stop=d},function(e,t,n){"use strict";const r=n(4),u=n(15),{promisify:a}=n(23),d=n(311),o=a(u.stat),i=a(u.lstat),s={directory:"isDirectory",file:"isFile"};function c({type:e}){if(!(e in s))throw new Error("Invalid type specified: "+e)}const f=(e,t)=>void 0===e||t[s[e]]();e.exports=async(e,t)=>{c(t={cwd:process.cwd(),type:"file",allowSymlinks:!0,...t});const n=t.allowSymlinks?o:i;return d(e,async e=>{try{const u=await n(r.resolve(t.cwd,e));return f(t.type,u)}catch(e){return!1}},t)},e.exports.sync=(e,t)=>{c(t={cwd:process.cwd(),allowSymlinks:!0,type:"file",...t});const n=t.allowSymlinks?u.statSync:u.lstatSync;for(const u of e)try{const e=n(r.resolve(t.cwd,u));if(f(t.type,e))return u}catch(e){}}},function(e,t,n){"use strict";const r=n(312);class u extends Error{constructor(e){super(),this.value=e}}const a=async(e,t)=>t(await e),d=async e=>{const t=await Promise.all(e);if(!0===t[1])throw new u(t[0]);return!1},o=async(e,t,n)=>{n={concurrency:1/0,preserveOrder:!0,...n};const o=r(n.concurrency),i=[...e].map(e=>[e,o(a,e,t)]),s=r(n.preserveOrder?1:1/0);try{await Promise.all(i.map(e=>s(d,e)))}catch(e){if(e instanceof u)return e.value;throw e}};e.exports=o,e.exports.default=o},function(e,t,n){"use strict";const r=n(313),u=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let n=0;const u=()=>{n--,t.length>0&&t.shift()()},a=(e,t,...a)=>{n++;const d=r(e,...a);t(d),d.then(u,u)},d=(r,...u)=>new Promise(d=>((r,u,...d)=>{n<e?a(r,u,...d):t.push(a.bind(null,r,u,...d))})(r,d,...u));return Object.defineProperties(d,{activeCount:{get:()=>n},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),d};e.exports=u,e.exports.default=u},function(e,t,n){"use strict";const r=(e,...t)=>new Promise(n=>{n(e(...t))});e.exports=r,e.exports.default=r},function(e,t,n){"use strict";const r=n(15),{promisify:u}=n(23),a=u(r.access);e.exports=async e=>{try{return await a(e),!0}catch(e){return!1}},e.exports.sync=e=>{try{return r.accessSync(e),!0}catch(e){return!1}}},function(e,t,n){e.exports=function(e){var t=(e=e||n(316)).main;return t&&function(e){return/\\iisnode\\/.test(e.filename)}(t)?function(e){return e.children.length?e.children[0].filename:e.filename}(t):t?t.filename:process.cwd()}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=316},function(e,t,n){"use strict";e.exports=function(e){if(void 0===e&&(e=2),e>=Error.stackTraceLimit)throw new TypeError("getCallerFile(position) requires position be less then Error.stackTraceLimit but position was: `"+e+"` and Error.stackTraceLimit was: `"+Error.stackTraceLimit+"`");var t=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var n=(new Error).stack;if(Error.prepareStackTrace=t,null!==n&&"object"==typeof n)return n[e]?n[e].getFileName():void 0}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=318},function(e,t,n){"use strict";const r=n(126);r.createWebSocketStream=n(327),r.Server=n(328),r.Receiver=n(128),r.Sender=n(131),e.exports=r},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("tls")},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";const r=Symbol("kDone"),u=Symbol("kRun");e.exports=class{constructor(e){this[r]=()=>{this.pending--,this[u]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[u]()}[u](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[r])}}}},function(e,t,n){"use strict";class r{constructor(e,t){this.target=t,this.type=e}}class u extends r{constructor(e,t){super("message",t),this.data=e}}class a extends r{constructor(e,t,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=t,this.code=e}}class d extends r{constructor(e){super("open",e)}}class o extends r{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const i={addEventListener(e,t,n){if("function"!=typeof t)return;function r(e){t.call(this,new u(e,this))}function i(e,n){t.call(this,new a(e,n,this))}function s(e){t.call(this,new o(e,this))}function c(){t.call(this,new d(this))}const f=n&&n.once?"once":"on";"message"===e?(r._listener=t,this[f](e,r)):"close"===e?(i._listener=t,this[f](e,i)):"error"===e?(s._listener=t,this[f](e,s)):"open"===e?(c._listener=t,this[f](e,c)):this[f](e,t)},removeEventListener(e,t){const n=this.listeners(e);for(let r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}};e.exports=i},function(e,t,n){"use strict";const{Duplex:r}=n(129);function u(e){e.emit("close")}function a(){!this.destroyed&&this._writableState.finished&&this.destroy()}function d(e){this.removeListener("error",d),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let n=!0;function o(){n&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",o)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",o));const i=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){i.push(t)||(n=!1,e._socket.pause())})),e.once("error",(function(e){i.destroyed||i.destroy(e)})),e.once("close",(function(){i.destroyed||i.push(null)})),i._destroy=function(t,n){if(e.readyState===e.CLOSED)return n(t),void process.nextTick(u,i);let r=!1;e.once("error",(function(e){r=!0,n(e)})),e.once("close",(function(){r||n(t),process.nextTick(u,i)})),e.terminate()},i._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),i._readableState.endEmitted&&i.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){i._final(t)}))},i._read=function(){e.readyState!==e.OPEN||n||(n=!0,e._receiver._writableState.needDrain||e._socket.resume())},i._write=function(t,n,r){e.readyState!==e.CONNECTING?e.send(t,r):e.once("open",(function(){i._write(t,n,r)}))},i.on("end",a),i.on("error",d),i}},function(e,t,n){"use strict";const r=n(63),{createHash:u}=n(28),{createServer:a,STATUS_CODES:d}=n(127),o=n(55),i=n(126),{format:s,parse:c}=n(132),{GUID:f,kWebSocket:l}=n(34),p=/^[+/0-9A-Za-z]{22}==$/;function h(e){e.emit("close")}function m(){this.destroy()}function g(e,t,n,r){e.writable&&(n=n||d[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.write(`HTTP/1.1 ${t} ${d[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",m),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=e.port?(this._server=a((e,t)=>{const n=d[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,n)=>{this.handleUpgrade(e,t,n,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit("close")):process.nextTick(h,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",m);const u=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),a=+e.headers["sec-websocket-version"],d={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!u||!p.test(u)||8!==a&&13!==a||!this.shouldHandle(e))return g(t,400);if(this.options.perMessageDeflate){const n=new o(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=c(e.headers["sec-websocket-extensions"]);t[o.extensionName]&&(n.accept(t[o.extensionName]),d[o.extensionName]=n)}catch(e){return g(t,400)}}if(this.options.verifyClient){const o={origin:e.headers[""+(8===a?"sec-websocket-origin":"origin")],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(o,(a,o,i,s)=>{if(!a)return g(t,o||401,i,s);this.completeUpgrade(u,d,e,t,n,r)});if(!this.options.verifyClient(o))return g(t,401)}this.completeUpgrade(u,d,e,t,n,r)}completeUpgrade(e,t,n,r,a,d){if(!r.readable||!r.writable)return r.destroy();if(r[l])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");const c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+u("sha1").update(e+f).digest("base64")],p=new i(null);let h=n.headers["sec-websocket-protocol"];if(h&&(h=h.trim().split(/ *, */),h=this.options.handleProtocols?this.options.handleProtocols(h,n):h[0],h&&(c.push("Sec-WebSocket-Protocol: "+h),p.protocol=h)),t[o.extensionName]){const e=t[o.extensionName].params,n=s({[o.extensionName]:[e]});c.push("Sec-WebSocket-Extensions: "+n),p._extensions=t}this.emit("headers",c,n),r.write(c.concat("\r\n").join("\r\n")),r.removeListener("error",m),p.setSocket(r,a,this.options.maxPayload),this.clients&&(this.clients.add(p),p.on("close",()=>this.clients.delete(p))),d(p)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllValues=l,t.getAllValuesLinkingMostCurrent=async function(e,t,n,a){if(!(0,u.isVersionedObjectType)(n))throw(0,r.createError)("RMQ-AVMC1",{fromHash:e,toType:n});const d=await l(e,t,n);return await async function(e,t=0){const n=new Map;for(const{toHash:t,toIdHash:u}of e){if(!(0,c.isString)(u))throw(0,r.createError)("RMQ-FL1");const e=n.get(u);e instanceof Set?e.add(t):n.set(u,new Set([t]))}return(await Promise.all(Array.from(n.keys()).map(async e=>{const{timestamp:r,hash:u}=await(0,f.getNthVersionMapEntry)(e);if(r>t){const t=n.get(e);if(t instanceof Set&&t.has(u))return{hash:u,idHash:e,timestamp:r}}}))).filter(Boolean)}(d,a)},t.getAllEntries=function(e,t,n){const u=`${e}.${t?"I":"H"}.${n}`;return(0,o.serializeWithType)("ReverseMap "+u,(async function(){if(!/[0-9a-f]{64}\.[I|H]\.\w+/.test(u))throw(0,r.createError)("RMQ-AE1",{mapName:u});let e;try{e=await(0,a.readUTF8TextFile)(u,"reverse-maps")}catch(e){if("FileNotFoundError"===e.name)return new Map;throw e}const t=(0,d.createArrayValueMap)();return e.slice(0,-1).split("\n").forEach(e=>{const n=","===e.charAt(65),r={fromHash:(0,s.ensureHash)((0,i.substrForceMemCopy)(e,0,64)),toIdHash:n?void 0:(0,s.ensureIdHash)((0,i.substrForceMemCopy)(e,65,64)),toHash:(0,s.ensureHash)((0,i.substrForceMemCopy)(e,n?66:130,64))};t.add(r.fromHash,r)}),t.mapObj}))};var r=n(0),u=n(9),a=n(7),d=n(91),o=n(29),i=n(60),s=n(59),c=n(1),f=n(134);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function l(e,t,n){const u=`${e}.${t?"I":"H"}.${n}`;return(0,o.serializeWithType)("ReverseMap "+u,(async function(){if(!/[0-9a-f]{64}\.[I|H]\.\w+/.test(u))throw(0,r.createError)("RMQ-AV1",{mapName:u});let e;try{e=await(0,a.readUTF8TextFile)(u,"reverse-maps")}catch(e){if("FileNotFoundError"===e.name)return[];throw e}return e.slice(0,-1).split("\n").map(e=>{const t=","===e.charAt(65);return{fromHash:(0,s.ensureHash)((0,i.substrForceMemCopy)(e,0,64)),toIdHash:t?void 0:(0,s.ensureIdHash)((0,i.substrForceMemCopy)(e,65,64)),toHash:(0,s.ensureHash)((0,i.substrForceMemCopy)(e,t?66:130,64))}})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureRecipeObj=function(e){if(!(0,o.isObject)(e))throw(0,r.createError)("URC-ERCP1",{type:null===e?"null":typeof e});if("Recipe"!==e.$type$)throw(0,r.createError)("URC-ERCP2",{type:e.$type$});const t=e.name;if(!(0,o.isString)(t)||""===t||/[<>\s]+/.test(t))throw(0,r.createError)("URC-ERCP3",{recipeName:t});if(!Array.isArray(e.rule))throw(0,r.createError)("URC-ERCP4",{recipeName:t});try{const n=e.rule.map((e,n)=>function e(t,n,u,a=new Set,d=!1){if(!(0,o.isObject)(n))throw(0,r.createError)("URC-ERECI1",{type:null===n?"null":typeof n});if(d&&void 0!==n.isId)throw(0,r.createError)("URC-ERECI2",{index:u});for(const e of Object.keys(n))if(!f.has(e))throw(0,r.createError)("URC-ERECI3",{index:u,prop:e});for(const[e,{valueType:t,optional:a}]of f){if(void 0===n[e]){if(a)continue;throw(0,r.createError)("URC-ERECI4",{index:u,prop:e})}if(void 0===n.rule&&"regexp"!==t&&"Map"!==t&&"Set"!==t&&typeof n[e]!==t)throw(0,r.createError)("URC-ERECI5",{index:u,prop:e,valueType:t,propType:typeof n[e]});if("Map"===t&&"Map"!==(0,o.getObjTypeName)(n[e]))throw(0,r.createError)("URC-ERECI6",{index:u,prop:e,oName:(0,o.getObjTypeName)(n[e])});if("Set"===t&&"Set"!==(0,o.getObjTypeName)(n[e]))throw(0,r.createError)("URC-ERECI7",{index:u,prop:e,oName:(0,o.getObjTypeName)(n[e])})}if(/[<>.\s]+/.test(n.itemprop))throw(0,r.createError)("URC-ERECI8",{index:u});if(void 0!==n.list&&!i.has(n.list))throw(0,r.createError)("URC-ERECI9",{optVals:i,thingList:n.list});if(n.isId&&n.optional)throw(0,r.createError)("URC-ERECI10");if(["referenceToObj","referenceToId","referenceToBlob","referenceToClob"].reduce((e,t)=>e+n[t]===void 0?0:1,0)>1)throw(0,r.createError)("URC-ERECI12",{thing:n});if(void 0!==n.name&&void 0!==n.inheritFromNamedRule)throw(0,r.createError)("URC-ERECI13");if(!(void 0===n.referenceToObj||n.referenceToObj instanceof Set&&Array.from(n.referenceToObj).every(e=>(0,o.isString)(e))))throw(0,r.createError)("URC-ERECI14",{index:u,ref:n.referenceToObj,oName:(0,o.getObjTypeName)(n.referenceToObj)});if(!(void 0===n.referenceToId||n.referenceToId instanceof Set&&Array.from(n.referenceToId).every(e=>(0,o.isString)(e))))throw(0,r.createError)("URC-ERECI15",{index:u,ref:n.referenceToId,refName:(0,o.getObjTypeName)(n.referenceToId)});if(void 0!==n.referenceToBlob&&"boolean"!=typeof n.referenceToBlob)throw(0,r.createError)("URC-ERECI16",{index:u,ref:n.referenceToBlob,refName:(0,o.getObjTypeName)(n.referenceToBlob)});if(void 0!==n.referenceToClob&&"boolean"!=typeof n.referenceToClob)throw(0,r.createError)("URC-ERECI17",{index:u,ref:n.referenceToClob,refName:(0,o.getObjTypeName)(n.referenceToClob)});let l=0;for(const e of["referenceToObj","referenceToBlob","referenceToClob","referenceToId"])void 0!==n[e]&&(l+=1);if(l>1)throw(0,r.createError)("URC-ERECI18",{index:u});if(void 0!==n.valueType&&!s.has(n.valueType))throw(0,r.createError)("URC-ERECI19",{index:u,jsTypeString:s,valueType:n.valueType});if("object"===n.valueType&&void 0!==n.list)throw(0,r.createError)("URC-ERECI20",{index:u,thing:n});if(void 0!==n.regexp&&void 0!==n.valueType&&"string"!==n.valueType)throw(0,r.createError)("URC-ERECI21",{thing:n});if(void 0!==n.regexp&&"RegExp"!==(0,o.getObjTypeName)(n.regexp))throw(0,r.createError)("URC-ERECI22",{index:u,thing:n});if(void 0!==Reflect.getOwnPropertyDescriptor(n,"rule")&&void 0===n.rule)throw(0,r.createError)("URC-ERECI25",{index:u,itemprop:n.itemprop});if(Array.isArray(n.rule)&&a.has(n.rule))throw(0,r.createError)("URC-ERECI26",{index:u,rule:n.rule});Array.isArray(n.rule)&&(a.add(n.rule),n.rule.forEach(n=>e(t,n,u,new Set(a),!0)));if(void 0!==n.rule&&!(Array.isArray(n.rule)&&n.rule.length>0))throw(0,r.createError)("URC-ERECI23",{index:u,rule:n.rule});if(Array.isArray(n.rule)&&!Object.keys(n).every(e=>c.has(e)))throw(0,r.createError)("URC-ERECI24",{index:u,allowed:c,thingKeys:Object.keys(n)});return n}(t,e,n));!function e(t){const n=new Set;for(const u of t){if(n.has(u.itemprop))throw(0,r.createError)("URC-CIT1",{itemprop:u.itemprop});n.add(u.itemprop),Array.isArray(u.rule)&&e(u.rule)}}(n),(0,a.findAllLinkedRules)(n)}catch(t){throw t.message+=";\n  Recipe: "+(0,d.stringifyWithCircles)(e),t}return e};var r=n(0),u=n(90),a=n(133),d=n(57),o=n(1);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const i=new Set(Object.values(u.ORDERED_BY)),s=new Set(["string","boolean","number","regexp","object","Map","Set"]),c=new Set(["isId","name","itemprop","list","rule","optional"]),f=(()=>{const e=u.CORE_RECIPES.find(e=>"Recipe"===e.name);if(void 0===e)throw(0,r.createError)("URC-RRP1");const t=e.rule.find(e=>"rule"===e.itemprop);if(void 0===t||void 0===t.rule)throw(0,r.createError)("URC-RRP2");return new Map(t.rule.map(e=>[e.itemprop,{valueType:e.valueType?e.valueType:"string",optional:!0===e.optional}]))})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLruMap=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function(e){if(!(0,u.isNumber)(e)||e<2)throw(0,r.createError)("ULRU-CRM1",{maxSize:e,type:typeof e});const t=new Map;return{[Symbol.iterator]:()=>t.entries(),get:function(e){const n=t.get(e);return void 0!==n&&(t.delete(e),t.set(e,n)),n},set:function(n,r){t.has(n)?t.delete(n):t.size>=e&&t.delete(t.keys().next().value),t.set(n,r)},clear:function(){t.clear()}}};var r=n(0),u=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReverseMapOrAppendEntry=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
async function(e,t,n,i,s=""){if(void 0===e&&void 0===t||void 0===i)throw(0,r.createError)("RMU-CE1",{fromHash:e,fromIdHash:t,toType:n,toHash:i});if((0,u.isVersionedObjectType)(n)&&void 0===s)throw(0,r.createError)("RMU-CE2",{fromHash:e,fromIdHash:t,toType:n,toHash:i});const c=(void 0===t?e+".H.":t+".I.")+n;return await(0,o.serializeWithType)("ReverseMap "+c,(async function(){const n=(void 0===e?t:e)+","+s+","+i+"\n";let r="";try{r=await(0,d.readUTF8TextFile)(c,"reverse-maps")}catch(e){if("FileNotFoundError"!==e.name)throw e}return r.includes(n)?a.CREATION_STATUS.EXISTS:(await(0,d.appendUTF8SystemMapFile)(n,c,"reverse-maps"),a.CREATION_STATUS.NEW)}))},t.removeReverseMapEntryAtomic=async function(e,t,n,u){if(void 0===e&&void 0===t||void 0===u||void 0===n)throw(0,r.createError)("RMU-CE1",{fromHash:e,fromIdHash:t,toType:n,toHash:u});const a=(void 0===t?e+".H.":t+".I.")+n;return await(0,o.serializeWithType)("ReverseMap "+a,(async function(){const e=await(0,d.readUTF8TextFile)(a,"reverse-maps"),t=e.replace(new RegExp("[0-9a-f]{64},[0-9a-f]{64}?,"+u+"\n","g"),"");return e.length!==t.length&&(await(0,d.writeUTF8SystemMapFile)(t,a,"reverse-maps"),!0)}))};var r=n(0),u=n(9),a=n(12),d=n(7),o=n(29)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findLinkedHashesInObject=function(e){return a(e,(e,t)=>t)},t.findLinkedHashesAndItempropsInObject=function(e){return a(e,(e,t)=>({itemprop:e,hash:t}))};var r=n(9);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */function u(e,t){return""===e?t:e+"."+t}function a(e,t){const n=(0,r.getRecipe)(e.$type$),a={references:[],idReferences:[],blobs:[],clobs:[]};return function e(t,n,a,d=""){for(const o of n){const n=(0,r.resolveRuleInheritance)(o);if(void 0!==t[n.itemprop])if(Array.isArray(n.rule))if(void 0===n.list)e(t[n.itemprop],n.rule,a,u(d,n.itemprop));else for(const r of t[n.itemprop])e(r,n.rule,a,u(d,n.itemprop));else if(void 0===n.list)a(u(d,n.itemprop),t[n.itemprop],n,t);else for(const e of t[n.itemprop])a(u(d,n.itemprop),e,n,t)}}(e,n.rule,(function(e,n,r){const u=function(e){return e.referenceToObj instanceof Set?"references":e.referenceToId instanceof Set?"idReferences":e.referenceToBlob?"blobs":e.referenceToClob?"clobs":null}(r);null!==u&&a[u].push(t(e,n))})),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrypt=d,t.deriveBinaryKey=async function(e,t,n=32){const r=new u.TextEncoder;return await d(r.encode(e),t,1024,8,1,n)};var r=n(28),u=n(23),a=n(0);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function d(e,t,n=1024,u=8,d=1,o=32){return new Promise((i,s)=>{(0,r.scrypt)(e,t,o,{N:n,r:u,p:d},(e,t)=>{if(e)return s((0,a.createError)("CRS-SCR1",e));i(new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInstanceName=function(){return g},t.getInstanceIdHash=function(){return b},t.getInstanceOwnerIdHash=function(){return y},t.initInstance=async function({name:e,email:t,secret:n,ownerName:a,wipeStorage:i=!1,encryptStorage:D=!1,directory:E,nHashCharsForSubDirs:v=0,initialRecipes:_=[],initiallyEnabledReverseMapTypes:w}){if(void 0!==g)throw(0,r.createError)("IN-INIT1",{iName:g});if(!(0,h.isString)(n)||""===n)throw(0,r.createError)("IN-INIT2",{iName:e});let S;m.send("log","Initializing "+e),b=await(0,p.calculateIdHashOfObj)({$type$:"Instance",name:e,owner:await(0,p.calculateIdHashOfObj)({$type$:"Person",email:t})}),await(0,l.initStorage)({instanceIdHash:b,wipeStorage:i,name:E||"data",nHashCharsForSubDirs:v,encryptStorage:D,secretForStorageKey:n});try{S=await(0,f.getObjectByIdHash)(b,"Instance"),await(0,u.authenticateOwner)(n,S.obj.owner,b)}catch(r){if("FileNotFoundError"!==r.name)throw r;S=await(0,o.createSingleObjectThroughImpurePlan)({module:"@one/instance-creator"},{name:e,email:t,secret:n,ownerName:a,initialRecipes:_,initiallyEnabledReverseMapTypes:w}),await(0,u.authenticateOwner)(n,S.obj.owner,S.idHash)}return await(0,u.loadInstanceKeys)(n,b),(await Promise.all((S.obj.recipe||[]).map(e=>(0,c.getObjectWithType)(e,"Recipe")))).filter(e=>!(0,d.hasRecipe)(e.name)).map(e=>(0,d.addRecipeToRuntime)(e)),S.obj.enabledReverseMapTypes.forEach((e,t)=>(0,s.addEnabledRvMapType)(t,e)),g=e,y=S.obj.owner,S.obj},t.registerRecipes=async function(e,t){e.filter(e=>!(0,d.hasRecipe)(e.name)).forEach(d.addRecipeToRuntime);const n=(0,h.isObject)(t)?t.createManyObjectsThroughPureSubPlan:o.createSingleObjectThroughPurePlan;return await n({module:"@one/instance-updater",versionMapPolicy:{"*":i.VERSION_UPDATES.NONE_IF_LATEST}},{recipes:e})},t.closeInstance=function(){(0,d.getKnownTypes)().forEach(e=>(0,d.removeRecipeFromRuntime)(e)),g=void 0,b=void 0,(0,s.clearRvMapTypes)()};var r=n(0),u=n(64),a=n(6),d=n(9),o=n(336),i=n(12),s=n(61),c=n(36),f=n(62),l=n(7),p=n(58),h=n(1);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const m=(0,a.createMessageBus)("instance");let g,b,y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createManyObjectsThroughPurePlan=async function(e,...t){return(await _(e,t)).results},t.createSingleObjectThroughPurePlan=async function(e,...t){const n=await _(e,t);if(1===n.results.length)return n.results[0];throw(0,r.createError)("PL-SOPP1",{module:e.module,nr:n.results.length})},t.createManyObjectsThroughImpurePlan=async function(e,...t){return(await w(e,t)).results},t.createSingleObjectThroughImpurePlan=async function(e,...t){const n=await w(e,t);if(1===n.results.length)return n.results[0];throw(0,r.createError)("PL-SOIP1",{module:e.module,nr:n.results.length})};var r=n(0),u=n(337),a=n(9),d=n(35),o=n(341),i=n(342),s=n(343),c=n(36),f=n(12),l=n(61),p=n(7),h=n(138),m=n(29),g=n(57),b=n(1);async function y(e,t,n,a){const o=(0,d.convertObjToMicrodata)(n);if(await(0,p.writeUTF8TextFile)(o,t,"tmp")===f.CREATION_STATUS.EXISTS)throw(0,r.createError)("PL-NP1",{planHash:t,module:e.module});const{api:i,writers:c}=(0,s.createPlanStorageAPI)(e,t,v,_,w),g=(0,u.requireModule)(e.module);if(!(0,b.isObject)(g)||!(0,b.isFunction)(g.createObjects))throw(0,r.createError)("PL-NP2",{planHash:t,module:e.module});const y=g.createObjects(i,...a);let D;try{const n=await(0,m.timeout)(e.timeout,y,`Plan ${t} (${e.module}) timed out`);D=Array.isArray(n)?n:void 0===n?[]:[n]}catch(e){try{await y}catch(e){}throw await(0,h.deleteFile)(t,"tmp"),e.planHash=t,e}const E=await
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2019
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
async function(e){const[t,n,r,u]=await Promise.all([(0,m.allSettled)(e.objects),(0,m.allSettled)(e.blobs),(0,m.allSettled)(e.clobs),(0,m.allSettled)(e.subPlans)]),a=[];return{objects:t.reduce((e,t)=>(t.status===m.AllSettledStatus.REJECTED?a.push(t.reason):e.push({reference:t.value.hash,type:t.value.obj.$type$,status:t.value.status,idHash:t.value.idHash,timestamp:t.value.timestamp}),e),[]),clobs:r.reduce((e,t)=>(t.status===m.AllSettledStatus.REJECTED?a.push(t.reason):e.push({reference:t.value.hash,status:t.value.status}),e),[]),blobs:n.reduce((e,t)=>(t.status===m.AllSettledStatus.REJECTED?a.push(t.reason):e.push({reference:t.value.hash,status:t.value.status}),e),[]),subPlans:u.reduce((e,t)=>(t.status===m.AllSettledStatus.REJECTED?a.push(t.reason):e.push(t.value.planHash),e),[]),errors:a}}(c);n.endTime=Date.now(),n.child=E.subPlans,n.object=E.objects,n.clob=E.clobs,n.blob=E.blobs,n.errors=E.errors,n.returns=D.map(e=>{if((0,b.isObject)(e)&&(0,b.isObject)(e.obj)&&(0,b.isString)(e.hash)&&(0,b.isString)(e.status)&&void 0!==E.objects.find(t=>t.reference===e.hash))return e.hash;throw(0,r.createError)("PL-NP3",{planHash:t,returnedResults:D})});const S=(0,d.convertObjToMicrodata)(n),C=await(0,p.writeUTF8TextFile)(S,t);return await Promise.all([(0,h.deleteFile)(t,"tmp"),(0,l.referenceObjectsHandler)(n,{hash:t,status:C})]),{plan:n,planHash:t,results:D}}let D=0;async function E(e,t,n){const r=Date.now(),a=await(0,u.load)(e.module);return{$type$:"Plan",parameters:(0,g.stringify)(n),impureParam:t?void 0:`${r}-${D++}`,moduleName:a.name,moduleHash:void 0===a.hash?void 0:a.hash,moduleDependency:a.moduleDependencies,namedDependency:a.namedDependencies,startTime:r}}function v(e){if(!(0,b.isObject)(e))throw(0,r.createError)("PL-CPLP1");if(void 0!==e.versionMapPolicy&&(!(0,b.isObject)(e.versionMapPolicy)||Object.keys(e.versionMapPolicy).some(e=>"*"!==e&&!(0,a.hasRecipe)(e))))throw(0,r.createError)("PL-CPLP2",{policy:e.versionMapPolicy})}async function _(e,t){v(e);const n=await E(e,!0,t),r=await(0,i.calculatePlanHash)(n);let u;try{u=await(0,c.getObjectWithType)(r,"Plan")}catch(e){if("FileNotFoundError"!==e.name)throw e}return void 0!==u?await(0,o.handleExistingPurePlan)(r,u,e):await y(e,r,n,t)}async function w(e,t){v(e);const n=await E(e,!1,t),r=await(0,i.calculatePlanHash)(n);return await y(e,r,n,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requireModule=h,t.load=async function(e){if(!(0,c.isString)(e))throw(0,r.createError)("ML-L1");return await(0,s.serializeWithType)("ModuleLoader.load",()=>g(e))};var r=n(0),u=n(6),a=n(338),d=n(62),o=n(339),i=n(7),s=n(29),c=n(1);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const f=(0,u.createMessageBus)("module-loader"),l=new Map,p=new Map;function h(e){const t=(0,a.translateRealToVirtualPath)(e),n=p.get(t.replace(/\.js$/,""));if(void 0===n)throw(0,r.createError)("ML-RM1",{mName:e,translatedPath:t});return n.exports}async function m(e,t){const n=l.get(e);if(n instanceof Promise)return await n;const r=async function(e,t){const n=await(0,i.readUTF8TextFile)(e),r={id:t,exports:{}};return(0,eval)(`(function moduleWrap(exports, require, module) {"use strict"; ${n}\n            //# sourceURL=${t}\n            });`)(r.exports,h,r),f.send("log",`Script ${t} loaded, exports: ${Object.keys(r.exports).join(", ")}`),r}(e,t);return l.set(e,r),await r}async function g(e){const t=e.replace(/\.js$/,""),n=p.get(t);if(void 0!==n)return n;let u,a;const i=t.split("/"),s=i.pop();switch(i[0]){case"@one":a=await(0,o.systemLoader)("./"+(void 0===i[1]?"":i[1]+"/")+s+".js");break;case"@module":try{u=await async function(e){const{obj:t,hash:n}=await(0,d.getObjectByIdObj)({$type$:"Module",name:e}),u=await Promise.all((t.requires||[]).map(e=>g(e))),a=u.reduce((e,t)=>{void 0===t.hash||e.includes(t.hash)||e.push(t.hash);for(const n of t.moduleDependencies)e.includes(n)||e.push(n);return e},[]),o=u.reduce((e,t)=>{void 0!==t.hash||e.includes(t.name)||e.push(t.name);for(const n of t.namedDependencies)e.includes(n)||e.push(n);return e},[]);if(void 0===t.code)throw(0,r.createError)("ML-LMFS1",{moduleObj:t});const{exports:i}=await m(t.code,e),s={name:e,exports:i,hash:n,moduleDependencies:a,namedDependencies:o};return f.send("log","Loaded module",s),s}(t)}catch(t){throw"FileNotFoundError"===t.name&&(t.message=`module-loader: Module "${e}" not found\n${t.message}`),t}break;default:a=await(0,o.systemLoader)(e)}return void 0===u&&(u={name:t,exports:a,hash:void 0,moduleDependencies:[],namedDependencies:[]}),p.set(t,u),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.translateRealToVirtualPath=d,t.createObjects=async function(e,{moduleName:t,version:n="1.0",code:r}){const d=await e.storeUTF8Clob(r);d.status===u.CREATION_STATUS.EXISTS&&a.send("log",`Code CLOB ${d.hash} already exists`);const o={$type$:"Module",name:"@module/"+t.replace(/\.js$/,""),provides:[],requires:i(r),version:n,code:d.hash};return await e.storeVersionedObject(o)};var r=n(6),u=n(12);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const a=(0,r.createMessageBus)("module-importer");function d(e){return e.startsWith("one.core/lib/")?e.replace(/^one\.core\/lib/,"@one"):e.startsWith("./")?e.replace(/^\.\//,"@module/"):e}const o=new RegExp(/require\s*\(\s*["']([^"']+)["']\s*\)/g);function i(e){const t=[];let n;for(;null!==(n=o.exec(e));)t.push(d(n[1]));return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.systemLoader=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function(e){return n(340)(e.includes("/")?(0,r.join)("..",e):e)};var r=n(4)},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=340},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleExistingPurePlan=async function(e,t,{versionMapPolicy:n={}}){if(!Array.isArray(t.returns))throw(0,r.createError)("PER-EPP1",{planHash:e});const s=t.returns.map(s=>{if(!Array.isArray(t.object))throw(0,r.createError)("PER-EPP2",{planHash:e});const c=t.object.find(e=>e.reference===s);if(c)return(0,u.isVersionedObjectType)(c.type)?async function(e,t,n){const s=e.idHash;if(void 0===s)throw(0,r.createError)("PER-CPV1",{previousResult:e});const c=await(0,d.getObject)(e.reference),f=await(0,i.createVersionMapOrAppendEntry)(s,t,e.reference,a.CREATION_STATUS.EXISTS,n[(0,u.ensureVersionedObjectTypeName)(e.type)]||n["*"]||a.VERSION_UPDATES.ALWAYS),l={obj:c,hash:e.reference,idHash:s,status:a.CREATION_STATUS.EXISTS,timestamp:f};return o.versionedObjEvent.dispatch(l),l}(c,e,n):
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
async function(e){const t={obj:await(0,d.getObject)(e.reference),hash:e.reference,status:a.CREATION_STATUS.EXISTS};return d.unversionedObjEvent.dispatch(t),t}(c);throw(0,r.createError)("PER-EPP3",{planHash:e,objHash:s})});return{plan:t,planHash:e,results:await Promise.all(s)}};var r=n(0),u=n(9),a=n(12),d=n(36),o=n(62),i=n(92)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePlanHash=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2019
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
async function(e){return await(0,r.createCryptoHash)(`<span itemscope itemtype="http://refin.io/Plan"><span itemprop="parameters">${e.parameters}</span>`+(void 0===e.impureParam?"":`<span itemprop="impureParam">${e.impureParam}</span>`)+`<span itemprop="moduleName">${e.moduleName}</span>`+(void 0===e.moduleHash?"":`<a itemprop="moduleHash" data-type="obj" href="${e.moduleHash}">${e.moduleHash}</a>`)+(void 0===e.moduleDependency?"":e.moduleDependency.map(e=>`<a itemprop="moduleDependency" data-type="obj" href="${e}">${e}</a>`).join(""))+(void 0===e.namedDependency?"":e.namedDependency.map(e=>`<span itemprop="namedDependency">${e}</span>`).join(""))+"</span>")};var r=n(42)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPlanStorageAPI=
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
function({versionMapPolicy:e={}},t,n,c,f){const l={objects:[],clobs:[],blobs:[],subPlans:[]};async function p(e){const t=(0,a.storeUnversionedObject)(e);return l.objects.push(t),await t}async function h(n){const r=(0,d.storeVersionedObject)(n,t,e[n.$type$]||e["*"]);return l.objects.push(r),await r}function m(e){return async function(t,...u){n(t);const a=e?c(t,u):f(t,u);l.subPlans.push(a);const d=await a,o=d.results.length;if(1===o)return d.results[0];throw(0,r.createError)("PSA-SO1",{module:t.module,nrResults:o})}}function g(e){return async(t,...r)=>{n(t);const u=e?c(t,r):f(t,r);l.subPlans.push(u);return(await u).results}}return{api:{storeUTF8Clob(e){const t=(0,o.storeUTF8Clob)(e);return l.clobs.push(t),t},storeArrayBufferAsBlob(e){const t=(0,i.createFileWriteStream)();return l.blobs.push(t.promise),t.write(e),t.end()},storeBase64StringAsBlob(e){const t=(0,i.createFileWriteStream)("base64");return l.blobs.push(t.promise),t.write(e),t.end()},createFileWriteStream(e){const t=(0,i.createFileWriteStream)(e);return l.blobs.push(t.promise),t},storeUnversionedObject:p,storeVersionedObject:h,storeObject:e=>(0,u.isVersionedObject)(e)?h(e):p(e),createSingleObjectThroughPureSubPlan:m(!0),createManyObjectsThroughPureSubPlan:g(!0),createSingleObjectThroughImpureSubPlan:m(!1),createManyObjectsThroughImpureSubPlan:g(!1),storeNodeJSReadStream:(0,s.isFunction)(i.storeNodeJSReadStream)?function(e){const t=(0,i.storeNodeJSReadStream)(e);return l.blobs.push(t),t}:void 0},writers:l}};var r=n(0),u=n(9),a=n(36),d=n(62),o=n(7),i=n(344),s=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileReadStream=function(e,t){if(void 0===e)throw(0,d.createError)("SST-CR1");const n=(0,u.createReadStream)((0,a.join)((0,f.normalizeFilename)(e)),{encoding:t}),r=(0,s.createTrackingPromise)(),o=(0,i.createEventSource)();return o.onListenerChange=(e,r)=>{if(1!==r&&(n.removeAllListeners("data"),n.pause()),r>1)throw(0,d.createError)("SST-CR2");0!==r&&(t?n.on("data",e=>o.dispatch(e)):n.on("data",e=>{0!==e.byteOffset||e.length<e.buffer.byteLength?o.dispatch(e.buffer.slice(e.byteOffset,e.byteOffset+e.length)):o.dispatch(e.buffer)}),n.resume())},n.on("error",t=>{"ENOENT"===t.code?r.reject((0,d.createError)("SST-CR3",{name:"FileNotFoundError",filename:e})):r.reject((0,d.createError)("SST-CR4",t))}),n.on("end",()=>{r.resolve()}),{encoding:t,onData:o.consumer,pause:()=>{n.pause()},resume:()=>{n.resume()},cancel:()=>{n.destroy((0,d.createError)("SST-CR6"))},promise:r.promise}},t.createFileWriteStream=function(e){const t=(0,o.createTempFileName)(),n=(0,r.createHash)("sha256"),i=(0,u.createWriteStream)((0,a.join)((0,f.getStorageDirForFileType)("tmp"),t),{encoding:e}),p=(0,s.createTrackingPromise)();function h(){return p.reject((0,d.createError)("SST-CAN")),new Promise((e,n)=>{i.once("error",e=>{n((0,d.createError)("SST-CAN1",e))}),i.end(()=>{(0,l.deleteFile)(t,"tmp").then(()=>e()).catch(e=>{n((0,d.createError)("SST-CAN2",e))})})})}return i.once("error",e=>{i.destroy(),(0,l.deleteFile)(t,"tmp").finally(()=>p.reject(e)).catch(e=>{})}),{write:function(t){let r;if((0,c.isString)(t)){if(void 0===e)return h().catch(e=>{}),p.reject((0,d.createError)("SST-CW2"));r=Buffer.from(t,e)}else{if(void 0!==e)return h().catch(e=>{}),p.reject((0,d.createError)("SST-CW3",{encoding:e}));r=Buffer.from(t)}n.update(r),i.write(r)},cancel:h,end:function(){return new Promise((e,r)=>{i.once("error",e=>{r((0,d.createError)("SST-WEND",e))}),i.once("finish",()=>{const u=n.digest("hex");g(t,u).then(t=>{const n={hash:u,status:t};p.resolve(n),e(n)}).catch(e=>{p.reject(e),r(e)})}),i.end()})},promise:p.promise}},t.storeNodeJSReadStream=function(e){return new Promise((t,n)=>{const i=(0,o.createTempFileName)(),s=(0,u.createWriteStream)((0,a.join)((0,f.getStorageDirForFileType)("tmp"),i)),c=(0,r.createHash)("sha256");s.once("error",e=>n((0,d.createError)("SST-STS1",e))),e.once("error",e=>n((0,d.createError)("SST-STS2",e))),s.once("finish",()=>{const e=c.digest("hex");g(i,e).then(n=>t({hash:e,status:n})).catch(e=>n((0,d.createError)("SST-STNODE",e)))}),e.on("data",e=>c.update(e)),e.pipe(s)})},t.USE_BASE64=void 0;var r=n(28),u=n(15),a=n(4),d=n(0),o=n(12),i=n(94),s=n(29),c=n(1),f=n(7),l=n(138);
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2017
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const{rename:p,stat:h,unlink:m}=u.promises;async function g(e,t){if(void 0===e||void 0===t)throw(0,d.createError)("SST-MV1",{oldName:e,newName:t});const n=(0,a.join)((0,f.getStorageDirForFileType)("tmp"),e),r=(0,a.join)((0,f.normalizeFilename)(t));return await h(r).then(t=>{if(t.isFile())return m(n).then(()=>o.CREATION_STATUS.EXISTS).catch(t=>{if("ENOENT"===t.code)throw(0,d.createError)("SST-MV2",{name:"FileNotFoundError",filename:e});throw(0,d.createError)("SST-MV6",t)});throw(0,d.createError)("SST-MV7",{old:n,new:r})}).catch(t=>{if("ENOENT"===t.code)return p(n,r).then(()=>o.CREATION_STATUS.NEW).catch(t=>{if("ENOENT"===t.code)throw(0,d.createError)("SST-MV3",{name:"FileNotFoundError",filename:e});throw(0,d.createError)("SST-MV4",t)});throw(0,d.createError)("SST-MV5",t)})}t.USE_BASE64=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.platform=void 0;
/**
 * @author Michael Hasenstein <hasenstein@yahoo.com>
 * @copyright REFINIO GmbH 2018
 * @license CC-BY-NC-SA-2.5; portions MIT License
 * @version 0.0.1
 */
const r=n(139).PLATFORMS.NODE_JS;t.platform=r},function(e,t,n){"use strict";n.r(t);var r=n(140),u=n.n(r),a=n(22),d=n.n(a),o=n(43),i=n.n(o),s=n(6);function c(e){try{return e&&e._socket?e._socket.remoteAddress.toString()+":"+e._socket.remotePort.toString():"<noinfo>"}catch(e){return"<noinfo>"}}var f=n(63);const l=Object(s.createMessageBus)("WebSocketPromiseBased");class p extends f.EventEmitter{constructor(e,t=1){super(),this.webSocket=e,this.dataQueue=[],this.socketOpenFn=null,this.dataAvailableFn=null,this.maxDataQueueSize=t,this.dataQueueOverflow=!1,this.defaultTimeout=-1,this.disableWaitForMessageInt=!1,this.webSocket.binaryType="arraybuffer";const n=this.handleOpen.bind(this),r=this.handleMessage.bind(this),u=this.handleClose.bind(this),a=this.handleError.bind(this);this.webSocket.addEventListener("open",n),this.webSocket.addEventListener("message",r),this.webSocket.addEventListener("close",u),this.webSocket.addEventListener("error",a),this.deregisterHandlers=()=>{this.webSocket&&(this.webSocket.removeEventListener("open",n),this.webSocket.removeEventListener("message",r),this.webSocket.removeEventListener("close",u),this.webSocket.removeEventListener("error",a))},l.send("debug",c(this.webSocket)+": constructor()")}set disableWaitForMessage(e){this.disableWaitForMessageInt=e,this.disableWaitForMessage&&this.dataAvailableFn&&this.dataAvailableFn(Error("Waiting for incoming messages has been disabled."))}get disableWaitForMessage(){return this.disableWaitForMessageInt}releaseWebSocket(){if(l.send("debug",c(this.webSocket)+": releaseWebSocket()"),!this.webSocket)throw Error("No websocket is bound to this instance.");this.deregisterHandlers();const e=this.webSocket;return this.webSocket=null,e}close(e){if(l.send("debug",`${c(this.webSocket)}: close(${e})`),this.webSocket){if(this.webSocket.readyState!==d.a.OPEN)return;e?this.webSocket.close(1e3,e):this.webSocket.close()}}async waitForOpen(e=-2){return l.send("debug",c(this.webSocket)+": waitForOpen()"),-2===e&&(e=this.defaultTimeout),new Promise((t,n)=>{if(this.webSocket)if(this.socketOpenFn)n(Error("Another call is already wating for the socket to open."));else if(this.webSocket.readyState!==d.a.OPEN){const r=e>-1?setTimeout(()=>{n(new Error("Timeout expired")),this.socketOpenFn=null},e):null;this.socketOpenFn=e=>{r&&clearTimeout(r),this.socketOpenFn=null,e?n(e):this.webSocket?this.webSocket.readyState===d.a.OPEN?t():n(new Error("Internal error: Websocket is not open, but open event happened.")):n(new Error("No websocket is bound to this instance."))}}else t();else n(new Error("No websocket is bound to this instance."))})}async send(e){return l.send("debug",`${c(this.webSocket)}: send(${JSON.stringify(e)})`),new Promise((t,n)=>{this.webSocket?(this.webSocket.send(e),t()):n(new Error("No websocket is bound to this instance."))})}async waitForJSONMessageWithType(e,t="type",n=-2){const r=await this.waitForJSONMessage(n);if(!r.hasOwnProperty(t))throw new Error(`Received message without a '${t}' member.`);if(r[t]!==e)throw new Error(`Received unexpected type '${r[t]}'. Expected type '${e}'.`);return r}async waitForJSONMessage(e=-2){const t=await this.waitForMessage(e);if("string"!=typeof t)throw new Error("Received message that is not a string.");let n;try{n=JSON.parse(t)}catch(e){throw new Error("Received message that does not conform to JSON: "+e.toString())}return n}async waitForBinaryMessage(e=-2){const t=await this.waitForMessage(e);if(!(t instanceof ArrayBuffer))throw new Error("Received message that is not a binary message.");return new Uint8Array(t)}async waitForMessage(e=-2){return l.send("debug",`${c(this.webSocket)}: waitForMessage(${e})`),-2===e&&(e=this.defaultTimeout),new Promise((t,n)=>{if(this.webSocket)if(this.dataAvailableFn)n(Error("Another call is already wating for a message."));else if(this.dataQueueOverflow)n(Error("The incoming message data queue overflowed."));else if(this.disableWaitForMessage)n(Error("Waiting for incoming messages was disabled."));else if(this.dataQueue.length>0){let e=this.dataQueue.shift();void 0!==e?t(e.data):n(new Error("Internal error: Queue is empty, but dataAvailable event happened."))}else{const r=e>-1?setTimeout(()=>{n(new Error("Timeout expired")),this.dataAvailableFn=null},e):null;this.dataAvailableFn=e=>{if(r&&clearTimeout(r),this.dataAvailableFn=null,e)return void n(e);let u=this.dataQueue.shift();void 0!==u?t(u.data):n(new Error("Internal error: Queue is empty, but dataAvailable event happened."))}}else n(new Error("No websocket is bound to this instance."))})}handleOpen(e){l.send("debug",c(this.webSocket)+": handleOpen()"),this.socketOpenFn&&this.socketOpenFn()}handleMessage(e){if(l.send("debug",`${c(this.webSocket)}: handleMessage(${e.data})`),this.emit("message",e),this.dataQueue.length>=this.maxDataQueueSize)return this.dataQueueOverflow=!0,void(this.dataAvailableFn&&this.dataAvailableFn(Error("The incoming message data queue overflowed.")));this.dataQueue.push(e),this.dataAvailableFn&&this.dataAvailableFn()}handleClose(e){l.send("debug",c(this.webSocket)+": handleClose()"),this.dataAvailableFn&&this.dataAvailableFn(new Error("Connection was closed: "+e.reason)),this.socketOpenFn&&this.socketOpenFn(new Error("Connection was closed: "+e.reason))}handleError(e){l.send("debug",c(this.webSocket)+": handleError()"),this.dataAvailableFn&&this.dataAvailableFn(e.error),this.socketOpenFn&&this.socketOpenFn(e.error)}}function h(e,t){return e.command===t&&("register"===t?void 0!==e.publicKey:"authentication_response"===t?void 0!==e.response:"comm_pong"===t||"communication_request"===t&&(void 0!==e.sourcePublicKey&&void 0!==e.targetPublicKey))}var m=n(30);const g=Object(s.createMessageBus)("CommunicationServerConnection_Server");var b=class{constructor(e){this.isPinging=!1,this.isWaitingForPong=!1,this.resolveStopPing=null,this.pingTimeoutHandle=null,this.webSocketPB=new p(e)}get webSocket(){if(!this.webSocketPB.webSocket)throw new Error("No Websocket is assigned to connection.");return this.webSocketPB.webSocket}releaseWebSocket(){return this.webSocketPB.releaseWebSocket()}close(e){return this.webSocketPB.close(e)}set requestTimeout(e){this.webSocketPB.defaultTimeout=e}get requestTimeout(){return this.webSocketPB.defaultTimeout}async sendAuthenticationRequestMessage(e,t){await this.sendMessage({command:"authentication_request",publicKey:e,challenge:t})}async sendAuthenticationSuccessMessage(e){await this.sendMessage({command:"authentication_success",pingInterval:e})}async sendConnectionHandoverMessage(){await this.sendMessage({command:"connection_handover"})}async sendPingMessage(){await this.sendMessage({command:"comm_ping"})}async sendCommunicationRequestMessage(e,t){await this.sendMessage({command:"communication_request",sourcePublicKey:e,targetPublicKey:t})}startPingPong(e,t){if(g.send("debug",`${c(this.webSocket)}: startPingPong(${e}, ${t})`),this.isPinging)throw new Error("Already ping / ponging");this.isPinging=!0;const n=async()=>{try{if(!this.isPinging)return void(this.resolveStopPing&&this.resolveStopPing());let r=null;try{this.isWaitingForPong=!0,await this.sendPingMessage(),r=setTimeout(()=>{this.close("Pong Timeout")},t),await this.waitForMessage("comm_pong"),this.isWaitingForPong=!1,clearTimeout(r),this.resolveStopPing&&this.resolveStopPing()}catch(e){throw this.isWaitingForPong=!1,r&&clearTimeout(r),this.resolveStopPing&&this.resolveStopPing(),e}this.isPinging&&(this.pingTimeoutHandle=setTimeout(()=>{this.pingTimeoutHandle=null,n()},e))}catch(e){this.close(),this.resolveStopPing&&this.resolveStopPing()}};n()}async stopPingPong(){if(g.send("log",c(this.webSocket)+": stopPingPong()"),this.resolveStopPing)throw new Error("Somebody else already requested stopping ping / pong.");this.isPinging&&(await new Promise(e=>{this.isPinging=!1,this.pingTimeoutHandle&&clearTimeout(this.pingTimeoutHandle),this.isWaitingForPong?this.resolveStopPing=e:e()}),this.resolveStopPing=null)}async waitForAnyMessage(){const e=this.unpackBinaryFields(await this.webSocketPB.waitForJSONMessage());if(h(e,e.command))return e;throw Error("Received data does not match the data of a client message.")}async waitForMessage(e){const t=this.unpackBinaryFields(await this.webSocketPB.waitForJSONMessageWithType(e,"command"));if(h(t,e))return t;throw Error("Received data does not match the data expected for command '"+e+"'")}async sendMessage(e){await this.webSocketPB.waitForOpen(),await this.webSocketPB.send(JSON.stringify(e,(function(e,t){return t.constructor===Uint8Array?Object(m.fromByteArray)(t):t})))}unpackBinaryFields(e){if("string"!=typeof e.command)throw Error("Parsing message failed!");return"register"===e.command&&e.publicKey&&"string"==typeof e.publicKey&&(e.publicKey=Object(m.toByteArray)(e.publicKey)),"authentication_response"===e.command&&e.response&&"string"==typeof e.response&&(e.response=Object(m.toByteArray)(e.response)),"communication_request"===e.command&&(e.sourcePublicKey&&"string"==typeof e.sourcePublicKey&&(e.sourcePublicKey=Object(m.toByteArray)(e.sourcePublicKey)),e.targetPublicKey&&"string"==typeof e.targetPublicKey&&(e.targetPublicKey=Object(m.toByteArray)(e.targetPublicKey))),e}},y=n(64);const D=Object(s.createMessageBus)("WebSocketListener");var E;!function(e){e[e.NotListening=0]="NotListening",e[e.Starting=1]="Starting",e[e.Listening=2]="Listening",e[e.ShuttingDown=3]="ShuttingDown"}(E||(E={}));var v=class{constructor(){this.onConnection=null,this.onStateChange=null,this.webSocketServer=null,this.state=E.NotListening}async start(e,t){if(this.webSocketServer)throw Error("Communication server is already running.");D.send("log",`Starting WebSocket server at ${e}:${t}`),this.changeCurrentState(E.Starting);try{this.webSocketServer=new d.a.Server({host:e,port:t}),await new Promise((e,t)=>{this.webSocketServer?(this.webSocketServer.on("listening",()=>{this.webSocketServer&&this.webSocketServer.removeAllListeners(),e()}),this.webSocketServer.on("error",e=>{this.webSocketServer&&(this.webSocketServer.removeAllListeners(),this.webSocketServer=null),t(e)})):t(new Error("Web server instance not existing! This cannot happen, but TS demands this check"))}),this.webSocketServer.on("connection",this.acceptConnection.bind(this)),this.webSocketServer.on("error",this.stop.bind(this)),this.changeCurrentState(E.Listening),D.send("log","Successful started WebSocket server")}catch(e){this.changeCurrentState(E.NotListening,e.toString())}}async stop(){D.send("log","Stopping WebSocket server"),this.changeCurrentState(E.ShuttingDown),await new Promise(e=>{this.webSocketServer&&this.webSocketServer.close(()=>{this.webSocketServer=null,e()})}),this.changeCurrentState(E.NotListening),D.send("log","Stopped WebSocket server")}async acceptConnection(e){D.send("log",c(e)+": Accepted WebSocket");try{this.onConnection&&this.onConnection(e)}catch(t){D.send("log",`${c(e)}: ${t}`),e.close()}}changeCurrentState(e,t){const n=this.state;if(this.state=e,this.onStateChange&&e!=n)try{this.onStateChange(e,n,t)}catch(e){D.send("log","Error calling onStateChange handler: "+e)}}};const _=Object(s.createMessageBus)("CommunicationServer");var w=class{constructor(){this.webSocketListener=new v,this.keyPair=i.a.box.keyPair(),this.listeningConnectionsMap=new Map,this.openedConnections=new Set,this.pingInterval=5e3,this.pongTimeout=1e3,this.webSocketListener.onConnection=this.acceptConnection.bind(this)}async start(e,t,n=5e3,r=1e3){this.pingInterval=n,this.pongTimeout=r,await this.webSocketListener.start(e,t)}async stop(){await this.webSocketListener.stop(),_.send("log","Closing remaining connections");for(const e of this.listeningConnectionsMap.values())for(const t of e)t.conn.close();for(const e of this.openedConnections)e.readyState===d.a.OPEN&&e.close();_.send("log","Closing remaining connections done")}async acceptConnection(e){_.send("log",c(e)+": Accepted WebSocket - Waiting for message");try{const t=new b(e),n=await t.waitForAnyMessage();if(h(n,"register")){_.send("log",`${c(e)}: Registering connection for ${Buffer.from(n.publicKey).toString("hex")}`),_.send("log",c(e)+": Register Step 1: Sending auth request");const r=i.a.randomBytes(64),u=Object(y.encryptWithPublicKey)(n.publicKey,r,this.keyPair.secretKey);await t.sendAuthenticationRequestMessage(this.keyPair.publicKey,u),_.send("log",c(e)+": Register Step 2: Waiting for auth response");const a=await t.waitForMessage("authentication_response"),d=Object(y.decryptWithPublicKey)(n.publicKey,a.response,this.keyPair.secretKey);if(!i.a.verify(d,r))throw new Error("Client authentication failed.");_.send("log",c(e)+": Register Step 2: Authentication successful"),this.pushListeningConnection(n.publicKey,t),await t.sendAuthenticationSuccessMessage(this.pingInterval),_.send("log",c(e)+": Register Step 3: Starting Ping Pong"),t.startPingPong(this.pingInterval,this.pongTimeout)}else{if(!h(n,"communication_request"))throw new Error("Received unexpected or malformed message from client.");{_.send("log",`${c(e)}: Requesting Relay to ${Buffer.from(n.targetPublicKey).toString("hex")}`);const r=this.popListeningConnection(n.targetPublicKey);_.send("log",c(e)+": Relay Step 1: Stop ping pong"),await r.stopPingPong(),_.send("log",c(e)+": Relay Step 2: Send Handover"),await r.sendConnectionHandoverMessage(),_.send("log",c(e)+": Relay Step 3: Forward connection request"),await r.sendCommunicationRequestMessage(n.sourcePublicKey,n.targetPublicKey),_.send("log",c(e)+": Relay Step 4: Connect both sides");let u=t.releaseWebSocket(),a=r.releaseWebSocket();u.addEventListener("message",e=>{a.send(e.data)}),a.addEventListener("message",e=>{u.send(e.data)}),u.addEventListener("error",e=>{_.send("log",`${c(u)}: Error - ${e}`)}),a.addEventListener("error",e=>{_.send("log",`${c(a)}: Error - ${e}`)}),u.addEventListener("close",e=>{this.openedConnections.delete(u),_.send("log",`${c(u)}: Relay closed - ${e.reason}`),a.close(1e3,"Closed by relay: "+e.reason)}),a.addEventListener("close",e=>{this.openedConnections.delete(a),_.send("log",`${c(a)}: Relay closed - ${e.reason}`),u.close(1e3,"Closed by relay: "+e.reason)}),this.openedConnections.add(u),this.openedConnections.add(a)}}}catch(t){_.send("log",`${c(e)}: ${t}`),e.close()}}pushListeningConnection(e,t){const n=Buffer.from(e).toString("hex");_.send("debug",`${c(t.webSocket)}: pushListeningConnection(${n})`);const r=this.removeListeningConnection.bind(this,e,t);t.webSocket.addEventListener("close",r);const u={conn:t,removeEventListeners:()=>{t.webSocket.removeEventListener("close",r)}},a=this.listeningConnectionsMap.get(n);a?a.push(u):this.listeningConnectionsMap.set(n,[u])}removeListeningConnection(e,t){const n=Buffer.from(e).toString("hex");_.send("debug",`${c(t.webSocket)}: removeListeningConnection(${n})`);const r=this.listeningConnectionsMap.get(n);r&&this.listeningConnectionsMap.set(n,r.filter(e=>e.conn!=t))}popListeningConnection(e){const t=Buffer.from(e).toString("hex");_.send("debug",`popListeningConnection(${t})`);const n=this.listeningConnectionsMap.get(t);if(!n)throw new Error("No listening connection for the specified publicKey.");n.length<=1&&this.listeningConnectionsMap.delete(t);const r=n.pop();if(!r)throw new Error("No listening connection for the specified publicKey. This error should never happen!");return _.send("debug",`${c(r.conn.webSocket)}: popListeningConnection(${t}) - Returned`),r.removeEventListeners(),r.conn}},S=n(95);(async function(){const e=u.a.alias("h","host").describe("h","host to bind the listening port to").default("h","localhost").alias("p","port").describe("p","Port to listen on").default("p",8e3).describe("tp","Ping interval").default("tp",5e3).describe("l","Enable logger").boolean("l").describe("d","Enable logger (all)").boolean("d").argv;e.l&&S.start({types:["log","debug"]}),e.d&&S.start();const t=new w;await t.start(e.h,e.p),process.on("SIGINT",()=>{t.stop()})})().catch(e=>{console.log("Error happened: "+e.toString())})}]);